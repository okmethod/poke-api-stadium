import{c as e}from"./type.DlO2-6e_.js";async function a(e,a,t){try{const n=await e(a,t);if(!n.ok)throw console.error("API response:",n.status),new Error(`Failed to fetch: ${t.method} ${a}`);return n}catch(n){throw console.error("API error:",n),new Error(`Failed to fetch: ${t.method} ${a}`)}}async function t(e,t){return async function(e,t){const n={credentials:"same-origin",method:"GET"},s=await a(e,t,n);return await s.json()}(e,`https://pokeapi.co/api/v2/pokemon/${t}`)}async function n(e,a){return s(e,`https://pokeapi.co/api/v2/type/${a}`)}async function s(e,t){const n={...{credentials:"same-origin"},method:"GET"},s=await a(e,t,n);return await s.json()}function r(e){let a=[];if("object"==typeof e&&null!==e)for(const t in e){const n=e[t];"string"==typeof n?a.push(n):"object"==typeof n&&null!==n&&(a=a.concat(r(n)))}return a}function i(e){let a=r(e);return e.front_default&&(a=[e.front_default,...a.filter((a=>a!==e.front_default))]),a}function o(e){const a={};return e.forEach((e=>{switch(e.stat.name){case"hp":a.hp=e.base_stat;break;case"attack":a.attack=e.base_stat;break;case"defense":a.defense=e.base_stat;break;case"special-attack":a.specialAttack=e.base_stat;break;case"special-defense":a.specialDefense=e.base_stat;break;case"speed":a.speed=e.base_stat}})),a}function l(e){var a;return{jaName:e.jaName,jaGenus:e.jaGenus,imageUrl:e.imageUrl,imageBackUrl:e.imageBackUrl,gifUrl:e.gifUrl,gifBackUrl:e.gifBackUrl,oggUrl:e.oggUrl,oggLegacyUrl:e.oggLegacyUrl,type1Name:e.type1.enName,type2Name:(null==(a=e.type2)?void 0:a.enName)??null,height:e.height,weight:e.weight,stats:e.stats}}async function c(n,r){const l=await t(n,r),c=await async function(e,t){const n={credentials:"same-origin",method:"GET"},s=await a(e,t,n);return await s.json()}(n,l.species.url);return function(a,t,n,s){var r,l,c;return{id:a.id,enName:a.species.name,jaName:(null==(r=t.names.find((e=>"ja"===e.language.name)))?void 0:r.name)??"???",imageUrl:a.sprites.front_default,imageBackUrl:a.sprites.back_default??null,gifUrl:a.sprites.other.showdown.front_default??null,gifBackUrl:a.sprites.other.showdown.back_default??null,oggUrl:a.cries.latest,oggLegacyUrl:a.cries.legacy,imageUrlArray:i(a.sprites),jaGenus:(null==(l=t.genera.find((e=>"ja"===e.language.name)))?void 0:l.genus)??null,type1:e(n),type2:s?e(s):null,height:a.height,weight:a.weight,stats:o(a.stats),varieties:t.varieties.filter((e=>e.pokemon.name!==a.species.name)).map((e=>e.pokemon.name)),generation:t.generation.name,shape:(null==(c=t.shape)?void 0:c.name)??null,isDefault:a.is_default,isBaby:t.is_baby,isLegendary:t.is_legendary,isMythical:t.is_mythical}}(l,c,await s(n,l.types[0].type.url),l.types[1]?await s(n,l.types[1].type.url):null)}export{l as c,n as g,c as m};
