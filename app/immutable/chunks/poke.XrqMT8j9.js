function o(){return{credentials:"same-origin"}}async function u(e,t,a){try{const n=await e(t,a);if(!n.ok)throw console.error("API response:",n.status),new Error(`Failed to fetch: ${a.method} ${t}`);return n}catch(n){throw console.error("API error:",n),new Error(`Failed to fetch: ${a.method} ${t}`)}}async function y(e,t){const a=`https://pokeapi.co/api/v2/pokemon/${t}`;return g(e,a)}async function g(e,t){const n={...o(),method:"GET"};return await(await u(e,t,n)).json()}async function d(e,t){const n={...o(),method:"GET"};return await(await u(e,t,n)).json()}async function k(e,t){const a=`https://pokeapi.co/api/v2/type/${t}`;return i(e,a)}async function i(e,t){const n={...o(),method:"GET"};return await(await u(e,t,n)).json()}function f(e){let t=[];if(typeof e=="object"&&e!==null)for(const a in e){const n=e[a];typeof n=="string"?t.push(n):typeof n=="object"&&n!==null&&(t=t.concat(f(n)))}return t}function h(e){let t=f(e);return e.front_default&&(t=[e.front_default,...t.filter(a=>a!==e.front_default)]),t}function m(e){const t={};return e.forEach(a=>{switch(a.stat.name){case"hp":t.hp=a.base_stat;break;case"attack":t.attack=a.base_stat;break;case"defense":t.defense=a.base_stat;break;case"special-attack":t.specialAttack=a.base_stat;break;case"special-defense":t.specialDefense=a.base_stat;break;case"speed":t.speed=a.base_stat;break}}),t}function w(e,t,a,n){var s,c,l,p;return{id:e.id,enName:e.species.name,jaName:((s=t.names.find(r=>r.language.name==="ja"))==null?void 0:s.name)??"???",imageUrlArray:h(e.sprites),jaGenus:((c=t.genera.find(r=>r.language.name==="ja"))==null?void 0:c.genus)??"???",type1:{id:a.id,enName:e.types[0].type.name,jaName:((l=a.names.find(r=>r.language.name==="ja"))==null?void 0:l.name)??"???"},type2:n!==null?{id:n.id,enName:e.types[1].type.name,jaName:((p=n.names.find(r=>r.language.name==="ja"))==null?void 0:p.name)??"???"}:null,height:e.height,weight:e.weight,stats:m(e.stats)}}async function I(e,t){const a=await y(e,t),n=await d(e,a.species.url),s=await i(e,a.types[0].type.url),c=a.types[1]?await i(e,a.types[1].type.url):null;return w(a,n,s,c)}const b=1025;export{b as L,k as a,I as g};
