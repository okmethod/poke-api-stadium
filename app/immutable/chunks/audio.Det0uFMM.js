import{w as t}from"./index.C9jHULgQ.js";import{u as e,v as o,B as i}from"./scheduler.CTGz0PnT.js";const n={message:"Missing Toast Message",autohide:!0,timeout:5e3},s="toastStore";function a(){const t=e(s);if(!t)throw new Error("toastStore is not initialized. Please ensure that `initializeStores()` is invoked in the root layout file of this app!");return t}function r(){const e=function(){const{subscribe:e,set:o,update:i}=t([]),s=t=>i((e=>{if(e.length>0){const o=e.findIndex((e=>e.id===t)),i=e[o];i&&(i.callback&&i.callback({id:t,status:"closed"}),i.timeoutId&&clearTimeout(i.timeoutId),e.splice(o,1))}return e}));function a(t){if(!0===t.autohide)return setTimeout((()=>{s(t.id)}),t.timeout)}return{subscribe:e,close:s,trigger:t=>{const e=function(){const t=Math.random();return Number(t).toString(32)}();return i((o=>{t&&t.callback&&t.callback({id:e,status:"queued"}),t.hideDismiss&&(t.autohide=!0);const i={...n,...t,id:e};return i.timeoutId=a(i),o.push(i),o})),e},freeze:t=>i((e=>(e.length>0&&clearTimeout(e[t].timeoutId),e))),unfreeze:t=>i((e=>(e.length>0&&(e[t].timeoutId=a(e[t])),e))),clear:()=>o([])}}();return o(s,e)}const u="undefined"!=typeof localStorage&&"true"===localStorage.getItem("audioOn"),c=t(u??!1);function l(t){if(i(c)&&null!==t){new Audio(t).play().catch((t=>{console.warn("Audio playback failed:",t)}))}}c.subscribe((t=>{"undefined"!=typeof localStorage&&localStorage.setItem("audioOn",t.toString())}));export{c as a,a as g,r as i,l as p};
