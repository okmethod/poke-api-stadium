import{b as r}from"./paths.DuqL8wY2.js";const l=!1;function a(n,e){const s=URL.createObjectURL(n),o=document.createElement("a");o.href=s,o.download=e,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(s)}function d(n,e,s){const o=new Blob([n],{type:s});a(o,e)}async function i(n,e){const o=new Blob([n],{type:e}).stream().pipeThrough(new CompressionStream("gzip"));return await new Response(o).blob()}async function p(n){const e=n.stream().pipeThrough(new DecompressionStream("gzip"));return await(await new Response(e).blob()).text()}async function b(n,e,s){const o=await i(n,s);a(o,e+".gz")}async function w(n,e,s){console.log("downloading:",e);try{s?await b(n,e,"application/json"):d(n,e,"application/json")}catch(o){throw console.error(`failed to download ${e}:`,o),o}}async function u(n,e){const s=`${r}/${e}`;console.log("loading: ",s);try{const t=await(await n(s)).blob();let c;return l||(c=await p(t)),JSON.parse(c)}catch(o){throw console.error(`failed to load ${s}:`,o),o}}export{w as d,u as l};
