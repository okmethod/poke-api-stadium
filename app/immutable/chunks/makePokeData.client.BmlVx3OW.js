function c(){return{credentials:"same-origin"}}async function u(e,t,a){try{const n=await e(t,a);if(!n.ok)throw console.error("API response:",n.status),new Error(`Failed to fetch: ${a.method} ${t}`);return n}catch(n){throw console.error("API error:",n),new Error(`Failed to fetch: ${a.method} ${t}`)}}async function f(e,t){const a=`https://pokeapi.co/api/v2/pokemon/${t}`;return m(e,a)}async function m(e,t){const n={...c(),method:"GET"};return await(await u(e,t,n)).json()}async function d(e,t){const n={...c(),method:"GET"};return await(await u(e,t,n)).json()}async function k(e,t){const a=`https://pokeapi.co/api/v2/type/${t}`;return i(e,a)}async function i(e,t){const n={...c(),method:"GET"};return await(await u(e,t,n)).json()}var h=(e=>(e.Normal="normal",e.Fighting="fighting",e.Flying="flying",e.Poison="poison",e.Ground="ground",e.Rock="rock",e.Bug="bug",e.Ghost="ghost",e.Steel="steel",e.Fire="fire",e.Water="water",e.Grass="grass",e.Electric="electric",e.Psychic="psychic",e.Ice="ice",e.Dragon="dragon",e.Dark="dark",e.Fairy="fairy",e.Unknown="unknown",e))(h||{});function l(e){var t;return{id:e.id,enName:e.name,jaName:((t=e.names.find(a=>a.language.name==="ja"))==null?void 0:t.name)??"???",damageRelations:{doubleDamageFrom:e.damage_relations.double_damage_from.map(a=>a.name),doubleDamageTo:e.damage_relations.double_damage_to.map(a=>a.name),halfDamageFrom:e.damage_relations.half_damage_from.map(a=>a.name),halfDamageTo:e.damage_relations.half_damage_to.map(a=>a.name),noDamageFrom:e.damage_relations.no_damage_from.map(a=>a.name),noDamageTo:e.damage_relations.no_damage_to.map(a=>a.name)}}}function g(e){let t=[];if(typeof e=="object"&&e!==null)for(const a in e){const n=e[a];typeof n=="string"?t.push(n):typeof n=="object"&&n!==null&&(t=t.concat(g(n)))}return t}function _(e){let t=g(e);return e.front_default&&(t=[e.front_default,...t.filter(a=>a!==e.front_default)]),t}function w(e){const t={};return e.forEach(a=>{switch(a.stat.name){case"hp":t.hp=a.base_stat;break;case"attack":t.attack=a.base_stat;break;case"defense":t.defense=a.base_stat;break;case"special-attack":t.specialAttack=a.base_stat;break;case"special-defense":t.specialDefense=a.base_stat;break;case"speed":t.speed=a.base_stat;break}}),t}function p(e,t,a,n){var r,s;return{id:e.id,enName:e.species.name,jaName:((r=t.names.find(o=>o.language.name==="ja"))==null?void 0:r.name)??"???",imageUrlArray:_(e.sprites),jaGenus:((s=t.genera.find(o=>o.language.name==="ja"))==null?void 0:s.genus)??"???",type1:l(a),type2:n?l(n):null,height:e.height,weight:e.weight,stats:w(e.stats)}}function b(e){var t;return{jaName:e.jaName,imageUrl:e.imageUrlArray[0],type1Name:e.type1.enName,type2Name:((t=e.type2)==null?void 0:t.enName)??null,height:e.height,weight:e.weight,stats:e.stats}}async function y(e,t){const a=await f(e,t),n=await d(e,a.species.url),r=await i(e,a.types[0].type.url),s=a.types[1]?await i(e,a.types[1].type.url):null;return p(a,n,r,s)}export{h as T,l as a,b as c,k as g,y as m};
