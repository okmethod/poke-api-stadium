import{s as ct,C as Ae,j as L,d as i,o as bt,e as p,t as Be,a as P,c as m,b as v,g as Ie,f as N,h as d,k as n,u as ve,l as Fe,q as Le,p as Z,v as Se,r as gt,n as ce}from"../chunks/scheduler.BPg7dSPB.js";import{S as ft,i as dt,a as F,g as be,t as T,c as ge,b as fe,d as de,m as he,e as pe}from"../chunks/index._8EpcAMb.js";import{e as ie}from"../chunks/each.yeTm-KmZ.js";import{g as ht}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.CLQyjmpd.js";import{I as we,L as Dt,p as kt,g as xt,b as Ct}from"../chunks/numerics.lbVA-mr_.js";import{P as pt}from"../chunks/PokeCardCompact.BrpOg-RV.js";function lt(s,e,t){const l=s.slice();return l[6]=e[t],l}function st(s){let e,t,l,a,r,_,c,b,f,C,h,k,I,V,E,w=ie(s[1]),x=[];for(let y=0;y<w.length;y+=1)x[y]=at(lt(s,w,y));return k=new we({props:{icon:"mdi:close",class:"w-5 h-5"}}),{c(){e=p("div"),t=p("div"),l=p("div"),a=p("div"),r=p("h2"),_=Be(s[0]),c=P(),b=p("div"),f=p("ul");for(let y=0;y<x.length;y+=1)x[y].c();C=P(),h=p("button"),fe(k.$$.fragment),this.h()},l(y){e=m(y,"DIV",{class:!0,"data-parent":!0});var $=v(e);t=m($,"DIV",{class:!0});var g=v(t);l=m(g,"DIV",{class:!0});var M=v(l);a=m(M,"DIV",{class:!0});var H=v(a);r=m(H,"H2",{class:!0});var ee=v(r);_=Ie(ee,s[0]),ee.forEach(i),c=N(H),b=m(H,"DIV",{class:!0});var O=v(b);f=m(O,"UL",{class:!0});var me=v(f);for(let j=0;j<x.length;j+=1)x[j].l(me);me.forEach(i),O.forEach(i),H.forEach(i),M.forEach(i),C=N(g),h=m(g,"BUTTON",{class:!0});var te=v(h);de(k.$$.fragment,te),te.forEach(i),g.forEach(i),$.forEach(i),this.h()},h(){d(r,"class","text-2xl font-bold"),d(f,"class","mt-4 list-decimal list-inside"),d(b,"class","overflow-y-auto flex-grow"),d(a,"class","p-4 flex flex-col h-full"),d(l,"class","w-96 h-96 bg-white"),d(h,"class","absolute top-1 right-6 z-10"),d(t,"class","relative"),d(e,"class","min-w-[400px]"),d(e,"data-parent",s[2])},m(y,$){L(y,e,$),n(e,t),n(t,l),n(l,a),n(a,r),n(r,_),n(a,c),n(a,b),n(b,f);for(let g=0;g<x.length;g+=1)x[g]&&x[g].m(f,null);n(t,C),n(t,h),he(k,h,null),I=!0,V||(E=ve(h,"click",s[5]),V=!0)},p(y,$){if((!I||$&1)&&Fe(_,y[0]),$&2){w=ie(y[1]);let g;for(g=0;g<w.length;g+=1){const M=lt(y,w,g);x[g]?x[g].p(M,$):(x[g]=at(M),x[g].c(),x[g].m(f,null))}for(;g<x.length;g+=1)x[g].d(1);x.length=w.length}(!I||$&4)&&d(e,"data-parent",y[2])},i(y){I||(F(k.$$.fragment,y),I=!0)},o(y){T(k.$$.fragment,y),I=!1},d(y){y&&i(e),Le(x,y),pe(k),V=!1,E()}}}function at(s){let e,t=s[6].jaName+"",l;return{c(){e=p("li"),l=Be(t)},l(a){e=m(a,"LI",{});var r=v(e);l=Ie(r,t),r.forEach(i)},m(a,r){L(a,e,r),n(e,l)},p(a,r){r&2&&t!==(t=a[6].jaName+"")&&Fe(l,t)},d(a){a&&i(e)}}}function Et(s){let e,t,l=s[3][0]&&st(s);return{c(){l&&l.c(),e=Ae()},l(a){l&&l.l(a),e=Ae()},m(a,r){l&&l.m(a,r),L(a,e,r),t=!0},p(a,[r]){a[3][0]?l?(l.p(a,r),r&8&&F(l,1)):(l=st(a),l.c(),F(l,1),l.m(e.parentNode,e)):l&&(be(),T(l,1,1,()=>{l=null}),ge())},i(a){t||(F(l),t=!0)},o(a){T(l),t=!1},d(a){a&&i(e),l&&l.d(a)}}}function wt(s,e,t){let l,{title:a}=e,{pokeDataArray:r=[]}=e,{parent:_}=e;const c=ht();bt(s,c,f=>t(3,l=f));function b(){c.close()}return s.$$set=f=>{"title"in f&&t(0,a=f.title),"pokeDataArray"in f&&t(1,r=f.pokeDataArray),"parent"in f&&t(2,_=f.parent)},[a,r,_,l,c,b]}class yt extends ft{constructor(e){super(),dt(this,e,wt,Et,ct,{title:0,pokeDataArray:1,parent:2})}}function rt(s,e,t){const l=s.slice();return l[11]=e[t],l[13]=t,l}function nt(s,e,t){const l=s.slice();return l[11]=e[t],l[13]=t,l}function At(s){let e;return{c(){e=p("p"),this.h()},l(t){e=m(t,"P",{class:!0}),v(e).forEach(i),this.h()},h(){d(e,"class","h-[150px] w-[150px]")},m(t,l){L(t,e,l)},p:ce,i:ce,o:ce,d(t){t&&i(e)}}}function Bt(s){let e,t,l,a,r;return t=new pt({props:{pokeData:s[11].data}}),{c(){e=p("button"),fe(t.$$.fragment),this.h()},l(_){e=m(_,"BUTTON",{type:!0});var c=v(e);de(t.$$.fragment,c),c.forEach(i),this.h()},h(){d(e,"type","button")},m(_,c){L(_,e,c),he(t,e,null),l=!0,a||(r=ve(e,"click",s[5](s[13])),a=!0)},p(_,c){s=_;const b={};c&4&&(b.pokeData=s[11].data),t.$set(b)},i(_){l||(F(t.$$.fragment,_),l=!0)},o(_){T(t.$$.fragment,_),l=!1},d(_){_&&i(e),pe(t),a=!1,r()}}}function ot(s){let e,t,l,a,r;const _=[Bt,At],c=[];function b(f,C){return f[11].isUsed?1:0}return t=b(s),l=c[t]=_[t](s),{c(){e=p("div"),l.c(),a=P(),this.h()},l(f){e=m(f,"DIV",{class:!0});var C=v(e);l.l(C),a=N(C),C.forEach(i),this.h()},h(){d(e,"class","rounded-2xl border-2")},m(f,C){L(f,e,C),c[t].m(e,null),n(e,a),r=!0},p(f,C){let h=t;t=b(f),t===h?c[t].p(f,C):(be(),T(c[h],1,1,()=>{c[h]=null}),ge(),l=c[t],l?l.p(f,C):(l=c[t]=_[t](f),l.c()),F(l,1),l.m(e,a))},i(f){r||(F(l),r=!0)},o(f){T(l),r=!1},d(f){f&&i(e),c[t].d()}}}function It(s){let e;return{c(){e=p("p"),this.h()},l(t){e=m(t,"P",{class:!0}),v(e).forEach(i),this.h()},h(){d(e,"class","h-[150px] w-[150px]")},m(t,l){L(t,e,l)},p:ce,i:ce,o:ce,d(t){t&&i(e)}}}function Ft(s){let e,t;return e=new pt({props:{pokeData:s[11].data}}),{c(){fe(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p(l,a){const r={};a&1&&(r.pokeData=l[11].data),e.$set(r)},i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function Vt(s){let e,t="→";return{c(){e=p("span"),e.textContent=t,this.h()},l(l){e=m(l,"SPAN",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-lfd2u9"&&(e.textContent=t),this.h()},h(){d(e,"class","mx-2")},m(l,a){L(l,e,a)},d(l){l&&i(e)}}}function ut(s){let e,t,l,a,r,_;const c=[Ft,It],b=[];function f(h,k){return h[11]?0:1}t=f(s),l=b[t]=c[t](s);let C=s[13]<2&&Vt();return{c(){e=p("div"),l.c(),a=P(),C&&C.c(),r=Ae(),this.h()},l(h){e=m(h,"DIV",{class:!0});var k=v(e);l.l(k),k.forEach(i),a=N(h),C&&C.l(h),r=Ae(),this.h()},h(){d(e,"class","rounded-2xl border-2")},m(h,k){L(h,e,k),b[t].m(e,null),L(h,a,k),C&&C.m(h,k),L(h,r,k),_=!0},p(h,k){let I=t;t=f(h),t===I?b[t].p(h,k):(be(),T(b[I],1,1,()=>{b[I]=null}),ge(),l=b[t],l?l.p(h,k):(l=b[t]=c[t](h),l.c()),F(l,1),l.m(e,null))},i(h){_||(F(l),_=!0)},o(h){T(l),_=!1},d(h){h&&(i(e),i(a),i(r)),b[t].d(),C&&C.d(h)}}}function $t(s){let e,t,l='<h1 class="text-2xl font-bold">ポケモンしりとり</h1>',a,r,_,c,b,f="はじめから",C,h,k,I,V,E,w,x="ポケモン を よびだす",y,$,g,M,H,ee,O,me="",te,j,_e=s[0].length-2+"",De,Ve,le,q,se,K,$e,G,Oe="",Pe,ae,J,Ne,re,R,ke,Q,je="？",Te,ne,oe,ue,xe,z,Me,Ue;I=new we({props:{icon:"mdi:pokeball",class:"w-5 h-5"}}),M=new we({props:{icon:"mdi:pokeball",class:"w-5 h-5"}}),K=new we({props:{icon:"mdi:format-list-numbered",class:"w-5 h-5"}});let W=ie(s[2]),A=[];for(let u=0;u<W.length;u+=1)A[u]=ot(nt(s,W,u));const _t=u=>T(A[u],1,1,()=>{A[u]=null});let X=ie(s[0].slice(-2)),B=[];for(let u=0;u<X.length;u+=1)B[u]=ut(rt(s,X,u));const vt=u=>T(B[u],1,1,()=>{B[u]=null});return{c(){e=p("div"),t=p("div"),t.innerHTML=l,a=P(),r=p("div"),_=p("div"),c=p("div"),b=p("span"),b.textContent=f,C=P(),h=p("form"),k=p("button"),fe(I.$$.fragment),V=P(),E=p("div"),w=p("span"),w.textContent=x,y=P(),$=p("form"),g=p("button"),fe(M.$$.fragment),ee=P(),O=p("div"),O.innerHTML=me,te=P(),j=p("p"),De=Be(_e),Ve=P(),le=p("form"),q=p("button"),se=p("div"),fe(K.$$.fragment),$e=P(),G=p("div"),G.innerHTML=Oe,Pe=P(),ae=p("div"),J=p("div");for(let u=0;u<A.length;u+=1)A[u].c();Ne=P(),re=p("div"),R=p("div");for(let u=0;u<B.length;u+=1)B[u].c();ke=P(),Q=p("div"),Q.textContent=je,Te=P(),ne=p("div"),oe=p("div"),ue=p("span"),xe=Be(s[3]),this.h()},l(u){e=m(u,"DIV",{class:!0});var D=v(e);t=m(D,"DIV",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-gcopyy"&&(t.innerHTML=l),a=N(D),r=m(D,"DIV",{class:!0});var o=v(r);_=m(o,"DIV",{class:!0});var U=v(_);c=m(U,"DIV",{class:!0});var Ce=v(c);b=m(Ce,"SPAN",{class:!0,"data-svelte-h":!0}),Z(b)!=="svelte-2xvbig"&&(b.textContent=f),C=N(Ce),h=m(Ce,"FORM",{});var He=v(h);k=m(He,"BUTTON",{type:!0,class:!0});var Re=v(k);de(I.$$.fragment,Re),Re.forEach(i),He.forEach(i),Ce.forEach(i),V=N(U),E=m(U,"DIV",{class:!0});var S=v(E);w=m(S,"SPAN",{class:!0,"data-svelte-h":!0}),Z(w)!=="svelte-mp7i3f"&&(w.textContent=x),y=N(S),$=m(S,"FORM",{});var ze=v($);g=m(ze,"BUTTON",{type:!0,class:!0});var qe=v(g);de(M.$$.fragment,qe),qe.forEach(i),ze.forEach(i),ee=N(S),O=m(S,"DIV",{class:!0,"data-svelte-h":!0}),Z(O)!=="svelte-1rtwic7"&&(O.innerHTML=me),te=N(S),j=m(S,"P",{class:!0});var Ke=v(j);De=Ie(Ke,_e),Ke.forEach(i),Ve=N(S),le=m(S,"FORM",{});var Ge=v(le);q=m(Ge,"BUTTON",{type:!0,class:!0});var Je=v(q);se=m(Je,"DIV",{class:!0});var Qe=v(se);de(K.$$.fragment,Qe),Qe.forEach(i),Je.forEach(i),Ge.forEach(i),$e=N(S),G=m(S,"DIV",{class:!0,"data-svelte-h":!0}),Z(G)!=="svelte-17db9va"&&(G.innerHTML=Oe),S.forEach(i),U.forEach(i),Pe=N(o),ae=m(o,"DIV",{class:!0});var We=v(ae);J=m(We,"DIV",{class:!0});var Xe=v(J);for(let Y=0;Y<A.length;Y+=1)A[Y].l(Xe);Xe.forEach(i),We.forEach(i),Ne=N(o),re=m(o,"DIV",{class:!0});var Ye=v(re);R=m(Ye,"DIV",{class:!0});var Ee=v(R);for(let Y=0;Y<B.length;Y+=1)B[Y].l(Ee);ke=N(Ee),Q=m(Ee,"DIV",{class:!0,"data-svelte-h":!0}),Z(Q)!=="svelte-3c13t"&&(Q.textContent=je),Ee.forEach(i),Ye.forEach(i),Te=N(o),ne=m(o,"DIV",{class:!0});var Ze=v(ne);oe=m(Ze,"DIV",{class:!0});var et=v(oe);ue=m(et,"SPAN",{class:!0});var tt=v(ue);xe=Ie(tt,s[3]),tt.forEach(i),et.forEach(i),Ze.forEach(i),o.forEach(i),D.forEach(i),this.h()},h(){d(t,"class","mb-2"),d(b,"class","text-lg"),d(k,"type","submit"),k.disabled=s[1],d(k,"class","px-2 py-1 text-white rounded h-full flex items-center bg-blue-500 hover:bg-blue-600"),d(c,"class","flex items-center space-x-3"),d(w,"class","text-lg"),d(g,"type","submit"),g.disabled=s[1],d(g,"class",H="px-2 py-1 text-white rounded h-full flex items-center "+(s[1]?"bg-gray-500":"bg-blue-500 hover:bg-blue-600")),d(O,"class","flex-grow"),d(j,"class","text-lg"),d(se,"class","w-5 h-5 flex-shrink-0"),d(q,"type","submit"),d(q,"class","px-2 py-1 text-white rounded h-full flex items-center bg-blue-500 hover:bg-blue-600"),d(G,"class","mr-4"),d(E,"class","flex items-center space-x-3"),d(_,"class","ml-4 space-y-4"),d(J,"class","flex flex-wrap justify-between p-4 space-x-2 bg-transparent"),d(ae,"class","space-y-5 border bg-white rounded-xl min-h-[200px] min-w-[300px]"),d(Q,"class","h-[150px] w-[150px] text-center text-xl rounded-2xl border-2"),d(R,"class","flex flex-wrap justify-between p-4 space-x-2 bg-transparent"),d(re,"class","space-y-5 border bg-white rounded-xl min-h-[200px] min-w-[300px]"),d(ue,"class","text-lg"),d(oe,"class","flex items-center space-x-3"),d(ne,"class","ml-4 space-y-4"),d(r,"class","space-y-5 min-w-[300px] max-w-[600px]"),d(e,"class","container mx-auto h-full w-9/12 ml-4")},m(u,D){L(u,e,D),n(e,t),n(e,a),n(e,r),n(r,_),n(_,c),n(c,b),n(c,C),n(c,h),n(h,k),he(I,k,null),n(_,V),n(_,E),n(E,w),n(E,y),n(E,$),n($,g),he(M,g,null),n(E,ee),n(E,O),n(E,te),n(E,j),n(j,De),n(E,Ve),n(E,le),n(le,q),n(q,se),he(K,se,null),n(E,$e),n(E,G),n(r,Pe),n(r,ae),n(ae,J);for(let o=0;o<A.length;o+=1)A[o]&&A[o].m(J,null);n(r,Ne),n(r,re),n(re,R);for(let o=0;o<B.length;o+=1)B[o]&&B[o].m(R,null);n(R,ke),n(R,Q),n(r,Te),n(r,ne),n(ne,oe),n(oe,ue),n(ue,xe),z=!0,Me||(Ue=[ve(h,"submit",Se(s[6])),ve($,"submit",Se(s[4])),ve(le,"submit",Se(s[7]))],Me=!0)},p(u,[D]){if((!z||D&2)&&(k.disabled=u[1]),(!z||D&2)&&(g.disabled=u[1]),(!z||D&2&&H!==(H="px-2 py-1 text-white rounded h-full flex items-center "+(u[1]?"bg-gray-500":"bg-blue-500 hover:bg-blue-600")))&&d(g,"class",H),(!z||D&1)&&_e!==(_e=u[0].length-2+"")&&Fe(De,_e),D&36){W=ie(u[2]);let o;for(o=0;o<W.length;o+=1){const U=nt(u,W,o);A[o]?(A[o].p(U,D),F(A[o],1)):(A[o]=ot(U),A[o].c(),F(A[o],1),A[o].m(J,null))}for(be(),o=W.length;o<A.length;o+=1)_t(o);ge()}if(D&1){X=ie(u[0].slice(-2));let o;for(o=0;o<X.length;o+=1){const U=rt(u,X,o);B[o]?(B[o].p(U,D),F(B[o],1)):(B[o]=ut(U),B[o].c(),F(B[o],1),B[o].m(R,ke))}for(be(),o=X.length;o<B.length;o+=1)vt(o);ge()}(!z||D&8)&&Fe(xe,u[3])},i(u){if(!z){F(I.$$.fragment,u),F(M.$$.fragment,u),F(K.$$.fragment,u);for(let D=0;D<W.length;D+=1)F(A[D]);for(let D=0;D<X.length;D+=1)F(B[D]);z=!0}},o(u){T(I.$$.fragment,u),T(M.$$.fragment,u),T(K.$$.fragment,u),A=A.filter(Boolean);for(let D=0;D<A.length;D+=1)T(A[D]);B=B.filter(Boolean);for(let D=0;D<B.length;D+=1)T(B[D]);z=!1},d(u){u&&i(e),pe(I),pe(M),pe(K),Le(A,u),Le(B,u),Me=!1,gt(Ue)}}}const it=3;function mt(s){return{ガ:"カ",ギ:"キ",グ:"ク",ゲ:"ケ",ゴ:"コ",ザ:"サ",ジ:"シ",ズ:"ス",ゼ:"セ",ゾ:"ソ",ダ:"タ",ヂ:"チ",ヅ:"ツ",デ:"テ",ド:"ト",バ:"ハ",ビ:"ヒ",ブ:"フ",ベ:"ヘ",ボ:"ホ",パ:"ハ",ピ:"ヒ",プ:"フ",ペ:"ヘ",ポ:"ホ",ァ:"ア",ィ:"イ",ゥ:"ウ",ェ:"エ",ォ:"オ",ャ:"ヤ",ュ:"ユ",ョ:"ヨ",ッ:"ツ"}[s]||s}function Pt(s){return mt(s.slice(0,1))}function ye(s){let e=s.slice(-1);return e==="ー"&&s.length>1&&(e=s.slice(-2,-1)),mt(e)}function Nt(s,e){if(s===null)return!0;const t=ye(s),l=Pt(e);return t===l}function Tt(s,e,t){let l=!1,a=[],r=[];async function _(){t(1,l=!0);try{const V=Array.from({length:Dt},(w,x)=>x+1);a=kt(V,it);const E=await Promise.all(a.slice(0,it).map(w=>xt(fetch,w.toString())));t(2,r=E.map((w,x)=>({id:x,data:w,isUsed:!1})))}catch{}t(1,l=!1)}let c=[null,null];function b(V){return()=>{var x;const E=((x=c.slice(-1)[0])==null?void 0:x.data.jaName)??null,w=r[V].data.jaName;if(!Nt(E,w)){t(3,f=`「${ye(E??"")}」 から はじまる ポケモン を えらんでね`);return}t(2,r[V].isUsed=!0,r),t(0,c=[...c,r[V]])}}let f;function C(){var x;if(c.length<3){t(3,f="ポケモン を よびだしてね");return}const V=((x=c.slice(-1)[0])==null?void 0:x.data.jaName)??"",E=ye(V);if(E==="ン"){t(3,f="ン で おわっちゃった...");return}const w=["そのちょうし！","いいぞ！","がんばれ！","すごい！","いけいけ！"];t(3,f=`${w[Ct(w.length)]} つぎは 「${ye(E)}」`)}function h(){t(2,r=[]),t(0,c=[null,null]),C()}const k=ht();function I(){const E={type:"component",component:{ref:yt,props:{title:"しりとりリスト",pokeDataArray:c.filter(w=>w!==null).map(w=>w.data)}},backdropClasses:"fixed inset-0 !bg-gray-300/90"};k.trigger(E)}return s.$$.update=()=>{s.$$.dirty&1&&c&&C()},[c,l,r,f,_,b,h,I]}class Ht extends ft{constructor(e){super(),dt(this,e,Tt,$t,ct,{})}}export{Ht as component};
