import{b as Ht}from"../chunks/fetchStaticData.C_Zvjkci.js";import{P as Lt,a as Rt}from"../chunks/common.BO00ojXF.js";import{a as Je,e as _,t as ue,b as $,c as v,d as k,i as fe,f as o,h as A,j as h,l as U,m as f,n as je,o as ce,p as Ve,q as Dt,r as Me,u as Se,w as zt,y as Ge,x as Ie,z as Ke,v as Kt}from"../chunks/scheduler.CjbLQ75Z.js";import{S as Qe,i as We,g as de,t as j,c as he,a as S,b as Y,d as Z,m as ee,e as te}from"../chunks/index.C8jGW1p8.js";import{e as Ce}from"../chunks/each.BfLvJT1H.js";import{g as At}from"../chunks/stores.B_vpffdz.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.fMS2XfBz.js";import{I as we}from"../chunks/Icon.D9OMTyLg.js";import{g as qt}from"../chunks/numerics.BpAOxbdF.js";import{a as Et,s as Gt,b as Jt}from"../chunks/collections.CVaw1mrQ.js";function Bt(r){return{ガ:"カ",ギ:"キ",グ:"ク",ゲ:"ケ",ゴ:"コ",ザ:"サ",ジ:"シ",ズ:"ス",ゼ:"セ",ゾ:"ソ",ダ:"タ",ヂ:"チ",ヅ:"ツ",デ:"テ",ド:"ト",バ:"ハ",ビ:"ヒ",ブ:"フ",ベ:"ヘ",ボ:"ホ",パ:"ハ",ピ:"ヒ",プ:"フ",ペ:"ヘ",ポ:"ホ",ァ:"ア",ィ:"イ",ゥ:"ウ",ェ:"エ",ォ:"オ",ャ:"ヤ",ュ:"ユ",ョ:"ヨ",ッ:"ツ"}[r]||r}function Ot(r){return Bt(r.slice(0,1))}function Pe(r){let e=r.slice(-1);return["ー","♀","♂","２","Ｚ"].includes(e)&&r.length>1&&(e=r.slice(-2,-1)),Bt(e)}function Qt(r,e){const t=Pe(r),l=Ot(e);return t===l}async function Wt(){const r=await t(),e=l(r);async function t(){const s=Array.from({length:Lt},(m,a)=>Rt+a),n={},b=s.map(async m=>{const a=await Ht(m.toString());return{pokeId:m,jaName:a.jaName,imageUrl:a.imageUrl??"not_found",isUsed:!1}});return(await Promise.all(b)).forEach(m=>{n[m.pokeId]=m}),n}function l(s){return Object.entries(s).reduce((n,[b,i])=>{const m=Ot(i.jaName);return n[m]||(n[m]=[]),n[m].push(Number(b)),n},{})}return{pokeDict:r,groupByHeadCharDict:e}}const Il=Object.freeze(Object.defineProperty({__proto__:null,load:Wt},Symbol.toStringTag,{value:"Module"}));function Xt(r){let e,t,l;return t=new we({props:{icon:"mdi:image-off-outline",class:"w-8 h-8 bg-white"}}),{c(){e=_("div"),Y(t.$$.fragment),this.h()},l(s){e=v(s,"DIV",{class:!0});var n=k(e);Z(t.$$.fragment,n),n.forEach(o),this.h()},h(){h(e,"class","absolute inset-0 flex items-center justify-center h-full")},m(s,n){U(s,e,n),ee(t,e,null),l=!0},p:ce,i(s){l||(S(t.$$.fragment,s),l=!0)},o(s){j(t.$$.fragment,s),l=!1},d(s){s&&o(e),te(t)}}}function Yt(r){let e,t,l,s,n,b,i,m,a=!r[2]&&It();return{c(){e=_("img"),s=$(),a&&a.c(),n=Ve(),this.h()},l(d){e=v(d,"IMG",{src:!0,alt:!0,class:!0}),s=A(d),a&&a.l(d),n=Ve(),this.h()},h(){Dt(e.src,t=r[1])||h(e,"src",t),h(e,"alt",l=r[0]??"???"),h(e,"class","w-full h-full object-cover"),Me(e,"image",!r[2]),Me(e,"loaded",r[2])},m(d,c){U(d,e,c),U(d,s,c),a&&a.m(d,c),U(d,n,c),b=!0,i||(m=Se(e,"load",r[3]),i=!0)},p(d,c){(!b||c&2&&!Dt(e.src,t=d[1]))&&h(e,"src",t),(!b||c&1&&l!==(l=d[0]??"???"))&&h(e,"alt",l),(!b||c&4)&&Me(e,"image",!d[2]),(!b||c&4)&&Me(e,"loaded",d[2]),d[2]?a&&(de(),j(a,1,1,()=>{a=null}),he()):a?c&4&&S(a,1):(a=It(),a.c(),S(a,1),a.m(n.parentNode,n))},i(d){b||(S(a),b=!0)},o(d){j(a),b=!1},d(d){d&&(o(e),o(s),o(n)),a&&a.d(d),i=!1,m()}}}function It(r){let e,t,l;return t=new we({props:{icon:"mdi:progress-download",class:"w-full h-full text-white bg-gray-100 object-cover"}}),{c(){e=_("div"),Y(t.$$.fragment),this.h()},l(s){e=v(s,"DIV",{class:!0});var n=k(e);Z(t.$$.fragment,n),n.forEach(o),this.h()},h(){h(e,"class","absolute inset-0 flex items-center justify-center h-full")},m(s,n){U(s,e,n),ee(t,e,null),l=!0},i(s){l||(S(t.$$.fragment,s),l=!0)},o(s){j(t.$$.fragment,s),l=!1},d(s){s&&o(e),te(t)}}}function Zt(r){let e,t,l,s,n,b=(r[0]??"???")+"",i,m,a,d,c,y,C;const L=[Yt,Xt],F=[];function M(I,u){return I[1]!==null?0:1}return c=M(r),y=F[c]=L[c](r),{c(){e=_("div"),t=_("div"),l=_("div"),s=_("h1"),n=_("div"),i=ue(b),m=$(),a=_("div"),d=_("div"),y.c(),this.h()},l(I){e=v(I,"DIV",{class:!0});var u=k(e);t=v(u,"DIV",{class:!0});var E=k(t);l=v(E,"DIV",{class:!0});var D=k(l);s=v(D,"H1",{class:!0});var N=k(s);n=v(N,"DIV",{});var B=k(n);i=fe(B,b),B.forEach(o),N.forEach(o),D.forEach(o),m=A(E),a=v(E,"DIV",{class:!0});var O=k(a);d=v(O,"DIV",{class:!0});var x=k(d);y.l(x),x.forEach(o),O.forEach(o),E.forEach(o),u.forEach(o),this.h()},h(){h(s,"class","text-xs font-bold text-gray-900"),h(l,"class","absolute inset-0 m-1 flex justify-center"),h(d,"class","flex items-center justify-center bg-white rounded-full border border-gray-200 h-[80px] w-[80px]"),h(a,"class","flex justify-center"),h(t,"class","relative p-2 bg-transparent"),h(e,"class","flex flex-col bg-gray-50 rounded-2xl shadow border h-[100px] w-[100px] overflow-hidden select-none")},m(I,u){U(I,e,u),f(e,t),f(t,l),f(l,s),f(s,n),f(n,i),f(t,m),f(t,a),f(a,d),F[c].m(d,null),C=!0},p(I,[u]){(!C||u&1)&&b!==(b=(I[0]??"???")+"")&&je(i,b);let E=c;c=M(I),c===E?F[c].p(I,u):(de(),j(F[E],1,1,()=>{F[E]=null}),he(),y=F[c],y?y.p(I,u):(y=F[c]=L[c](I),y.c()),S(y,1),y.m(d,null))},i(I){C||(S(y),C=!0)},o(I){j(y),C=!1},d(I){I&&o(e),F[c].d()}}}function el(r,e,t){let{name:l=null}=e,{imageUrl:s=null}=e,n=!1;function b(){t(2,n=!0)}return r.$$set=i=>{"name"in i&&t(0,l=i.name),"imageUrl"in i&&t(1,s=i.imageUrl)},r.$$.update=()=>{r.$$.dirty&2&&s&&t(2,n=!1)},[l,s,n,b]}class Tt extends Qe{constructor(e){super(),We(this,e,el,Zt,Je,{name:0,imageUrl:1})}}function Pt(r,e,t){const l=r.slice();return l[6]=e[t],l}function Ct(r){let e,t,l,s,n,b,i,m,a,d,c,y,C,L,F,M=Ce(r[1]),I=[];for(let u=0;u<M.length;u+=1)I[u]=St(Pt(r,M,u));return y=new we({props:{icon:"mdi:close",class:"w-5 h-5"}}),{c(){e=_("div"),t=_("div"),l=_("div"),s=_("div"),n=_("h2"),b=ue(r[0]),i=$(),m=_("div"),a=_("ul");for(let u=0;u<I.length;u+=1)I[u].c();d=$(),c=_("button"),Y(y.$$.fragment),this.h()},l(u){e=v(u,"DIV",{class:!0,"data-parent":!0});var E=k(e);t=v(E,"DIV",{class:!0});var D=k(t);l=v(D,"DIV",{class:!0});var N=k(l);s=v(N,"DIV",{class:!0});var B=k(s);n=v(B,"H2",{class:!0});var O=k(n);b=fe(O,r[0]),O.forEach(o),i=A(B),m=v(B,"DIV",{class:!0});var x=k(m);a=v(x,"UL",{class:!0});var T=k(a);for(let H=0;H<I.length;H+=1)I[H].l(T);T.forEach(o),x.forEach(o),B.forEach(o),N.forEach(o),d=A(D),c=v(D,"BUTTON",{class:!0});var z=k(c);Z(y.$$.fragment,z),z.forEach(o),D.forEach(o),E.forEach(o),this.h()},h(){h(n,"class","text-2xl font-bold"),h(a,"class","mt-4 list-decimal list-inside"),h(m,"class","overflow-y-auto flex-grow"),h(s,"class","p-4 flex flex-col h-full"),h(l,"class","h-full h-full bg-white"),h(c,"class","absolute top-1 right-6 z-10"),h(t,"class","relative"),h(e,"class",""),h(e,"data-parent",r[2])},m(u,E){U(u,e,E),f(e,t),f(t,l),f(l,s),f(s,n),f(n,b),f(s,i),f(s,m),f(m,a);for(let D=0;D<I.length;D+=1)I[D]&&I[D].m(a,null);f(t,d),f(t,c),ee(y,c,null),C=!0,L||(F=Se(c,"click",r[5]),L=!0)},p(u,E){if((!C||E&1)&&je(b,u[0]),E&2){M=Ce(u[1]);let D;for(D=0;D<M.length;D+=1){const N=Pt(u,M,D);I[D]?I[D].p(N,E):(I[D]=St(N),I[D].c(),I[D].m(a,null))}for(;D<I.length;D+=1)I[D].d(1);I.length=M.length}(!C||E&4)&&h(e,"data-parent",u[2])},i(u){C||(S(y.$$.fragment,u),C=!0)},o(u){j(y.$$.fragment,u),C=!1},d(u){u&&o(e),Ge(I,u),te(y),L=!1,F()}}}function St(r){let e,t=r[6]+"",l;return{c(){e=_("li"),l=ue(t)},l(s){e=v(s,"LI",{});var n=k(e);l=fe(n,t),n.forEach(o)},m(s,n){U(s,e,n),f(e,l)},p(s,n){n&2&&t!==(t=s[6]+"")&&je(l,t)},d(s){s&&o(e)}}}function tl(r){let e,t,l=r[3][0]&&Ct(r);return{c(){l&&l.c(),e=Ve()},l(s){l&&l.l(s),e=Ve()},m(s,n){l&&l.m(s,n),U(s,e,n),t=!0},p(s,[n]){s[3][0]?l?(l.p(s,n),n&8&&S(l,1)):(l=Ct(s),l.c(),S(l,1),l.m(e.parentNode,e)):l&&(de(),j(l,1,1,()=>{l=null}),he())},i(s){t||(S(l),t=!0)},o(s){j(l),t=!1},d(s){s&&o(e),l&&l.d(s)}}}function ll(r,e,t){let l,{title:s}=e,{stringArray:n=[]}=e,{parent:b}=e;const i=At();zt(r,i,a=>t(3,l=a));function m(){i.close()}return r.$$set=a=>{"title"in a&&t(0,s=a.title),"stringArray"in a&&t(1,n=a.stringArray),"parent"in a&&t(2,b=a.parent)},[s,n,b,l,i,m]}class sl extends Qe{constructor(e){super(),We(this,e,ll,tl,Je,{title:0,stringArray:1,parent:2})}}function wt(r,e,t){const l=r.slice();return l[15]=e[t],l[17]=t,l}function Vt(r,e,t){const l=r.slice();return l[15]=e[t],l}function rl(r){let e;return{c(){e=ue("しりとり リセット")},l(t){e=fe(t,"しりとり リセット")},m(t,l){U(t,e,l)},d(t){t&&o(e)}}}function nl(r){let e;return{c(){e=ue("しりとり スタート")},l(t){e=fe(t,"しりとり スタート")},m(t,l){U(t,e,l)},d(t){t&&o(e)}}}function al(r){let e;return{c(){e=_("div"),this.h()},l(t){e=v(t,"DIV",{class:!0}),k(e).forEach(o),this.h()},h(){h(e,"class",Xe)},m(t,l){U(t,e,l)},p:ce,i:ce,o:ce,d(t){t&&o(e)}}}function ol(r){let e,t,l,s,n;t=new Tt({props:{name:r[15].jaName,imageUrl:r[15].imageUrl}});function b(){return r[8](r[15])}return{c(){e=_("button"),Y(t.$$.fragment),this.h()},l(i){e=v(i,"BUTTON",{type:!0});var m=k(e);Z(t.$$.fragment,m),m.forEach(o),this.h()},h(){h(e,"type","button")},m(i,m){U(i,e,m),ee(t,e,null),l=!0,s||(n=Se(e,"click",b),s=!0)},p(i,m){r=i;const a={};m&2&&(a.name=r[15].jaName),m&2&&(a.imageUrl=r[15].imageUrl),t.$set(a)},i(i){l||(S(t.$$.fragment,i),l=!0)},o(i){j(t.$$.fragment,i),l=!1},d(i){i&&o(e),te(t),s=!1,n()}}}function jt(r){let e,t,l,s,n;const b=[ol,al],i=[];function m(a,d){return a[15].isUsed?1:0}return t=m(r),l=i[t]=b[t](r),{c(){e=_("div"),l.c(),s=$(),this.h()},l(a){e=v(a,"DIV",{class:!0});var d=k(e);l.l(d),s=A(d),d.forEach(o),this.h()},h(){h(e,"class","rounded-2xl border-2")},m(a,d){U(a,e,d),i[t].m(e,null),f(e,s),n=!0},p(a,d){let c=t;t=m(a),t===c?i[t].p(a,d):(de(),j(i[c],1,1,()=>{i[c]=null}),he(),l=i[t],l?l.p(a,d):(l=i[t]=b[t](a),l.c()),S(l,1),l.m(e,s))},i(a){n||(S(l),n=!0)},o(a){j(l),n=!1},d(a){a&&o(e),i[t].d()}}}function il(r){let e;return{c(){e=_("div"),this.h()},l(t){e=v(t,"DIV",{class:!0}),k(e).forEach(o),this.h()},h(){h(e,"class",Xe)},m(t,l){U(t,e,l)},p:ce,i:ce,o:ce,d(t){t&&o(e)}}}function cl(r){let e,t;return e=new Tt({props:{name:r[15].jaName,imageUrl:r[15].imageUrl}}),{c(){Y(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,s){ee(e,l,s),t=!0},p(l,s){const n={};s&1&&(n.name=l[15].jaName),s&1&&(n.imageUrl=l[15].imageUrl),e.$set(n)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){j(e.$$.fragment,l),t=!1},d(l){te(e,l)}}}function ul(r){let e,t="→";return{c(){e=_("span"),e.textContent=t},l(l){e=v(l,"SPAN",{"data-svelte-h":!0}),Ie(e)!=="svelte-1xb5tc"&&(e.textContent=t)},m(l,s){U(l,e,s)},d(l){l&&o(e)}}}function Ft(r){let e,t,l,s,n,b;const i=[cl,il],m=[];function a(c,y){return c[15]?0:1}t=a(r),l=m[t]=i[t](r);let d=r[17]<2&&ul();return{c(){e=_("div"),l.c(),s=$(),d&&d.c(),n=Ve(),this.h()},l(c){e=v(c,"DIV",{class:!0});var y=k(e);l.l(y),y.forEach(o),s=A(c),d&&d.l(c),n=Ve(),this.h()},h(){h(e,"class","rounded-2xl border-2")},m(c,y){U(c,e,y),m[t].m(e,null),U(c,s,y),d&&d.m(c,y),U(c,n,y),b=!0},p(c,y){let C=t;t=a(c),t===C?m[t].p(c,y):(de(),j(m[C],1,1,()=>{m[C]=null}),he(),l=m[t],l?l.p(c,y):(l=m[t]=i[t](c),l.c()),S(l,1),l.m(e,null))},i(c){b||(S(l),b=!0)},o(c){j(l),b=!1},d(c){c&&(o(e),o(s),o(n)),m[t].d(),d&&d.d(c)}}}function fl(r){let e,t,l='<h1 class="cTitleStyle">ポケモンしりとり</h1>',s,n,b,i,m,a,d,c,y,C,L,F,M="",I,u,E=r[0].length+"",D,N,B,O,x,T,z,H,Fe="",J,me,le,xe,_e,Q,se,Ye="ポケモン を いれかえる",He,ve,K,pe,re,Ue,Ne,Le,ge,q,$e,be,ke,ne,Ze="？",Re,ye,De,Ee,Ae,W,ze,et;function tt(p,P){return p[1].length===0?nl:rl}let Be=tt(r),G=Be(r);C=new we({props:{icon:"mdi:pokeball",class:"cIconStyle"}}),T=new we({props:{icon:"mdi:format-list-numbered",class:"cIconStyle"}});let ae=Ce(r[1]),w=[];for(let p=0;p<ae.length;p+=1)w[p]=jt(Vt(r,ae,p));const Mt=p=>j(w[p],1,1,()=>{w[p]=null});re=new we({props:{icon:"mdi:pokeball",class:"cIconStyle"}});let oe=Ce(r[0].length>=2?r[0].slice(-2):[...Array(2-r[0].length).fill(null),...r[0]]),V=[];for(let p=0;p<oe.length;p+=1)V[p]=Ft(wt(r,oe,p));const xt=p=>j(V[p],1,1,()=>{V[p]=null});return{c(){e=_("div"),t=_("div"),t.innerHTML=l,s=$(),n=_("div"),b=_("div"),i=_("div"),m=_("span"),G.c(),a=$(),d=_("form"),c=_("button"),y=_("div"),Y(C.$$.fragment),L=$(),F=_("div"),F.innerHTML=M,I=$(),u=_("p"),D=ue(E),N=$(),B=_("form"),O=_("button"),x=_("div"),Y(T.$$.fragment),z=$(),H=_("div"),H.innerHTML=Fe,J=$(),me=_("div"),le=_("div");for(let p=0;p<w.length;p+=1)w[p].c();xe=$(),_e=_("div"),Q=_("div"),se=_("span"),se.textContent=Ye,He=$(),ve=_("form"),K=_("button"),pe=_("div"),Y(re.$$.fragment),Le=$(),ge=_("div"),q=_("div");for(let p=0;p<V.length;p+=1)V[p].c();$e=$(),be=_("div"),ke=_("div"),ne=_("span"),ne.textContent=Ze,Re=$(),ye=_("div"),De=_("div"),Ee=_("span"),Ae=ue(r[2]),this.h()},l(p){e=v(p,"DIV",{class:!0});var P=k(e);t=v(P,"DIV",{class:!0,"data-svelte-h":!0}),Ie(t)!=="svelte-n7rgko"&&(t.innerHTML=l),s=A(P),n=v(P,"DIV",{class:!0});var g=k(n);b=v(g,"DIV",{class:!0});var X=k(b);i=v(X,"DIV",{class:!0});var R=k(i);m=v(R,"SPAN",{class:!0});var lt=k(m);G.l(lt),lt.forEach(o),a=A(R),d=v(R,"FORM",{});var st=k(d);c=v(st,"BUTTON",{type:!0,class:!0});var rt=k(c);y=v(rt,"DIV",{class:!0});var nt=k(y);Z(C.$$.fragment,nt),nt.forEach(o),rt.forEach(o),st.forEach(o),L=A(R),F=v(R,"DIV",{class:!0,"data-svelte-h":!0}),Ie(F)!=="svelte-1rtwic7"&&(F.innerHTML=M),I=A(R),u=v(R,"P",{class:!0});var at=k(u);D=fe(at,E),at.forEach(o),N=A(R),B=v(R,"FORM",{});var ot=k(B);O=v(ot,"BUTTON",{type:!0,class:!0});var it=k(O);x=v(it,"DIV",{class:!0});var ct=k(x);Z(T.$$.fragment,ct),ct.forEach(o),it.forEach(o),ot.forEach(o),z=A(R),H=v(R,"DIV",{class:!0,"data-svelte-h":!0}),Ie(H)!=="svelte-17db9va"&&(H.innerHTML=Fe),R.forEach(o),X.forEach(o),J=A(g),me=v(g,"DIV",{class:!0});var ut=k(me);le=v(ut,"DIV",{class:!0});var ft=k(le);for(let ie=0;ie<w.length;ie+=1)w[ie].l(ft);ft.forEach(o),ut.forEach(o),xe=A(g),_e=v(g,"DIV",{class:!0});var dt=k(_e);Q=v(dt,"DIV",{class:!0});var Oe=k(Q);se=v(Oe,"SPAN",{class:!0,"data-svelte-h":!0}),Ie(se)!=="svelte-1ysiuuh"&&(se.textContent=Ye),He=A(Oe),ve=v(Oe,"FORM",{});var ht=k(ve);K=v(ht,"BUTTON",{type:!0,class:!0});var mt=k(K);pe=v(mt,"DIV",{class:!0});var _t=k(pe);Z(re.$$.fragment,_t),_t.forEach(o),mt.forEach(o),ht.forEach(o),Oe.forEach(o),dt.forEach(o),Le=A(g),ge=v(g,"DIV",{class:!0});var vt=k(ge);q=v(vt,"DIV",{class:!0});var Te=k(q);for(let ie=0;ie<V.length;ie+=1)V[ie].l(Te);$e=A(Te),be=v(Te,"DIV",{class:!0});var pt=k(be);ke=v(pt,"DIV",{class:!0});var gt=k(ke);ne=v(gt,"SPAN",{class:!0,"data-svelte-h":!0}),Ie(ne)!=="svelte-mds9k2"&&(ne.textContent=Ze),gt.forEach(o),pt.forEach(o),Te.forEach(o),vt.forEach(o),Re=A(g),ye=v(g,"DIV",{class:!0});var bt=k(ye);De=v(bt,"DIV",{class:!0});var kt=k(De);Ee=v(kt,"SPAN",{class:!0});var yt=k(Ee);Ae=fe(yt,r[2]),yt.forEach(o),kt.forEach(o),bt.forEach(o),g.forEach(o),P.forEach(o),this.h()},h(){h(t,"class","cTitlePartStyle"),h(m,"class","text-lg"),h(y,"class","cIconDivStyle"),h(c,"type","submit"),h(c,"class","cIconButtonStyle"),h(F,"class","flex-grow"),h(u,"class","text-lg"),h(x,"class","cIconDivStyle"),h(O,"type","submit"),h(O,"class","cIconButtonStyle"),h(H,"class","mr-4"),h(i,"class","cInputFormAndMessagePartStyle"),h(b,"class","m-4 space-y-2"),h(le,"class",$t),h(me,"class",Nt),h(se,"class","text-lg"),h(pe,"class","cIconDivStyle"),h(K,"type","submit"),K.disabled=Ue=r[0].length==0,h(K,"class",Ne="cIconButtonStyle "+(r[0].length==0?"!bg-gray-500":"")),h(Q,"class","cInputFormAndMessagePartStyle"),h(_e,"class","m-4"),h(ne,"class","block text-center text-xl"),h(ke,"class",Xe),h(be,"class","rounded-2xl border-2"),h(q,"class",$t+" md:ml-16 md:mr-16"),h(ge,"class",Nt),h(Ee,"class","text-lg"),h(De,"class","cInputFormAndMessagePartStyle mb-2"),h(ye,"class","m-4"),h(n,"class","cContentPartStyle !min-w-[300px] !max-w-[750px]"),h(e,"class","cRouteBodyStyle")},m(p,P){U(p,e,P),f(e,t),f(e,s),f(e,n),f(n,b),f(b,i),f(i,m),G.m(m,null),f(i,a),f(i,d),f(d,c),f(c,y),ee(C,y,null),f(i,L),f(i,F),f(i,I),f(i,u),f(u,D),f(i,N),f(i,B),f(B,O),f(O,x),ee(T,x,null),f(i,z),f(i,H),f(n,J),f(n,me),f(me,le);for(let g=0;g<w.length;g+=1)w[g]&&w[g].m(le,null);f(n,xe),f(n,_e),f(_e,Q),f(Q,se),f(Q,He),f(Q,ve),f(ve,K),f(K,pe),ee(re,pe,null),f(n,Le),f(n,ge),f(ge,q);for(let g=0;g<V.length;g+=1)V[g]&&V[g].m(q,null);f(q,$e),f(q,be),f(be,ke),f(ke,ne),f(n,Re),f(n,ye),f(ye,De),f(De,Ee),f(Ee,Ae),W=!0,ze||(et=[Se(d,"submit",Ke(r[5])),Se(B,"submit",Ke(r[6])),Se(ve,"submit",Ke(r[3]))],ze=!0)},p(p,[P]){if(Be!==(Be=tt(p))&&(G.d(1),G=Be(p),G&&(G.c(),G.m(m,null))),(!W||P&1)&&E!==(E=p[0].length+"")&&je(D,E),P&18){ae=Ce(p[1]);let g;for(g=0;g<ae.length;g+=1){const X=Vt(p,ae,g);w[g]?(w[g].p(X,P),S(w[g],1)):(w[g]=jt(X),w[g].c(),S(w[g],1),w[g].m(le,null))}for(de(),g=ae.length;g<w.length;g+=1)Mt(g);he()}if((!W||P&1&&Ue!==(Ue=p[0].length==0))&&(K.disabled=Ue),(!W||P&1&&Ne!==(Ne="cIconButtonStyle "+(p[0].length==0?"!bg-gray-500":"")))&&h(K,"class",Ne),P&1){oe=Ce(p[0].length>=2?p[0].slice(-2):[...Array(2-p[0].length).fill(null),...p[0]]);let g;for(g=0;g<oe.length;g+=1){const X=wt(p,oe,g);V[g]?(V[g].p(X,P),S(V[g],1)):(V[g]=Ft(X),V[g].c(),S(V[g],1),V[g].m(q,$e))}for(de(),g=oe.length;g<V.length;g+=1)xt(g);he()}(!W||P&4)&&je(Ae,p[2])},i(p){if(!W){S(C.$$.fragment,p),S(T.$$.fragment,p);for(let P=0;P<ae.length;P+=1)S(w[P]);S(re.$$.fragment,p);for(let P=0;P<oe.length;P+=1)S(V[P]);W=!0}},o(p){j(C.$$.fragment,p),j(T.$$.fragment,p),w=w.filter(Boolean);for(let P=0;P<w.length;P+=1)j(w[P]);j(re.$$.fragment,p),V=V.filter(Boolean);for(let P=0;P<V.length;P+=1)j(V[P]);W=!1},d(p){p&&o(e),G.d(),te(C),te(T),Ge(w,p),te(re),Ge(V,p),ze=!1,Kt(et)}}}const qe=12,Ut=4,Nt="min-h-[150px] md:min-w-[750px] border bg-white rounded-xl",$t="flex flex-wrap justify-between gap-y-1 p-4",Xe="h-[100px] w-[100px] bg-gray-100 rounded-2xl";function dl(r){return{type:"component",component:r,backdropClasses:"fixed inset-0 !bg-gray-300/90"}}function hl(r,e,t){let{data:l}=e,s=l.pokeDict;const n=l.groupByHeadCharDict;let b=[];function i(){a.length===0&&d();const u=Pe(a[a.length-1].jaName),E=O(s),D=x(E,n,u),N=Object.keys(E).length>qe?Et(E,qe):Object.values(E),B=Object.keys(D).length>Ut?Et(D,Ut):Object.values(D);t(1,b=Gt([...new Set([...N,...B])]).slice(0,qe));function O(T){return Object.fromEntries(Object.entries(T).filter(([,z])=>!z.isUsed))}function x(T,z,H){const Fe=z[H]??[];return Object.fromEntries(Fe.filter(J=>J in T).map(J=>[J,T[J]]))}}function m(u){s[u].isUsed=!0,t(1,b=b.map(E=>E.pokeId===u?{...E,isUsed:!0}:E))}let a=[];function d(){const u=Jt(s);m(u),t(0,a=[s[u]])}function c(u){if(a.length===0){t(2,y="ポケモン を よびだしてね");return}const E=a[a.length-1].jaName,D=u.jaName;if(!Qt(E,D)){t(2,y=`「${Pe(E??"")}」 から はじまる ポケモン を えらんでね`);return}m(u.pokeId),t(0,a=[...a,u])}let y;function C(){const u=a.slice(-1)[0]??null;if(u===null){t(2,y="ポケモン を よびだしてね");return}const E=u.jaName,D=Pe(E);if(D==="ン"){t(2,y="ン で おわっちゃった...");return}if(a.length==1)t(2,y=`はじめは 「${Pe(D)}」`);else{const N=["そのちょうし！","いいぞ！","がんばれ！","すごい！","いけいけ！"];t(2,y=`${N[qt(N.length)]} つぎは 「${Pe(D)}」`)}}function L(){s=u(s),t(0,a=[]),d(),i(),C();function u(E){return Object.fromEntries(Object.entries(E).map(([D,N])=>[D,{...N,isUsed:!1}]))}}const F=At();function M(){const u={ref:sl,props:{title:"しりとりリスト",stringArray:a.map(D=>D.jaName)}},E=dl(u);F.trigger(E)}const I=u=>c(u);return r.$$set=u=>{"data"in u&&t(7,l=u.data)},r.$$.update=()=>{r.$$.dirty&1&&a&&C()},[a,b,y,i,c,L,M,l,I]}class Pl extends Qe{constructor(e){super(),We(this,e,hl,fl,Je,{data:7})}}export{Pl as component,Il as universal};
