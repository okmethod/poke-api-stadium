import{s as kt,C as we,j as L,d as c,o as Ft,e as h,t as ge,a as S,c as m,b as g,g as be,f as $,h as f,k as n,u as ke,l as Ve,q as ze,p as ie,v as Ue,r as Pt,n as de}from"../chunks/scheduler.BPg7dSPB.js";import{S as Dt,i as Et,a as P,g as De,t as T,c as Ee,b as he,d as me,m as _e,e as pe}from"../chunks/index._8EpcAMb.js";import{e as fe}from"../chunks/each.yeTm-KmZ.js";import{g as Ct}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.CLQyjmpd.js";import{I as Fe,c as He,a as xe,b as wt,d as Vt,e as Re,f as St,g as $t,L as Tt,p as Nt,j as Mt,k as Lt}from"../chunks/constants.BqwFGT9_.js";import{P as yt}from"../chunks/PokeCardCompact.BK5XRzGe.js";function it(s,e,t){const l=s.slice();return l[6]=e[t],l}function ft(s){let e,t,l,a,r,p,i,k,d,C,_,E,F,x,w,v=fe(s[1]),b=[];for(let A=0;A<v.length;A+=1)b[A]=dt(it(s,v,A));return E=new Fe({props:{icon:"mdi:close",class:"w-5 h-5"}}),{c(){e=h("div"),t=h("div"),l=h("div"),a=h("div"),r=h("h2"),p=ge(s[0]),i=S(),k=h("div"),d=h("ul");for(let A=0;A<b.length;A+=1)b[A].c();C=S(),_=h("button"),he(E.$$.fragment),this.h()},l(A){e=m(A,"DIV",{class:!0,"data-parent":!0});var N=g(e);t=m(N,"DIV",{class:!0});var y=g(t);l=m(y,"DIV",{class:!0});var V=g(l);a=m(V,"DIV",{class:!0});var O=g(a);r=m(O,"H2",{class:!0});var j=g(r);p=be(j,s[0]),j.forEach(c),i=$(O),k=m(O,"DIV",{class:!0});var q=g(k);d=m(q,"UL",{class:!0});var Z=g(d);for(let ee=0;ee<b.length;ee+=1)b[ee].l(Z);Z.forEach(c),q.forEach(c),O.forEach(c),V.forEach(c),C=$(y),_=m(y,"BUTTON",{class:!0});var U=g(_);me(E.$$.fragment,U),U.forEach(c),y.forEach(c),N.forEach(c),this.h()},h(){f(r,"class","text-2xl font-bold"),f(d,"class","mt-4 list-decimal list-inside"),f(k,"class","overflow-y-auto flex-grow"),f(a,"class","p-4 flex flex-col h-full"),f(l,"class","w-96 h-96 bg-white"),f(_,"class","absolute top-1 right-6 z-10"),f(t,"class","relative"),f(e,"class","min-w-[400px]"),f(e,"data-parent",s[2])},m(A,N){L(A,e,N),n(e,t),n(t,l),n(l,a),n(a,r),n(r,p),n(a,i),n(a,k),n(k,d);for(let y=0;y<b.length;y+=1)b[y]&&b[y].m(d,null);n(t,C),n(t,_),_e(E,_,null),F=!0,x||(w=ke(_,"click",s[5]),x=!0)},p(A,N){if((!F||N&1)&&Ve(p,A[0]),N&2){v=fe(A[1]);let y;for(y=0;y<v.length;y+=1){const V=it(A,v,y);b[y]?b[y].p(V,N):(b[y]=dt(V),b[y].c(),b[y].m(d,null))}for(;y<b.length;y+=1)b[y].d(1);b.length=v.length}(!F||N&4)&&f(e,"data-parent",A[2])},i(A){F||(P(E.$$.fragment,A),F=!0)},o(A){T(E.$$.fragment,A),F=!1},d(A){A&&c(e),ze(b,A),pe(E),x=!1,w()}}}function dt(s){let e,t=s[6].jaName+"",l;return{c(){e=h("li"),l=ge(t)},l(a){e=m(a,"LI",{});var r=g(e);l=be(r,t),r.forEach(c)},m(a,r){L(a,e,r),n(e,l)},p(a,r){r&2&&t!==(t=a[6].jaName+"")&&Ve(l,t)},d(a){a&&c(e)}}}function Ot(s){let e,t,l=s[3][0]&&ft(s);return{c(){l&&l.c(),e=we()},l(a){l&&l.l(a),e=we()},m(a,r){l&&l.m(a,r),L(a,e,r),t=!0},p(a,[r]){a[3][0]?l?(l.p(a,r),r&8&&P(l,1)):(l=ft(a),l.c(),P(l,1),l.m(e.parentNode,e)):l&&(De(),T(l,1,1,()=>{l=null}),Ee())},i(a){t||(P(l),t=!0)},o(a){T(l),t=!1},d(a){a&&c(e),l&&l.d(a)}}}function jt(s,e,t){let l,{title:a}=e,{pokeDataArray:r=[]}=e,{parent:p}=e;const i=Ct();Ft(s,i,d=>t(3,l=d));function k(){i.close()}return s.$$set=d=>{"title"in d&&t(0,a=d.title),"pokeDataArray"in d&&t(1,r=d.pokeDataArray),"parent"in d&&t(2,p=d.parent)},[a,r,p,l,i,k]}class Ut extends Dt{constructor(e){super(),Et(this,e,jt,Ot,kt,{title:0,pokeDataArray:1,parent:2})}}function ht(s,e,t){const l=s.slice();return l[11]=e[t],l[13]=t,l}function mt(s,e,t){const l=s.slice();return l[11]=e[t],l[13]=t,l}function Ht(s){let e;return{c(){e=h("p"),this.h()},l(t){e=m(t,"P",{class:!0}),g(e).forEach(c),this.h()},h(){f(e,"class","h-[150px] w-[150px]")},m(t,l){L(t,e,l)},p:de,i:de,o:de,d(t){t&&c(e)}}}function Rt(s){let e,t,l,a,r;return t=new yt({props:{pokeData:s[11].data}}),{c(){e=h("button"),he(t.$$.fragment),this.h()},l(p){e=m(p,"BUTTON",{type:!0});var i=g(e);me(t.$$.fragment,i),i.forEach(c),this.h()},h(){f(e,"type","button")},m(p,i){L(p,e,i),_e(t,e,null),l=!0,a||(r=ke(e,"click",s[5](s[13])),a=!0)},p(p,i){s=p;const k={};i&4&&(k.pokeData=s[11].data),t.$set(k)},i(p){l||(P(t.$$.fragment,p),l=!0)},o(p){T(t.$$.fragment,p),l=!1},d(p){p&&c(e),pe(t),a=!1,r()}}}function _t(s){let e,t,l,a,r;const p=[Rt,Ht],i=[];function k(d,C){return d[11].isUsed?1:0}return t=k(s),l=i[t]=p[t](s),{c(){e=h("div"),l.c(),a=S(),this.h()},l(d){e=m(d,"DIV",{class:!0});var C=g(e);l.l(C),a=$(C),C.forEach(c),this.h()},h(){f(e,"class","rounded-2xl border-2")},m(d,C){L(d,e,C),i[t].m(e,null),n(e,a),r=!0},p(d,C){let _=t;t=k(d),t===_?i[t].p(d,C):(De(),T(i[_],1,1,()=>{i[_]=null}),Ee(),l=i[t],l?l.p(d,C):(l=i[t]=p[t](d),l.c()),P(l,1),l.m(e,a))},i(d){r||(P(l),r=!0)},o(d){T(l),r=!1},d(d){d&&c(e),i[t].d()}}}function zt(s){let e;return{c(){e=h("p"),this.h()},l(t){e=m(t,"P",{class:!0}),g(e).forEach(c),this.h()},h(){f(e,"class",At)},m(t,l){L(t,e,l)},p:de,i:de,o:de,d(t){t&&c(e)}}}function qt(s){let e,t;return e=new yt({props:{pokeData:s[11].data}}),{c(){he(e.$$.fragment)},l(l){me(e.$$.fragment,l)},m(l,a){_e(e,l,a),t=!0},p(l,a){const r={};a&1&&(r.pokeData=l[11].data),e.$set(r)},i(l){t||(P(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function Kt(s){let e,t="→";return{c(){e=h("span"),e.textContent=t,this.h()},l(l){e=m(l,"SPAN",{class:!0,"data-svelte-h":!0}),ie(e)!=="svelte-lfd2u9"&&(e.textContent=t),this.h()},h(){f(e,"class","mx-2")},m(l,a){L(l,e,a)},d(l){l&&c(e)}}}function pt(s){let e,t,l,a,r,p;const i=[qt,zt],k=[];function d(_,E){return _[11]?0:1}t=d(s),l=k[t]=i[t](s);let C=s[13]<2&&Kt();return{c(){e=h("div"),l.c(),a=S(),C&&C.c(),r=we(),this.h()},l(_){e=m(_,"DIV",{class:!0});var E=g(e);l.l(E),E.forEach(c),a=$(_),C&&C.l(_),r=we(),this.h()},h(){f(e,"class","rounded-2xl border-2")},m(_,E){L(_,e,E),k[t].m(e,null),L(_,a,E),C&&C.m(_,E),L(_,r,E),p=!0},p(_,E){let F=t;t=d(_),t===F?k[t].p(_,E):(De(),T(k[F],1,1,()=>{k[F]=null}),Ee(),l=k[t],l?l.p(_,E):(l=k[t]=i[t](_),l.c()),P(l,1),l.m(e,null))},i(_){p||(P(l),p=!0)},o(_){T(l),p=!1},d(_){_&&(c(e),c(a),c(r)),k[t].d(),C&&C.d(_)}}}function Gt(s){let e,t,l=`<h1 class="${wt}">ポケモンしりとり</h1>`,a,r,p,i,k,d="はじめから",C,_,E,F,x,w,v,b,A="ポケモン を よびだす",N,y,V,O,j,q,Z,U,ee="",Se,te,ve=s[0].length-2+"",Ce,$e,le,K,se,G,Te,J,qe="",Ne,ae,Q,Me,re,R,ye,ne,Le,Oe,oe,ue,ce,Ae,z,je,Ke;x=new Fe({props:{icon:"mdi:pokeball",class:He}}),j=new Fe({props:{icon:"mdi:pokeball",class:He}}),G=new Fe({props:{icon:"mdi:format-list-numbered",class:He}});let W=fe(s[2]),B=[];for(let u=0;u<W.length;u+=1)B[u]=_t(mt(s,W,u));const It=u=>T(B[u],1,1,()=>{B[u]=null});let X=fe(s[0].slice(-2)),I=[];for(let u=0;u<X.length;u+=1)I[u]=pt(ht(s,X,u));const xt=u=>T(I[u],1,1,()=>{I[u]=null});return{c(){e=h("div"),t=h("div"),t.innerHTML=l,a=S(),r=h("div"),p=h("div"),i=h("div"),k=h("span"),k.textContent=d,C=S(),_=h("form"),E=h("button"),F=h("div"),he(x.$$.fragment),w=S(),v=h("div"),b=h("span"),b.textContent=A,N=S(),y=h("form"),V=h("button"),O=h("div"),he(j.$$.fragment),Z=S(),U=h("div"),U.innerHTML=ee,Se=S(),te=h("p"),Ce=ge(ve),$e=S(),le=h("form"),K=h("button"),se=h("div"),he(G.$$.fragment),Te=S(),J=h("div"),J.innerHTML=qe,Ne=S(),ae=h("div"),Q=h("div");for(let u=0;u<B.length;u+=1)B[u].c();Me=S(),re=h("div"),R=h("div");for(let u=0;u<I.length;u+=1)I[u].c();ye=S(),ne=h("div"),Le=ge("？"),Oe=S(),oe=h("div"),ue=h("div"),ce=h("span"),Ae=ge(s[3]),this.h()},l(u){e=m(u,"DIV",{class:!0});var D=g(e);t=m(D,"DIV",{class:!0,"data-svelte-h":!0}),ie(t)!=="svelte-11grgw8"&&(t.innerHTML=l),a=$(D),r=m(D,"DIV",{class:!0});var o=g(r);p=m(o,"DIV",{class:!0});var H=g(p);i=m(H,"DIV",{class:!0});var Be=g(i);k=m(Be,"SPAN",{class:!0,"data-svelte-h":!0}),ie(k)!=="svelte-2xvbig"&&(k.textContent=d),C=$(Be),_=m(Be,"FORM",{});var Ge=g(_);E=m(Ge,"BUTTON",{type:!0,class:!0});var Je=g(E);F=m(Je,"DIV",{class:!0});var Qe=g(F);me(x.$$.fragment,Qe),Qe.forEach(c),Je.forEach(c),Ge.forEach(c),Be.forEach(c),w=$(H),v=m(H,"DIV",{class:!0});var M=g(v);b=m(M,"SPAN",{class:!0,"data-svelte-h":!0}),ie(b)!=="svelte-mp7i3f"&&(b.textContent=A),N=$(M),y=m(M,"FORM",{});var We=g(y);V=m(We,"BUTTON",{type:!0,class:!0});var Xe=g(V);O=m(Xe,"DIV",{class:!0});var Ye=g(O);me(j.$$.fragment,Ye),Ye.forEach(c),Xe.forEach(c),We.forEach(c),Z=$(M),U=m(M,"DIV",{class:!0,"data-svelte-h":!0}),ie(U)!=="svelte-1rtwic7"&&(U.innerHTML=ee),Se=$(M),te=m(M,"P",{class:!0});var Ze=g(te);Ce=be(Ze,ve),Ze.forEach(c),$e=$(M),le=m(M,"FORM",{});var et=g(le);K=m(et,"BUTTON",{type:!0,class:!0});var tt=g(K);se=m(tt,"DIV",{class:!0});var lt=g(se);me(G.$$.fragment,lt),lt.forEach(c),tt.forEach(c),et.forEach(c),Te=$(M),J=m(M,"DIV",{class:!0,"data-svelte-h":!0}),ie(J)!=="svelte-17db9va"&&(J.innerHTML=qe),M.forEach(c),H.forEach(c),Ne=$(o),ae=m(o,"DIV",{class:!0});var st=g(ae);Q=m(st,"DIV",{class:!0});var at=g(Q);for(let Y=0;Y<B.length;Y+=1)B[Y].l(at);at.forEach(c),st.forEach(c),Me=$(o),re=m(o,"DIV",{class:!0});var rt=g(re);R=m(rt,"DIV",{class:!0});var Ie=g(R);for(let Y=0;Y<I.length;Y+=1)I[Y].l(Ie);ye=$(Ie),ne=m(Ie,"DIV",{class:!0});var nt=g(ne);Le=be(nt,"？"),nt.forEach(c),Ie.forEach(c),rt.forEach(c),Oe=$(o),oe=m(o,"DIV",{class:!0});var ot=g(oe);ue=m(ot,"DIV",{class:!0});var ut=g(ue);ce=m(ut,"SPAN",{class:!0});var ct=g(ce);Ae=be(ct,s[3]),ct.forEach(c),ut.forEach(c),ot.forEach(c),o.forEach(c),D.forEach(c),this.h()},h(){f(t,"class",Vt),f(k,"class","text-lg"),f(F,"class",Re),f(E,"type","submit"),E.disabled=s[1],f(E,"class",xe),f(i,"class","flex items-center space-x-3"),f(b,"class","text-lg"),f(O,"class",Re),f(V,"type","submit"),V.disabled=s[1],f(V,"class",q=xe+" "+(s[1]?"bg-gray-500":"")),f(U,"class","flex-grow"),f(te,"class","text-lg"),f(se,"class",Re),f(K,"type","submit"),f(K,"class",xe),f(J,"class","mr-4"),f(v,"class","flex items-center space-x-3"),f(p,"class","ml-4 space-y-2"),f(Q,"class",bt),f(ae,"class",gt),f(ne,"class",At+" text-center text-xl rounded-2xl border-2"),f(R,"class",bt),f(re,"class",gt),f(ce,"class","text-lg"),f(ue,"class","flex items-center space-x-3 mb-2"),f(oe,"class","ml-4"),f(r,"class",St+" min-w-[300px] max-w-[600px]"),f(e,"class",$t)},m(u,D){L(u,e,D),n(e,t),n(e,a),n(e,r),n(r,p),n(p,i),n(i,k),n(i,C),n(i,_),n(_,E),n(E,F),_e(x,F,null),n(p,w),n(p,v),n(v,b),n(v,N),n(v,y),n(y,V),n(V,O),_e(j,O,null),n(v,Z),n(v,U),n(v,Se),n(v,te),n(te,Ce),n(v,$e),n(v,le),n(le,K),n(K,se),_e(G,se,null),n(v,Te),n(v,J),n(r,Ne),n(r,ae),n(ae,Q);for(let o=0;o<B.length;o+=1)B[o]&&B[o].m(Q,null);n(r,Me),n(r,re),n(re,R);for(let o=0;o<I.length;o+=1)I[o]&&I[o].m(R,null);n(R,ye),n(R,ne),n(ne,Le),n(r,Oe),n(r,oe),n(oe,ue),n(ue,ce),n(ce,Ae),z=!0,je||(Ke=[ke(_,"submit",Ue(s[6])),ke(y,"submit",Ue(s[4])),ke(le,"submit",Ue(s[7]))],je=!0)},p(u,[D]){if((!z||D&2)&&(E.disabled=u[1]),(!z||D&2)&&(V.disabled=u[1]),(!z||D&2&&q!==(q=xe+" "+(u[1]?"bg-gray-500":"")))&&f(V,"class",q),(!z||D&1)&&ve!==(ve=u[0].length-2+"")&&Ve(Ce,ve),D&36){W=fe(u[2]);let o;for(o=0;o<W.length;o+=1){const H=mt(u,W,o);B[o]?(B[o].p(H,D),P(B[o],1)):(B[o]=_t(H),B[o].c(),P(B[o],1),B[o].m(Q,null))}for(De(),o=W.length;o<B.length;o+=1)It(o);Ee()}if(D&1){X=fe(u[0].slice(-2));let o;for(o=0;o<X.length;o+=1){const H=ht(u,X,o);I[o]?(I[o].p(H,D),P(I[o],1)):(I[o]=pt(H),I[o].c(),P(I[o],1),I[o].m(R,ye))}for(De(),o=X.length;o<I.length;o+=1)xt(o);Ee()}(!z||D&8)&&Ve(Ae,u[3])},i(u){if(!z){P(x.$$.fragment,u),P(j.$$.fragment,u),P(G.$$.fragment,u);for(let D=0;D<W.length;D+=1)P(B[D]);for(let D=0;D<X.length;D+=1)P(I[D]);z=!0}},o(u){T(x.$$.fragment,u),T(j.$$.fragment,u),T(G.$$.fragment,u),B=B.filter(Boolean);for(let D=0;D<B.length;D+=1)T(B[D]);I=I.filter(Boolean);for(let D=0;D<I.length;D+=1)T(I[D]);z=!1},d(u){u&&c(e),pe(x),pe(j),pe(G),ze(B,u),ze(I,u),je=!1,Pt(Ke)}}}const vt=3,gt="min-h-[200px] min-w-[300px] border bg-white rounded-xl",bt="flex flex-wrap justify-between p-4",At="h-[150px] w-[150px]";function Bt(s){return{ガ:"カ",ギ:"キ",グ:"ク",ゲ:"ケ",ゴ:"コ",ザ:"サ",ジ:"シ",ズ:"ス",ゼ:"セ",ゾ:"ソ",ダ:"タ",ヂ:"チ",ヅ:"ツ",デ:"テ",ド:"ト",バ:"ハ",ビ:"ヒ",ブ:"フ",ベ:"ヘ",ボ:"ホ",パ:"ハ",ピ:"ヒ",プ:"フ",ペ:"ヘ",ポ:"ホ",ァ:"ア",ィ:"イ",ゥ:"ウ",ェ:"エ",ォ:"オ",ャ:"ヤ",ュ:"ユ",ョ:"ヨ",ッ:"ツ"}[s]||s}function Jt(s){return Bt(s.slice(0,1))}function Pe(s){let e=s.slice(-1);return e==="ー"&&s.length>1&&(e=s.slice(-2,-1)),Bt(e)}function Qt(s,e){if(s===null)return!0;const t=Pe(s),l=Jt(e);return t===l}function Wt(s,e,t){let l=!1,a=[],r=[];async function p(){t(1,l=!0);try{const x=Array.from({length:Tt},(v,b)=>b+1);a=Nt(x,vt);const w=await Promise.all(a.slice(0,vt).map(v=>Mt(fetch,v.toString())));t(2,r=w.map((v,b)=>({id:b,data:v,isUsed:!1})))}catch{}t(1,l=!1)}let i=[null,null];function k(x){return()=>{var b;const w=((b=i.slice(-1)[0])==null?void 0:b.data.jaName)??null,v=r[x].data.jaName;if(!Qt(w,v)){t(3,d=`「${Pe(w??"")}」 から はじまる ポケモン を えらんでね`);return}t(2,r[x].isUsed=!0,r),t(0,i=[...i,r[x]])}}let d;function C(){var b;if(i.length<3){t(3,d="ポケモン を よびだしてね");return}const x=((b=i.slice(-1)[0])==null?void 0:b.data.jaName)??"",w=Pe(x);if(w==="ン"){t(3,d="ン で おわっちゃった...");return}const v=["そのちょうし！","いいぞ！","がんばれ！","すごい！","いけいけ！"];t(3,d=`${v[Lt(v.length)]} つぎは 「${Pe(w)}」`)}function _(){t(2,r=[]),t(0,i=[null,null]),C()}const E=Ct();function F(){const w={type:"component",component:{ref:Ut,props:{title:"しりとりリスト",pokeDataArray:i.filter(v=>v!==null).map(v=>v.data)}},backdropClasses:"fixed inset-0 !bg-gray-300/90"};E.trigger(w)}return s.$$.update=()=>{s.$$.dirty&1&&i&&C()},[i,l,r,d,p,k,_,F]}class sl extends Dt{constructor(e){super(),Et(this,e,Wt,Gt,kt,{})}}export{sl as component};
