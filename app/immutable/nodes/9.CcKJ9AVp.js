import{c as ce,d as ue}from"../chunks/fetchStaticData.7nrzdWS2.js";import{P as Se,F as we}from"../chunks/common.3e1mQu3z.js";import{a as Me,e as p,b as T,c as _,d as y,x as Q,h as j,f as h,j as m,l as Y,m as o,u as de,z as Ee,v as Pe,B as Be,C as De,D as xe,t as U,i as L,n as Z,p as fe,y as Ce}from"../chunks/scheduler.CUIDQL-i.js";import{S as Ve,i as Ae,b as me,d as he,m as pe,a as _e,t as ve,e as ye}from"../chunks/index.DvDG_np6.js";import{e as ge}from"../chunks/each.DQcc57QZ.js";import{I as be}from"../chunks/Icon.jS-m3xkb.js";import{i as Ne,a as Te,b as je,c as Fe,d as Re,e as He,f as Oe}from"../chunks/createPokeBody.B3WQ_gmC.js";import{a as We}from"../chunks/collections.CSdicRF8.js";async function Ue({fetch:i}){await ce(i,"load to cache");const s=await t();async function t(){const n=Array.from({length:Se},(l,c)=>we+c).map(async l=>{const c=await ce(i,l.toString());return c&&c.imageUrl!==null?a(l,c):null});return(await Promise.all(n)).filter(l=>l!==null)}function a(e,n){return{jaName:n.jaName,imageUrl:n.imageUrl??"not_found",weight:n.weight}}return{pokeItems:s}}const nt=Object.freeze(Object.defineProperty({__proto__:null,load:Ue},Symbol.toStringTag,{value:"Module"}));function Le(i,s,t){const{Bodies:a,Composite:e,Constraint:n}=Matter,r=e.create(),l=a.rectangle(t.x,t.y,i,s,{label:"seesawStick",restitution:1,friction:.8,mass:5,render:{fillStyle:"#888888"}}),c=n.create({pointA:{x:t.x,y:t.y},bodyB:l,pointB:{x:0,y:0},stiffness:1,length:0});return e.add(r,l),e.add(r,c),{seesaw:r,seesawStick:l}}function ke(i,s,t){const a=i.slice();return a[20]=s[t],a}function ze(i){let s,t;return{c(){s=p("span"),t=U(i[4]),this.h()},l(a){s=_(a,"SPAN",{class:!0});var e=y(s);t=L(e,i[4]),e.forEach(h),this.h()},h(){m(s,"class","text-lg")},m(a,e){Y(a,s,e),o(s,t)},p(a,e){e&16&&Z(t,a[4])},d(a){a&&h(s)}}}function Ke(i){let s,t=ge(i[3]),a=[];for(let e=0;e<t.length;e+=1)a[e]=Ie(ke(i,t,e));return{c(){for(let e=0;e<a.length;e+=1)a[e].c();s=fe()},l(e){for(let n=0;n<a.length;n+=1)a[n].l(e);s=fe()},m(e,n){for(let r=0;r<a.length;r+=1)a[r]&&a[r].m(e,n);Y(e,s,n)},p(e,n){if(n&8){t=ge(e[3]);let r;for(r=0;r<t.length;r+=1){const l=ke(e,t,r);a[r]?a[r].p(l,n):(a[r]=Ie(l),a[r].c(),a[r].m(s.parentNode,s))}for(;r<a.length;r+=1)a[r].d(1);a.length=t.length}},d(e){e&&h(s),Ce(a,e)}}}function Ie(i){let s,t,a,e=i[20].jaName+"",n,r,l,c,k=ue(i[20].weight,"weight")+"",E,I;return{c(){s=p("div"),t=p("span"),a=U("["),n=U(e),r=U("]"),l=T(),c=p("span"),E=U(k),I=T(),this.h()},l(d){s=_(d,"DIV",{class:!0});var f=y(s);t=_(f,"SPAN",{class:!0});var g=y(t);a=L(g,"["),n=L(g,e),r=L(g,"]"),g.forEach(h),l=j(f),c=_(f,"SPAN",{class:!0});var S=y(c);E=L(S,k),S.forEach(h),I=j(f),f.forEach(h),this.h()},h(){m(t,"class","text-base"),m(c,"class","text-xl bold"),m(s,"class","flex flex-col items-center")},m(d,f){Y(d,s,f),o(s,t),o(t,a),o(t,n),o(t,r),o(s,l),o(s,c),o(c,E),o(s,I)},p(d,f){f&8&&e!==(e=d[20].jaName+"")&&Z(n,e),f&8&&k!==(k=ue(d[20].weight,"weight")+"")&&Z(E,k)},d(d){d&&h(s)}}}function qe(i){let s,t,a='<h1 class="cTitleStyle">ポケモンおもさくらべ 改</h1>',e,n,r,l,c,k="ポケモン を よびだす",E,I,d,f,g,S,A,N,w,H,D,x,u,O="こたえあわせ",b,M,P,V,G,F,W,J,$;g=new be({props:{icon:"mdi:pokeball",class:"cIconStyle"}}),V=new be({props:{icon:"mdi:pokeball",class:"cIconStyle"}});function ee(v,C){return v[2]?Ke:ze}let z=ee(i),B=z(i);return{c(){s=p("div"),t=p("div"),t.innerHTML=a,e=T(),n=p("div"),r=p("div"),l=p("div"),c=p("span"),c.textContent=k,E=T(),I=p("form"),d=p("button"),f=p("div"),me(g.$$.fragment),A=T(),N=p("div"),w=p("div"),H=T(),D=p("div"),x=p("div"),u=p("span"),u.textContent=O,b=T(),M=p("button"),P=p("div"),me(V.$$.fragment),G=T(),F=p("div"),B.c(),this.h()},l(v){s=_(v,"DIV",{class:!0});var C=y(s);t=_(C,"DIV",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-ooobby"&&(t.innerHTML=a),e=j(C),n=_(C,"DIV",{class:!0});var R=y(n);r=_(R,"DIV",{class:!0});var te=y(r);l=_(te,"DIV",{class:!0});var K=y(l);c=_(K,"SPAN",{class:!0,"data-svelte-h":!0}),Q(c)!=="svelte-mp7i3f"&&(c.textContent=k),E=j(K),I=_(K,"FORM",{});var se=y(I);d=_(se,"BUTTON",{type:!0,class:!0});var ae=y(d);f=_(ae,"DIV",{class:!0});var ne=y(f);he(g.$$.fragment,ne),ne.forEach(h),ae.forEach(h),se.forEach(h),K.forEach(h),te.forEach(h),A=j(R),N=_(R,"DIV",{class:!0});var re=y(N);w=_(re,"DIV",{class:!0}),y(w).forEach(h),re.forEach(h),H=j(R),D=_(R,"DIV",{class:!0});var q=y(D);x=_(q,"DIV",{class:!0});var X=y(x);u=_(X,"SPAN",{class:!0,"data-svelte-h":!0}),Q(u)!=="svelte-1mxmuak"&&(u.textContent=O),b=j(X),M=_(X,"BUTTON",{type:!0,class:!0});var le=y(M);P=_(le,"DIV",{class:!0});var oe=y(P);he(V.$$.fragment,oe),oe.forEach(h),le.forEach(h),X.forEach(h),G=j(q),F=_(q,"DIV",{class:!0});var ie=y(F);B.l(ie),ie.forEach(h),q.forEach(h),R.forEach(h),C.forEach(h),this.h()},h(){m(t,"class","cTitlePartStyle"),m(c,"class","text-lg"),m(f,"class","cIconDivStyle"),m(d,"type","submit"),d.disabled=S=!i[1],m(d,"class","cIconButtonStyle"),m(l,"class","cInputFormAndMessagePartStyle"),m(r,"class","flex items-center justify-center"),m(w,"class","w-80 h-80 bg-gray-300 border border-black"),m(N,"class","m-4"),m(u,"class","text-lg"),m(P,"class","cIconDivStyle"),m(M,"type","button"),m(M,"class","cIconButtonStyle"),m(x,"class","cInputFormAndMessagePartStyle justify-center"),m(F,"class","cInputFormAndMessagePartStyle justify-center"),m(D,"class","m-4 mt-2 space-y-4"),m(n,"class","cContentPartStyle"),m(s,"class","cRouteBodyStyle")},m(v,C){Y(v,s,C),o(s,t),o(s,e),o(s,n),o(n,r),o(r,l),o(l,c),o(l,E),o(l,I),o(I,d),o(d,f),pe(g,f,null),o(n,A),o(n,N),o(N,w),i[8](w),o(n,H),o(n,D),o(D,x),o(x,u),o(x,b),o(x,M),o(M,P),pe(V,P,null),o(D,G),o(D,F),B.m(F,null),W=!0,J||($=[de(I,"submit",Ee(i[5])),de(M,"click",i[6])],J=!0)},p(v,[C]){(!W||C&2&&S!==(S=!v[1]))&&(d.disabled=S),z===(z=ee(v))&&B?B.p(v,C):(B.d(1),B=z(v),B&&(B.c(),B.m(F,null)))},i(v){W||(_e(g.$$.fragment,v),_e(V.$$.fragment,v),W=!0)},o(v){ve(g.$$.fragment,v),ve(V.$$.fragment,v),W=!1},d(v){v&&h(s),ye(g),i[8](null),ye(V),B.d(),J=!1,Pe($)}}}let Xe=!1,Ye=2;function Ge(i,s,t){let{data:a}=s,e,n,r,l,c,k,E,I,d;Be(async()=>{l=Ne(),c=Te(),k=je(l,e),n=e.clientWidth*.5,r=e.clientHeight*.5,E=Fe(l,k);const u=await Re(e),O=e.clientHeight*.8;({seesaw:I,seesawStick:d}=Le(O,20,{x:n,y:r*1.4}));{Matter.World.add(l.world,u),Matter.World.add(l.world,I),Matter.Runner.run(c,l),Matter.Render.run(k);let b=He(l.world,E,e,{isHolding:Xe});if(!b)return;Object.entries(b).forEach(([M,P])=>{e.addEventListener(M,P)})}}),De(()=>{{Matter.Render.stop(k),Matter.Runner.stop(c),Matter.World.clear(l.world,!1),Matter.Engine.clear(l);return}});let f=!0,g=!1,S=[],A=[];async function N(){t(1,f=!1),t(4,w="じゅんびちゅう..."),D(),t(3,S=We(a.pokeItems,Ye));const u=S.map(b=>Oe(b.imageUrl,!1,{x:0,y:0}));(await Promise.all(u)).forEach((b,M)=>{const P=b.bounds,V=P.max.y-P.min.y;Matter.Body.setPosition(b,{x:n+(M===0?-n*.6:n*.6),y:r*.8-V*.5}),Matter.Body.setMass(b,S[M].weight/10),Matter.Body.setStatic(b,!0),Matter.World.add(l.world,[b]),A.push(b)}),await new Promise(b=>setTimeout(b,500)),t(4,w="じゅんび かんりょう！"),t(1,f=!0)}let w="";function H(){if(S.length==0){t(4,w="さきに ポケモンを よびだしてね");return}if(f===!1){t(4,w="じゅんびちゅう...");return}g===!1&&A.forEach(u=>{Matter.Body.setStatic(u,!1),Matter.Body.applyForce(u,u.position,{x:0,y:u.mass*.01}),Matter.Body.setVelocity(u,{x:0,y:0}),Matter.Body.setAngularVelocity(u,0)}),t(2,g=!0)}function D(){t(4,w=""),t(2,g=!1),A.forEach(u=>Matter.World.remove(l.world,u)),A=[],d&&(Matter.Body.setAngle(d,0),Matter.Body.setAngularVelocity(d,0),Matter.Body.setPosition(d,{x:n,y:r*1.5}))}function x(u){xe[u?"unshift":"push"](()=>{e=u,t(0,e)})}return i.$$set=u=>{"data"in u&&t(7,a=u.data)},[e,f,g,S,w,N,H,a,x]}class rt extends Ve{constructor(s){super(),Ae(this,s,Ge,qe,Me,{data:7})}}export{rt as component,nt as universal};
