import{m as ue,c as de,g as fe}from"../chunks/makePokeData.client.CZiiFNIb.js";import{c as me,T as pe}from"../chunks/type.BpnlySAn.js";import{P as _e,F as he,A as be,a as ye}from"../chunks/common.3e1mQu3z.js";import{a as ve,e as h,b as E,c as b,d as D,x as ge,h as N,f as y,j as d,l as se,m as f,y as we,t as De,i as ke,S as Q,u as J,z as W,n as Se,v as Ie}from"../chunks/scheduler.CUIDQL-i.js";import{S as Te,i as Pe,a as F,c as Oe,t as $,b as X,d as Y,m as Z,e as x,g as Ee}from"../chunks/index.DvDG_np6.js";import{e as ee}from"../chunks/each.DQcc57QZ.js";import{I as te}from"../chunks/Icon.jS-m3xkb.js";async function ae(e,a){const o={},t=a.map(async l=>{try{const c=await ue(e,l.toString()),m=de(c);o[l.toString()]=m}catch(c){console.error(`Failed to fetch data for pokeId ${l}:`,c)}});return await Promise.all(t),o}async function Ne(e,a){const o={},t=a.map(async l=>{const c=await fe(e,l.toString()),m=me(c);o[l]=m});return await Promise.all(t),o}async function Fe(){function e(t,l){return Array.from({length:l},(c,m)=>t+m)}function a(){return Object.values(pe)}return{downloadConfigs:[{id:"dlPokeJson",fileName:"staticPokeDict.json",label:"全ポケモン(通常) Json",makeFunction:ae,keys:e(he,_e)},{id:"dlAddPokeJson",fileName:"staticAddPokeDict.json",label:"全ポケモン(別ver) Json",makeFunction:ae,keys:e(ye,be)},{id:"dlTypeJson",fileName:"staticTypeDict.json",label:"全タイプJson",makeFunction:Ne,keys:a()}]}}const He=Object.freeze(Object.defineProperty({__proto__:null,load:Fe},Symbol.toStringTag,{value:"Module"}));function le(e,a){const o=URL.createObjectURL(e),t=document.createElement("a");t.href=o,t.download=a,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(o)}function Be(e,a,o){const t=new Blob([e],{type:o});le(t,a)}async function Ce(e,a){const t=new Blob([e],{type:a}).stream().pipeThrough(new CompressionStream("gzip"));return await new Response(t).blob()}async function $e(e,a,o){const t=await Ce(e,o);le(t,a+".gz")}async function je(e,a,o){console.log("downloading:",a);try{o?await $e(e,a,"application/json"):Be(e,a,"application/json")}catch(t){throw console.error(`failed to download ${a}:`,t),t}}function oe(e,a,o){const t=e.slice();return t[6]=a[o],t[7]=a,t[8]=o,t}function ne(e){let a,o,t,l,c,m,p,n,u,s,i,r,_,w,T,I,B,j,P,O=e[6].label+"",C,A,k,R,L;function re(){e[3].call(l,e[7],e[8])}s=new te({props:{icon:"mdi:download-box-outline",class:"cIconStyle"}});function ie(){return e[4](e[6])}I=new te({props:{icon:"mdi:zip-box-outline",class:"cIconStyle"}});function ce(){return e[5](e[6])}return{c(){a=h("div"),o=h("div"),t=h("div"),l=h("input"),m=E(),p=h("form"),n=h("button"),u=h("div"),X(s.$$.fragment),r=E(),_=h("form"),w=h("button"),T=h("div"),X(I.$$.fragment),j=E(),P=h("span"),C=De(O),A=E(),this.h()},l(v){a=b(v,"DIV",{class:!0});var g=D(a);o=b(g,"DIV",{class:!0});var U=D(o);t=b(U,"DIV",{class:!0});var S=D(t);l=b(S,"INPUT",{type:!0,id:!0,class:!0}),m=N(S),p=b(S,"FORM",{});var V=D(p);n=b(V,"BUTTON",{type:!0,class:!0});var z=D(n);u=b(z,"DIV",{class:!0});var M=D(u);Y(s.$$.fragment,M),M.forEach(y),z.forEach(y),V.forEach(y),r=N(S),_=b(S,"FORM",{});var K=D(_);w=b(K,"BUTTON",{type:!0,class:!0});var H=D(w);T=b(H,"DIV",{class:!0});var q=D(T);Y(I.$$.fragment,q),q.forEach(y),H.forEach(y),K.forEach(y),j=N(S),P=b(S,"SPAN",{class:!0});var G=D(P);C=ke(G,O),G.forEach(y),S.forEach(y),U.forEach(y),A=N(g),g.forEach(y),this.h()},h(){d(l,"type","text"),d(l,"id",c=e[6].id),d(l,"class","border rounded px-4 py-1 h-full"),d(u,"class","cIconDivStyle"),d(n,"type","submit"),n.disabled=e[1],d(n,"class",i="cIconButtonStyle "+(e[1]?"!bg-gray-500":"")),d(T,"class","cIconDivStyle"),d(w,"type","submit"),w.disabled=e[1],d(w,"class",B="cIconButtonStyle "+(e[1]?"!bg-gray-500":"")),d(P,"class","text-lg"),d(t,"class","cInputFormAndMessagePartStyle"),d(o,"class","flex flex-col md:flex-row space-x-3"),d(a,"class","m-4")},m(v,g){se(v,a,g),f(a,o),f(o,t),f(t,l),Q(l,e[6].fileName),f(t,m),f(t,p),f(p,n),f(n,u),Z(s,u,null),f(t,r),f(t,_),f(_,w),f(w,T),Z(I,T,null),f(t,j),f(t,P),f(P,C),f(a,A),k=!0,R||(L=[J(l,"input",re),J(p,"submit",W(ie)),J(_,"submit",W(ce))],R=!0)},p(v,g){e=v,(!k||g&1&&c!==(c=e[6].id))&&d(l,"id",c),g&1&&l.value!==e[6].fileName&&Q(l,e[6].fileName),(!k||g&2)&&(n.disabled=e[1]),(!k||g&2&&i!==(i="cIconButtonStyle "+(e[1]?"!bg-gray-500":"")))&&d(n,"class",i),(!k||g&2)&&(w.disabled=e[1]),(!k||g&2&&B!==(B="cIconButtonStyle "+(e[1]?"!bg-gray-500":"")))&&d(w,"class",B),(!k||g&1)&&O!==(O=e[6].label+"")&&Se(C,O)},i(v){k||(F(s.$$.fragment,v),F(I.$$.fragment,v),k=!0)},o(v){$(s.$$.fragment,v),$(I.$$.fragment,v),k=!1},d(v){v&&y(a),x(s),x(I),R=!1,Ie(L)}}}function Ae(e){let a,o,t='<h1 class="cTitleStyle">うらわざ</h1>',l,c,m,p=ee(e[0].downloadConfigs),n=[];for(let s=0;s<p.length;s+=1)n[s]=ne(oe(e,p,s));const u=s=>$(n[s],1,1,()=>{n[s]=null});return{c(){a=h("div"),o=h("div"),o.innerHTML=t,l=E(),c=h("div");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){a=b(s,"DIV",{class:!0});var i=D(a);o=b(i,"DIV",{class:!0,"data-svelte-h":!0}),ge(o)!=="svelte-19ephz6"&&(o.innerHTML=t),l=N(i),c=b(i,"DIV",{class:!0});var r=D(c);for(let _=0;_<n.length;_+=1)n[_].l(r);r.forEach(y),i.forEach(y),this.h()},h(){d(o,"class","cTitlePartStyle"),d(c,"class","cContentPartStyle !min-w-[300px] !max-w-[600px]"),d(a,"class","cRouteBodyStyle")},m(s,i){se(s,a,i),f(a,o),f(a,l),f(a,c);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(c,null);m=!0},p(s,[i]){if(i&7){p=ee(s[0].downloadConfigs);let r;for(r=0;r<p.length;r+=1){const _=oe(s,p,r);n[r]?(n[r].p(_,i),F(n[r],1)):(n[r]=ne(_),n[r].c(),F(n[r],1),n[r].m(c,null))}for(Ee(),r=p.length;r<n.length;r+=1)u(r);Oe()}},i(s){if(!m){for(let i=0;i<p.length;i+=1)F(n[i]);m=!0}},o(s){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)$(n[i]);m=!1},d(s){s&&y(a),we(n,s)}}}function Re(e,a,o){let{data:t}=a,l=!1;async function c(u,s,i,r){o(1,l=!0);const _=await u(window.fetch,s),w=JSON.stringify(_,null,2);await je(w,i,r),o(1,l=!1)}function m(u,s){u[s].fileName=this.value,o(0,t)}const p=u=>c(u.makeFunction,u.keys,u.fileName,!1),n=u=>c(u.makeFunction,u.keys,u.fileName,!0);return e.$$set=u=>{"data"in u&&o(0,t=u.data)},[t,l,c,m,p,n]}class qe extends Te{constructor(a){super(),Pe(this,a,Re,Ae,ve,{data:0})}}export{qe as component,He as universal};
