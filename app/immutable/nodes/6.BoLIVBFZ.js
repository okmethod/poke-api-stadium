import{a as t}from"../chunks/fetchStaticData.D_5_gbJl.js";import{P as e,F as s}from"../chunks/common.D9akoRAZ.js";import{s as n,e as l,t as a,a as r,c,b as o,d as i,g as f,f as h,h as u,i as m,j as d,k as g,n as p,o as v,p as $,q as b,r as x,l as y,F as j,D as I}from"../chunks/scheduler.bui552vp.js";import{S as E,i as D,g as w,t as k,c as V,a as U,b as S,d as N,m as T,e as A}from"../chunks/index.4QmalfrF.js";import{e as P}from"../chunks/each.DJOpqiLE.js";import{g as O}from"../chunks/stores.C0H2cJsH.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.5ZPfbuU5.js";import{a as C}from"../chunks/generation.CYwiHA7u.js";import{p as B}from"../chunks/audio.D-niu1aU.js";import{a as M,s as H,b as _,g as L}from"../chunks/pickRandom.BuNLCyVC.js";import{I as F,a as z}from"../chunks/IconButton.B89Jc3jM.js";function q(t){return{"ガ":"カ","ギ":"キ","グ":"ク","ゲ":"ケ","ゴ":"コ","ザ":"サ","ジ":"シ","ズ":"ス","ゼ":"セ","ゾ":"ソ","ダ":"タ","ヂ":"チ","ヅ":"ツ","デ":"テ","ド":"ト","バ":"ハ","ビ":"ヒ","ブ":"フ","ベ":"ヘ","ボ":"ホ","パ":"ハ","ピ":"ヒ","プ":"フ","ペ":"ヘ","ポ":"ホ","ァ":"ア","ィ":"イ","ゥ":"ウ","ェ":"エ","ォ":"オ","ャ":"ヤ","ュ":"ユ","ョ":"ヨ","ッ":"ツ"}[t]||t}function G(t){return q(t.slice(0,1))}function R(t){let e=t.slice(-1);return["ー","♀","♂","２","Ｚ"].includes(e)&&t.length>1&&(e=t.slice(-2,-1)),q(e)}const J=Object.freeze(Object.defineProperty({__proto__:null,load:async function({fetch:n}){await t(n,"load to cache");const l=await async function(){const l=Array.from({length:e},((t,e)=>s+e)),a={},r=l.map((async e=>{const s=await t(n,e.toString());return{pokeId:e,jaName:s.jaName,imageUrl:s.imageUrl??"not_found",oggUrl:s.oggUrl,isUsed:!1}}));return(await Promise.all(r)).forEach((t=>{a[t.pokeId]=t})),a}();var a;return{pokeDict:l,groupByHeadCharDict:(a=l,Object.entries(a).reduce(((t,[e,s])=>{const n=G(s.jaName);return t[n]||(t[n]=[]),t[n].push(Number(e)),t}),{}))}}},Symbol.toStringTag,{value:"Module"}));function K(t){let e,s,n;return s=new F({props:{icon:"mdi:image-off-outline",class:"w-8 h-8 bg-white"}}),{c(){e=l("div"),S(s.$$.fragment),this.h()},l(t){e=c(t,"DIV",{class:!0});var n=o(e);N(s.$$.fragment,n),n.forEach(f),this.h()},h(){u(e,"class","absolute inset-0 flex items-center justify-center h-full")},m(t,l){m(t,e,l),T(s,e,null),n=!0},p:p,i(t){n||(U(s.$$.fragment,t),n=!0)},o(t){k(s.$$.fragment,t),n=!1},d(t){t&&f(e),A(s)}}}function Q(t){let e,s,n,a,o,i,d,g,p=!t[2]&&W();return{c(){e=l("img"),a=r(),p&&p.c(),o=v(),this.h()},l(t){e=c(t,"IMG",{src:!0,alt:!0,class:!0}),a=h(t),p&&p.l(t),o=v(),this.h()},h(){$(e.src,s=t[1])||u(e,"src",s),u(e,"alt",n=t[0]??"???"),u(e,"class","w-full h-full object-cover"),b(e,"image",!t[2]),b(e,"loaded",t[2])},m(s,n){m(s,e,n),m(s,a,n),p&&p.m(s,n),m(s,o,n),i=!0,d||(g=x(e,"load",t[3]),d=!0)},p(t,l){(!i||2&l&&!$(e.src,s=t[1]))&&u(e,"src",s),(!i||1&l&&n!==(n=t[0]??"???"))&&u(e,"alt",n),(!i||4&l)&&b(e,"image",!t[2]),(!i||4&l)&&b(e,"loaded",t[2]),t[2]?p&&(w(),k(p,1,1,(()=>{p=null})),V()):p?4&l&&U(p,1):(p=W(),p.c(),U(p,1),p.m(o.parentNode,o))},i(t){i||(U(p),i=!0)},o(t){k(p),i=!1},d(t){t&&(f(e),f(a),f(o)),p&&p.d(t),d=!1,g()}}}function W(t){let e,s,n;return s=new F({props:{icon:"mdi:progress-download",class:"w-full h-full text-white bg-gray-100 object-cover"}}),{c(){e=l("div"),S(s.$$.fragment),this.h()},l(t){e=c(t,"DIV",{class:!0});var n=o(e);N(s.$$.fragment,n),n.forEach(f),this.h()},h(){u(e,"class","absolute inset-0 flex items-center justify-center h-full")},m(t,l){m(t,e,l),T(s,e,null),n=!0},i(t){n||(U(s.$$.fragment,t),n=!0)},o(t){k(s.$$.fragment,t),n=!1},d(t){t&&f(e),A(s)}}}function X(t){let e,s,n,p,v,$,b,x,y,j,I,E,D=(t[0]??"???")+"";const S=[Q,K],N=[];function T(t,e){return null!==t[1]?0:1}return j=T(t),I=N[j]=S[j](t),{c(){e=l("div"),s=l("div"),n=l("div"),p=l("h1"),v=l("div"),$=a(D),b=r(),x=l("div"),y=l("div"),I.c(),this.h()},l(t){e=c(t,"DIV",{class:!0});var l=o(e);s=c(l,"DIV",{class:!0});var a=o(s);n=c(a,"DIV",{class:!0});var r=o(n);p=c(r,"H1",{class:!0});var u=o(p);v=c(u,"DIV",{});var m=o(v);$=i(m,D),m.forEach(f),u.forEach(f),r.forEach(f),b=h(a),x=c(a,"DIV",{class:!0});var d=o(x);y=c(d,"DIV",{class:!0});var g=o(y);I.l(g),g.forEach(f),d.forEach(f),a.forEach(f),l.forEach(f),this.h()},h(){u(p,"class","text-xs font-bold text-gray-900"),u(n,"class","absolute inset-0 m-1 flex justify-center"),u(y,"class","flex items-center justify-center bg-white rounded-full border border-gray-200 h-[80px] w-[80px]"),u(x,"class","flex justify-center"),u(s,"class","relative p-2 bg-transparent"),u(e,"class","flex flex-col bg-gray-50 rounded-2xl shadow border h-[100px] w-[100px] overflow-hidden select-none")},m(t,l){m(t,e,l),d(e,s),d(s,n),d(n,p),d(p,v),d(v,$),d(s,b),d(s,x),d(x,y),N[j].m(y,null),E=!0},p(t,[e]){(!E||1&e)&&D!==(D=(t[0]??"???")+"")&&g($,D);let s=j;j=T(t),j===s?N[j].p(t,e):(w(),k(N[s],1,1,(()=>{N[s]=null})),V(),I=N[j],I?I.p(t,e):(I=N[j]=S[j](t),I.c()),U(I,1),I.m(y,null))},i(t){E||(U(I),E=!0)},o(t){k(I),E=!1},d(t){t&&f(e),N[j].d()}}}function Y(t,e,s){let{name:n=null}=e,{imageUrl:l=null}=e,a=!1;return t.$$set=t=>{"name"in t&&s(0,n=t.name),"imageUrl"in t&&s(1,l=t.imageUrl)},t.$$.update=()=>{2&t.$$.dirty&&l&&s(2,a=!1)},[n,l,a,function(){s(2,a=!0)}]}class Z extends E{constructor(t){super(),D(this,t,Y,X,n,{name:0,imageUrl:1})}}function tt(t,e,s){const n=t.slice();return n[6]=e[s],n}function et(t){let e,s,n,p,v,$,b,y,I,E,D,w,V,O,C,B=P(t[1]),M=[];for(let l=0;l<B.length;l+=1)M[l]=st(tt(t,B,l));return w=new F({props:{icon:"mdi:close",class:"w-5 h-5"}}),{c(){e=l("div"),s=l("div"),n=l("div"),p=l("div"),v=l("h2"),$=a(t[0]),b=r(),y=l("div"),I=l("ul");for(let t=0;t<M.length;t+=1)M[t].c();E=r(),D=l("button"),S(w.$$.fragment),this.h()},l(l){e=c(l,"DIV",{class:!0,"data-parent":!0});var a=o(e);s=c(a,"DIV",{class:!0});var r=o(s);n=c(r,"DIV",{class:!0});var u=o(n);p=c(u,"DIV",{class:!0});var m=o(p);v=c(m,"H2",{class:!0});var d=o(v);$=i(d,t[0]),d.forEach(f),b=h(m),y=c(m,"DIV",{class:!0});var g=o(y);I=c(g,"UL",{class:!0});var x=o(I);for(let t=0;t<M.length;t+=1)M[t].l(x);x.forEach(f),g.forEach(f),m.forEach(f),u.forEach(f),E=h(r),D=c(r,"BUTTON",{class:!0});var j=o(D);N(w.$$.fragment,j),j.forEach(f),r.forEach(f),a.forEach(f),this.h()},h(){u(v,"class","text-2xl font-bold"),u(I,"class","mt-4 list-decimal list-inside"),u(y,"class","overflow-y-auto flex-grow"),u(p,"class","p-4 flex flex-col h-full"),u(n,"class","h-full h-full bg-white"),u(D,"class","absolute top-1 right-6 z-10"),u(s,"class","relative"),u(e,"class",""),u(e,"data-parent",t[2])},m(l,a){m(l,e,a),d(e,s),d(s,n),d(n,p),d(p,v),d(v,$),d(p,b),d(p,y),d(y,I);for(let t=0;t<M.length;t+=1)M[t]&&M[t].m(I,null);d(s,E),d(s,D),T(w,D,null),V=!0,O||(C=x(D,"click",t[5]),O=!0)},p(t,s){if((!V||1&s)&&g($,t[0]),2&s){let e;for(B=P(t[1]),e=0;e<B.length;e+=1){const n=tt(t,B,e);M[e]?M[e].p(n,s):(M[e]=st(n),M[e].c(),M[e].m(I,null))}for(;e<M.length;e+=1)M[e].d(1);M.length=B.length}(!V||4&s)&&u(e,"data-parent",t[2])},i(t){V||(U(w.$$.fragment,t),V=!0)},o(t){k(w.$$.fragment,t),V=!1},d(t){t&&f(e),j(M,t),A(w),O=!1,C()}}}function st(t){let e,s,n=t[6]+"";return{c(){e=l("li"),s=a(n)},l(t){e=c(t,"LI",{});var l=o(e);s=i(l,n),l.forEach(f)},m(t,n){m(t,e,n),d(e,s)},p(t,e){2&e&&n!==(n=t[6]+"")&&g(s,n)},d(t){t&&f(e)}}}function nt(t){let e,s,n=t[3][0]&&et(t);return{c(){n&&n.c(),e=v()},l(t){n&&n.l(t),e=v()},m(t,l){n&&n.m(t,l),m(t,e,l),s=!0},p(t,[s]){t[3][0]?n?(n.p(t,s),8&s&&U(n,1)):(n=et(t),n.c(),U(n,1),n.m(e.parentNode,e)):n&&(w(),k(n,1,1,(()=>{n=null})),V())},i(t){s||(U(n),s=!0)},o(t){k(n),s=!1},d(t){t&&f(e),n&&n.d(t)}}}function lt(t,e,s){let n,{title:l}=e,{stringArray:a=[]}=e,{parent:r}=e;const c=O();return y(t,c,(t=>s(3,n=t))),t.$$set=t=>{"title"in t&&s(0,l=t.title),"stringArray"in t&&s(1,a=t.stringArray),"parent"in t&&s(2,r=t.parent)},[l,a,r,n,c,function(){c.close()}]}class at extends E{constructor(t){super(),D(this,t,lt,nt,n,{title:0,stringArray:1,parent:2})}}function rt(t,e,s){const n=t.slice();return n[15]=e[s],n[17]=s,n}function ct(t,e,s){const n=t.slice();return n[15]=e[s],n}function ot(t){let e;return{c(){e=a("しりとり リセット")},l(t){e=i(t,"しりとり リセット")},m(t,s){m(t,e,s)},d(t){t&&f(e)}}}function it(t){let e;return{c(){e=a("しりとり スタート")},l(t){e=i(t,"しりとり スタート")},m(t,s){m(t,e,s)},d(t){t&&f(e)}}}function ft(t){let e;return{c(){e=l("div"),this.h()},l(t){e=c(t,"DIV",{class:!0}),o(e).forEach(f),this.h()},h(){u(e,"class",bt)},m(t,s){m(t,e,s)},p:p,i:p,o:p,d(t){t&&f(e)}}}function ht(t){let e,s,n,a,r;function i(){return t[8](t[15])}return s=new Z({props:{name:t[15].jaName,imageUrl:t[15].imageUrl}}),{c(){e=l("button"),S(s.$$.fragment),this.h()},l(t){e=c(t,"BUTTON",{type:!0});var n=o(e);N(s.$$.fragment,n),n.forEach(f),this.h()},h(){u(e,"type","button")},m(t,l){m(t,e,l),T(s,e,null),n=!0,a||(r=x(e,"click",i),a=!0)},p(e,n){t=e;const l={};2&n&&(l.name=t[15].jaName),2&n&&(l.imageUrl=t[15].imageUrl),s.$set(l)},i(t){n||(U(s.$$.fragment,t),n=!0)},o(t){k(s.$$.fragment,t),n=!1},d(t){t&&f(e),A(s),a=!1,r()}}}function ut(t){let e,s,n,a,i;const g=[ht,ft],p=[];function v(t,e){return t[15].isUsed?1:0}return s=v(t),n=p[s]=g[s](t),{c(){e=l("div"),n.c(),a=r(),this.h()},l(t){e=c(t,"DIV",{class:!0});var s=o(e);n.l(s),a=h(s),s.forEach(f),this.h()},h(){u(e,"class","rounded-2xl border-2")},m(t,n){m(t,e,n),p[s].m(e,null),d(e,a),i=!0},p(t,l){let r=s;s=v(t),s===r?p[s].p(t,l):(w(),k(p[r],1,1,(()=>{p[r]=null})),V(),n=p[s],n?n.p(t,l):(n=p[s]=g[s](t),n.c()),U(n,1),n.m(e,a))},i(t){i||(U(n),i=!0)},o(t){k(n),i=!1},d(t){t&&f(e),p[s].d()}}}function mt(t){let e;return{c(){e=l("div"),this.h()},l(t){e=c(t,"DIV",{class:!0}),o(e).forEach(f),this.h()},h(){u(e,"class",bt)},m(t,s){m(t,e,s)},p:p,i:p,o:p,d(t){t&&f(e)}}}function dt(t){let e,s;return e=new Z({props:{name:t[15].jaName,imageUrl:t[15].imageUrl}}),{c(){S(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,n){T(e,t,n),s=!0},p(t,s){const n={};1&s&&(n.name=t[15].jaName),1&s&&(n.imageUrl=t[15].imageUrl),e.$set(n)},i(t){s||(U(e.$$.fragment,t),s=!0)},o(t){k(e.$$.fragment,t),s=!1},d(t){A(e,t)}}}function gt(t){let e,s,n,a,i,d;const g=[dt,mt],p=[];function $(t,e){return t[15]?0:1}s=$(t),n=p[s]=g[s](t);let b=t[17]<2&&function(){let t;return{c(){t=l("span"),t.textContent="→"},l(e){t=c(e,"SPAN",{"data-svelte-h":!0}),"svelte-1xb5tc"!==I(t)&&(t.textContent="→")},m(e,s){m(e,t,s)},d(e){e&&f(t)}}}();return{c(){e=l("div"),n.c(),a=r(),b&&b.c(),i=v(),this.h()},l(t){e=c(t,"DIV",{class:!0});var s=o(e);n.l(s),s.forEach(f),a=h(t),b&&b.l(t),i=v(),this.h()},h(){u(e,"class","rounded-2xl border-2")},m(t,n){m(t,e,n),p[s].m(e,null),m(t,a,n),b&&b.m(t,n),m(t,i,n),d=!0},p(t,l){let a=s;s=$(t),s===a?p[s].p(t,l):(w(),k(p[a],1,1,(()=>{p[a]=null})),V(),n=p[s],n?n.p(t,l):(n=p[s]=g[s](t),n.c()),U(n,1),n.m(e,null))},i(t){d||(U(n),d=!0)},o(t){k(n),d=!1},d(t){t&&(f(e),f(a),f(i)),p[s].d(),b&&b.d(t)}}}function pt(t){let e,s,n,p,v,$,b,x,y,E,D,O,C,B,M,H,_,L,F,q,G,R,J,K,Q,W,X,Y,Z,tt,et,st,nt,lt,at,ft,ht,mt,dt,pt,xt='<h1 class="cTitleStyle">ポケモンしりとり</h1>',yt=t[0].length+"",jt="ポケモン を いれかえる";function It(t,e){return 0===t[1].length?it:ot}let Et=It(t),Dt=Et(t);y=new z({props:{icon:"mdi:pokeball",cButton:"btn-sm",onClick:t[5]}}),H=new z({props:{icon:"mdi:format-list-numbered",cButton:"btn-sm",onClick:t[6]}});let wt=P(t[1]),kt=[];for(let l=0;l<wt.length;l+=1)kt[l]=ut(ct(t,wt,l));const Vt=t=>k(kt[t],1,1,(()=>{kt[t]=null}));X=new z({props:{icon:"mdi:pokeball",cButton:"btn-sm",onClick:t[3],disabled:0==t[0].length}});let Ut=P(t[0].length>=2?t[0].slice(-2):[...Array(2-t[0].length).fill(null),...t[0]]),St=[];for(let l=0;l<Ut.length;l+=1)St[l]=gt(rt(t,Ut,l));const Nt=t=>k(St[t],1,1,(()=>{St[t]=null}));return{c(){e=l("div"),s=l("div"),s.innerHTML=xt,n=r(),p=l("div"),v=l("div"),$=l("div"),b=l("span"),Dt.c(),x=r(),S(y.$$.fragment),E=r(),D=l("div"),D.innerHTML="",O=r(),C=l("p"),B=a(yt),M=r(),S(H.$$.fragment),_=r(),L=l("div"),L.innerHTML="",F=r(),q=l("div"),G=l("div");for(let t=0;t<kt.length;t+=1)kt[t].c();R=r(),J=l("div"),K=l("div"),Q=l("span"),Q.textContent=jt,W=r(),S(X.$$.fragment),Y=r(),Z=l("div"),tt=l("div");for(let t=0;t<St.length;t+=1)St[t].c();et=r(),st=l("div"),nt=l("div"),lt=l("span"),lt.textContent="？",at=r(),ft=l("div"),ht=l("div"),mt=l("span"),dt=a(t[2]),this.h()},l(l){e=c(l,"DIV",{class:!0});var a=o(e);s=c(a,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-n7rgko"!==I(s)&&(s.innerHTML=xt),n=h(a),p=c(a,"DIV",{class:!0});var r=o(p);v=c(r,"DIV",{class:!0});var u=o(v);$=c(u,"DIV",{class:!0});var m=o($);b=c(m,"SPAN",{class:!0});var d=o(b);Dt.l(d),d.forEach(f),x=h(m),N(y.$$.fragment,m),E=h(m),D=c(m,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-1rtwic7"!==I(D)&&(D.innerHTML=""),O=h(m),C=c(m,"P",{class:!0});var g=o(C);B=i(g,yt),g.forEach(f),M=h(m),N(H.$$.fragment,m),_=h(m),L=c(m,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-17db9va"!==I(L)&&(L.innerHTML=""),m.forEach(f),u.forEach(f),F=h(r),q=c(r,"DIV",{class:!0});var j=o(q);G=c(j,"DIV",{class:!0});var w=o(G);for(let t=0;t<kt.length;t+=1)kt[t].l(w);w.forEach(f),j.forEach(f),R=h(r),J=c(r,"DIV",{class:!0});var k=o(J);K=c(k,"DIV",{class:!0});var V=o(K);Q=c(V,"SPAN",{class:!0,"data-svelte-h":!0}),"svelte-1jaekrh"!==I(Q)&&(Q.textContent=jt),W=h(V),N(X.$$.fragment,V),V.forEach(f),k.forEach(f),Y=h(r),Z=c(r,"DIV",{class:!0});var U=o(Z);tt=c(U,"DIV",{class:!0});var S=o(tt);for(let t=0;t<St.length;t+=1)St[t].l(S);et=h(S),st=c(S,"DIV",{class:!0});var T=o(st);nt=c(T,"DIV",{class:!0});var A=o(nt);lt=c(A,"SPAN",{class:!0,"data-svelte-h":!0}),"svelte-mds9k2"!==I(lt)&&(lt.textContent="？"),A.forEach(f),T.forEach(f),S.forEach(f),U.forEach(f),at=h(r),ft=c(r,"DIV",{class:!0});var P=o(ft);ht=c(P,"DIV",{class:!0});var z=o(ht);mt=c(z,"SPAN",{class:!0});var rt=o(mt);dt=i(rt,t[2]),rt.forEach(f),z.forEach(f),P.forEach(f),r.forEach(f),a.forEach(f),this.h()},h(){u(s,"class","cTitlePartStyle"),u(b,"class","cSpanTextStyle"),u(D,"class","flex-grow"),u(C,"class","cSpanTextStyle"),u(L,"class","mr-4"),u($,"class","cInputFormAndMessagePartStyle"),u(v,"class","m-4 space-y-2"),u(G,"class",$t),u(q,"class",vt),u(Q,"class","cSpanTextStyle"),u(K,"class","cInputFormAndMessagePartStyle"),u(J,"class","m-4"),u(lt,"class","block text-center text-xl"),u(nt,"class",bt),u(st,"class","rounded-2xl border-2"),u(tt,"class",$t+" md:ml-16 md:mr-16"),u(Z,"class",vt),u(mt,"class","cSpanTextStyle"),u(ht,"class","cInputFormAndMessagePartStyle mb-2"),u(ft,"class","m-4"),u(p,"class","cContentPartStyle !min-w-[300px] !max-w-[750px]"),u(e,"class","cRouteBodyStyle")},m(t,l){m(t,e,l),d(e,s),d(e,n),d(e,p),d(p,v),d(v,$),d($,b),Dt.m(b,null),d($,x),T(y,$,null),d($,E),d($,D),d($,O),d($,C),d(C,B),d($,M),T(H,$,null),d($,_),d($,L),d(p,F),d(p,q),d(q,G);for(let e=0;e<kt.length;e+=1)kt[e]&&kt[e].m(G,null);d(p,R),d(p,J),d(J,K),d(K,Q),d(K,W),T(X,K,null),d(p,Y),d(p,Z),d(Z,tt);for(let e=0;e<St.length;e+=1)St[e]&&St[e].m(tt,null);d(tt,et),d(tt,st),d(st,nt),d(nt,lt),d(p,at),d(p,ft),d(ft,ht),d(ht,mt),d(mt,dt),pt=!0},p(t,[e]){if(Et!==(Et=It(t))&&(Dt.d(1),Dt=Et(t),Dt&&(Dt.c(),Dt.m(b,null))),(!pt||1&e)&&yt!==(yt=t[0].length+"")&&g(B,yt),18&e){let s;for(wt=P(t[1]),s=0;s<wt.length;s+=1){const n=ct(t,wt,s);kt[s]?(kt[s].p(n,e),U(kt[s],1)):(kt[s]=ut(n),kt[s].c(),U(kt[s],1),kt[s].m(G,null))}for(w(),s=wt.length;s<kt.length;s+=1)Vt(s);V()}const s={};if(1&e&&(s.disabled=0==t[0].length),X.$set(s),1&e){let s;for(Ut=P(t[0].length>=2?t[0].slice(-2):[...Array(2-t[0].length).fill(null),...t[0]]),s=0;s<Ut.length;s+=1){const n=rt(t,Ut,s);St[s]?(St[s].p(n,e),U(St[s],1)):(St[s]=gt(n),St[s].c(),U(St[s],1),St[s].m(tt,et))}for(w(),s=Ut.length;s<St.length;s+=1)Nt(s);V()}(!pt||4&e)&&g(dt,t[2])},i(t){if(!pt){U(y.$$.fragment,t),U(H.$$.fragment,t);for(let t=0;t<wt.length;t+=1)U(kt[t]);U(X.$$.fragment,t);for(let t=0;t<Ut.length;t+=1)U(St[t]);pt=!0}},o(t){k(y.$$.fragment,t),k(H.$$.fragment,t),kt=kt.filter(Boolean);for(let e=0;e<kt.length;e+=1)k(kt[e]);k(X.$$.fragment,t),St=St.filter(Boolean);for(let e=0;e<St.length;e+=1)k(St[e]);pt=!1},d(t){t&&f(e),Dt.d(),A(y),A(H),j(kt,t),A(X),j(St,t)}}}const vt="min-h-[150px] md:min-w-[750px] border bg-white rounded-xl",$t="flex flex-wrap justify-between gap-y-1 p-4",bt="h-[100px] w-[100px] bg-gray-100 rounded-2xl";function xt(t,e,s){let{data:n}=e,l=n.pokeDict;const a=n.groupByHeadCharDict;let r=[];function c(){0===f.length&&h();const t=R(f[f.length-1].jaName),e=(n=l,Object.fromEntries(Object.entries(n).filter((([,t])=>!t.isUsed))));var n;const c=function(t,e,s){const n=e[s]??[];return Object.fromEntries(n.filter((e=>e in t)).map((e=>[e,t[e]])))}(e,a,t),o=Object.keys(e).length>12?M(e,12):Object.values(e),i=Object.keys(c).length>4?M(c,4):Object.values(c);s(1,r=H([...new Set([...o,...i])]).slice(0,12))}function o(t){l[t].isUsed=!0,s(1,r=r.map((e=>e.pokeId===t?{...e,isUsed:!0}:e)))}let i,f=[];function h(){const t=_(l);o(t);const e=l[t];B(e.oggUrl),s(0,f=[e])}function u(t){if(0===f.length)return void s(2,i="ポケモン を よびだしてね");const e=f[f.length-1].jaName;!function(t,e){return R(t)===G(e)}(e,t.jaName)?s(2,i=`「${R(e??"")}」 から はじまる ポケモン を えらんでね`):(o(t.pokeId),B(t.oggUrl),s(0,f=[...f,t]))}function m(){const t=f.slice(-1)[0]??null;if(null===t)return void s(2,i="ポケモン を よびだしてね");const e=R(t.jaName);if("ン"!==e)if(1==f.length)s(2,i=`はじめは 「${R(e)}」`);else{const t=["そのちょうし！","いいぞ！","がんばれ！","すごい！","いけいけ！"];s(2,i=`${t[L(t.length)]} つぎは 「${R(e)}」`)}else s(2,i="ン で おわっちゃった...")}const d=O();return t.$$set=t=>{"data"in t&&s(7,n=t.data)},t.$$.update=()=>{1&t.$$.dirty&&f&&m()},[f,r,i,c,u,function(){var t;t=C(n.pokeDict,"pokeId"),l=Object.fromEntries(Object.entries(t).map((([t,e])=>[t,{...e,isUsed:!1}]))),s(0,f=[]),h(),c(),m()},function(){const t=function(t){return{type:"component",component:t,backdropClasses:"fixed inset-0 !bg-gray-300/90"}}({ref:at,props:{title:"しりとりリスト",stringArray:f.map((t=>t.jaName))}});d.trigger(t)},n,t=>u(t)]}class yt extends E{constructor(t){super(),D(this,t,xt,pt,n,{data:7})}}export{yt as component,J as universal};
