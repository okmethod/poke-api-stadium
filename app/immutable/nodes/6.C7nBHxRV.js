import{b as vt,f as bt}from"../chunks/fetchStaticData.uM2cD0EE.js";import{P as Bt,F as Ft}from"../chunks/common.3e1mQu3z.js";import{a as Qe,p as Te,l as R,f as d,w as $t,e as m,b as P,c as p,d as v,h as $,q as Ut,j as f,m as i,u as re,x as fe,t as se,i as ae,z as Ge,n as Ee,y as Je,v as Vt,k as J,o as Re}from"../chunks/scheduler.CUIDQL-i.js";import{S as We,i as Xe,a as C,g as $e,t as j,c as Ve,b as de,d as me,m as pe,e as _e}from"../chunks/index.DvDG_np6.js";import{e as we}from"../chunks/each.DQcc57QZ.js";import{g as Ye}from"../chunks/stores.BAhxxdnB.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.DsdQztcN.js";import{I as Se}from"../chunks/Icon.jS-m3xkb.js";import{P as jt}from"../chunks/PokeTile.DazWfDnT.js";import{g as kt}from"../chunks/numerics.BpAOxbdF.js";import{p as Rt}from"../chunks/collections.CVaw1mrQ.js";async function Ht({fetch:n}){await vt(n,"load to cache");const t=await l();async function l(){const a=Array.from({length:Bt},(o,u)=>Ft+u).map(async o=>{const u=await vt(window.fetch,o.toString());return u&&u.imageUrl!==null?e(o,u):null});return(await Promise.all(a)).filter(o=>o!==null)}async function e(s,a){const r=await bt(a.type1Name);return{pokeId:s,jaName:a.jaName,imageUrl:a.imageUrl??"not_found",type:a.type2Name?[r,await bt(a.type2Name)]:[r],speed:a.stats.speed}}return{pokeItems:t}}const dl=Object.freeze(Object.defineProperty({__proto__:null,load:Ht},Symbol.toStringTag,{value:"Module"}));function yt(n){let t,l,e,s,a,r,o,u,b,M;return o=new Se({props:{icon:"mdi:close",class:"w-5 h-5"}}),{c(){t=m("div"),l=m("div"),e=m("img"),a=P(),r=m("button"),de(o.$$.fragment),this.h()},l(_){t=p(_,"DIV",{class:!0,"data-parent":!0});var h=v(t);l=p(h,"DIV",{class:!0});var g=v(l);e=p(g,"IMG",{src:!0,alt:!0,class:!0}),a=$(g),r=p(g,"BUTTON",{class:!0});var I=v(r);me(o.$$.fragment,I),I.forEach(d),g.forEach(d),h.forEach(d),this.h()},h(){Ut(e.src,s=qt)||f(e,"src",s),f(e,"alt","type_relations"),f(e,"class","w-96 h-96 object-contain"),f(r,"class","absolute top-1 right-6 z-10"),f(l,"class","relative"),f(t,"class",""),f(t,"data-parent",n[0])},m(_,h){R(_,t,h),i(t,l),i(l,e),i(l,a),i(l,r),pe(o,r,null),u=!0,b||(M=re(r,"click",n[3]),b=!0)},p(_,h){(!u||h&1)&&f(t,"data-parent",_[0])},i(_){u||(C(o.$$.fragment,_),u=!0)},o(_){j(o.$$.fragment,_),u=!1},d(_){_&&d(t),_e(o),b=!1,M()}}}function Lt(n){let t,l,e=n[1][0]&&yt(n);return{c(){e&&e.c(),t=Te()},l(s){e&&e.l(s),t=Te()},m(s,a){e&&e.m(s,a),R(s,t,a),l=!0},p(s,[a]){s[1][0]?e?(e.p(s,a),a&2&&C(e,1)):(e=yt(s),e.c(),C(e,1),e.m(t.parentNode,t)):e&&($e(),j(e,1,1,()=>{e=null}),Ve())},i(s){l||(C(e),l=!0)},o(s){j(e),l=!1},d(s){s&&d(t),e&&e.d(s)}}}const qt="https://www.pokemon.co.jp/ex/sun_moon/common/images/fight/161215_01/img_01.png";function zt(n,t,l){let e,{parent:s}=t;const a=Ye();$t(n,a,o=>l(1,e=o));function r(){a.close()}return n.$$set=o=>{"parent"in o&&l(0,s=o.parent)},[s,e,a,r]}class Gt extends We{constructor(t){super(),Xe(this,t,zt,Lt,Qe,{parent:0})}}function It(n){let t,l,e,s=`<div class="p-4"><h2 class="text-2xl font-bold">ルール</h2> <p class="mt-4">まず ポケモン を 1たい えらぶ。
            <br/>
            つぎに タイプ を どちらか 1つ えらぶ。
            <br/>
            すばやさ が たかい ほうが こうげきする。</p> <ul class="mt-4 list-disc list-inside"><li>ばつぐん なら かち。</li> <li>いまひとつ か こうかなし なら まけ。</li> <li>どちらでもない なら あいこ。</li></ul></div>`,a,r,o,u,b,M;return o=new Se({props:{icon:"mdi:close",class:"w-5 h-5"}}),{c(){t=m("div"),l=m("div"),e=m("div"),e.innerHTML=s,a=P(),r=m("button"),de(o.$$.fragment),this.h()},l(_){t=p(_,"DIV",{class:!0,"data-parent":!0});var h=v(t);l=p(h,"DIV",{class:!0});var g=v(l);e=p(g,"DIV",{class:!0,"data-svelte-h":!0}),fe(e)!=="svelte-mlq9ej"&&(e.innerHTML=s),a=$(g),r=p(g,"BUTTON",{class:!0});var I=v(r);me(o.$$.fragment,I),I.forEach(d),g.forEach(d),h.forEach(d),this.h()},h(){f(e,"class","w-full h-full bg-white"),f(r,"class","absolute top-1 right-6 z-10"),f(l,"class","relative"),f(t,"class",""),f(t,"data-parent",n[0])},m(_,h){R(_,t,h),i(t,l),i(l,e),i(l,a),i(l,r),pe(o,r,null),u=!0,b||(M=re(r,"click",n[3]),b=!0)},p(_,h){(!u||h&1)&&f(t,"data-parent",_[0])},i(_){u||(C(o.$$.fragment,_),u=!0)},o(_){j(o.$$.fragment,_),u=!1},d(_){_&&d(t),_e(o),b=!1,M()}}}function Jt(n){let t,l,e=n[1][0]&&It(n);return{c(){e&&e.c(),t=Te()},l(s){e&&e.l(s),t=Te()},m(s,a){e&&e.m(s,a),R(s,t,a),l=!0},p(s,[a]){s[1][0]?e?(e.p(s,a),a&2&&C(e,1)):(e=It(s),e.c(),C(e,1),e.m(t.parentNode,t)):e&&($e(),j(e,1,1,()=>{e=null}),Ve())},i(s){l||(C(e),l=!0)},o(s){j(e),l=!1},d(s){s&&d(t),e&&e.d(s)}}}function Kt(n,t,l){let e,{parent:s}=t;const a=Ye();$t(n,a,o=>l(1,e=o));function r(){a.close()}return n.$$set=o=>{"parent"in o&&l(0,s=o.parent)},[s,e,a,r]}class Qt extends We{constructor(t){super(),Xe(this,t,Kt,Jt,Qe,{parent:0})}}function Nt(n,t,l){const e=n.slice();return e[26]=t[l],e}function Et(n,t,l){const e=n.slice();return e[29]=t[l],e[31]=l,e}function wt(n,t,l){const e=n.slice();return e[29]=t[l],e[31]=l,e}function St(n){let t,l,e,s,a;return l=new jt({props:{pokeId:n[29].pokeId,name:n[29].jaName,type1Name:n[29].type[0].enName,type2Name:n[29].type.length>1?n[29].type[1].enName:null,imageUrl:n[29].imageUrl}}),{c(){t=m("div"),de(l.$$.fragment),e=P(),this.h()},l(r){t=p(r,"DIV",{class:!0});var o=v(t);me(l.$$.fragment,o),e=$(o),o.forEach(d),this.h()},h(){f(t,"class",s="rounded-2xl border-2 "+(n[31]==n[4]?"border-red-500":"border-transparent"))},m(r,o){R(r,t,o),pe(l,t,null),i(t,e),a=!0},p(r,o){const u={};o[0]&8&&(u.pokeId=r[29].pokeId),o[0]&8&&(u.name=r[29].jaName),o[0]&8&&(u.type1Name=r[29].type[0].enName),o[0]&8&&(u.type2Name=r[29].type.length>1?r[29].type[1].enName:null),o[0]&8&&(u.imageUrl=r[29].imageUrl),l.$set(u),(!a||o[0]&16&&s!==(s="rounded-2xl border-2 "+(r[31]==r[4]?"border-red-500":"border-transparent")))&&f(t,"class",s)},i(r){a||(C(l.$$.fragment,r),a=!0)},o(r){j(l.$$.fragment,r),a=!1},d(r){r&&d(t),_e(l)}}}function Wt(n){let t,l,e,s,a,r,o,u=n[7].jaName+"",b,M,_,h=n[8].jaName+"",g,I,K;return{c(){t=m("span"),l=se(n[6]),e=se(" の こうげき！"),s=P(),a=m("span"),r=m("span"),o=m("span"),b=se(u),M=se(`
              は
              `),_=m("span"),g=se(h),I=se(`
              に `),K=se(n[10]),this.h()},l(N){t=p(N,"SPAN",{class:!0});var D=v(t);l=ae(D,n[6]),e=ae(D," の こうげき！"),D.forEach(d),s=$(N),a=p(N,"SPAN",{class:!0});var H=v(a);r=p(H,"SPAN",{class:!0});var O=v(r);o=p(O,"SPAN",{style:!0,class:!0});var L=v(o);b=ae(L,u),L.forEach(d),M=ae(O,`
              は
              `),_=p(O,"SPAN",{style:!0,class:!0});var Q=v(_);g=ae(Q,h),Q.forEach(d),I=ae(O,`
              に `),K=ae(O,n[10]),O.forEach(d),H.forEach(d),this.h()},h(){f(t,"class","block sm:inline"),J(o,"background-color",n[7].themeColor),J(o,"color",n[7].textColor),f(o,"class",Ke),J(_,"background-color",n[8].themeColor),J(_,"color",n[8].textColor),f(_,"class",Ke),f(r,"class","inline"),f(a,"class","block sm:inline")},m(N,D){R(N,t,D),i(t,l),i(t,e),R(N,s,D),R(N,a,D),i(a,r),i(r,o),i(o,b),i(r,M),i(r,_),i(_,g),i(r,I),i(r,K)},p(N,D){D[0]&64&&Ee(l,N[6]),D[0]&128&&u!==(u=N[7].jaName+"")&&Ee(b,u),D[0]&128&&J(o,"background-color",N[7].themeColor),D[0]&128&&J(o,"color",N[7].textColor),D[0]&256&&h!==(h=N[8].jaName+"")&&Ee(g,h),D[0]&256&&J(_,"background-color",N[8].themeColor),D[0]&256&&J(_,"color",N[8].textColor),D[0]&1024&&Ee(K,N[10])},d(N){N&&(d(t),d(s),d(a))}}}function Xt(n){let t,l="VS";return{c(){t=m("span"),t.textContent=l,this.h()},l(e){t=p(e,"SPAN",{class:!0,"data-svelte-h":!0}),fe(t)!=="svelte-qavuzn"&&(t.textContent=l),this.h()},h(){f(t,"class","block")},m(e,s){R(e,t,s)},p:Re,d(e){e&&d(t)}}}function Tt(n){let t,l,e,s,a,r,o,u,b;e=new jt({props:{pokeId:n[29].pokeId,name:n[29].jaName,type1Name:n[29].type[0].enName,type2Name:n[29].type.length>1?n[29].type[1].enName:null,imageUrl:n[29].imageUrl}});function M(){return n[17](n[31])}function _(...h){return n[18](n[31],...h)}return{c(){t=m("div"),l=m("button"),de(e.$$.fragment),a=P(),this.h()},l(h){t=p(h,"DIV",{class:!0});var g=v(t);l=p(g,"BUTTON",{type:!0});var I=v(l);me(e.$$.fragment,I),I.forEach(d),a=$(g),g.forEach(d),this.h()},h(){f(l,"type","button"),l.disabled=s=n[1]!=="select_poke",f(t,"class",r="rounded-2xl border-2 "+(n[31]==n[0]?"border-red-500":"border-transparent"))},m(h,g){R(h,t,g),i(t,l),pe(e,l,null),i(t,a),o=!0,u||(b=[re(l,"click",M),re(l,"keydown",_)],u=!0)},p(h,g){n=h;const I={};g[0]&4&&(I.pokeId=n[29].pokeId),g[0]&4&&(I.name=n[29].jaName),g[0]&4&&(I.type1Name=n[29].type[0].enName),g[0]&4&&(I.type2Name=n[29].type.length>1?n[29].type[1].enName:null),g[0]&4&&(I.imageUrl=n[29].imageUrl),e.$set(I),(!o||g[0]&2&&s!==(s=n[1]!=="select_poke"))&&(l.disabled=s),(!o||g[0]&1&&r!==(r="rounded-2xl border-2 "+(n[31]==n[0]?"border-red-500":"border-transparent")))&&f(t,"class",r)},i(h){o||(C(e.$$.fragment,h),o=!0)},o(h){j(e.$$.fragment,h),o=!1},d(h){h&&d(t),_e(e),u=!1,Vt(b)}}}function Yt(n){let t,l=we(n[5].type),e=[];for(let s=0;s<l.length;s+=1)e[s]=Dt(Nt(n,l,s));return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=Te()},l(s){for(let a=0;a<e.length;a+=1)e[a].l(s);t=Te()},m(s,a){for(let r=0;r<e.length;r+=1)e[r]&&e[r].m(s,a);R(s,t,a)},p(s,a){if(a[0]&8224){l=we(s[5].type);let r;for(r=0;r<l.length;r+=1){const o=Nt(s,l,r);e[r]?e[r].p(o,a):(e[r]=Dt(o),e[r].c(),e[r].m(t.parentNode,t))}for(;r<e.length;r+=1)e[r].d(1);e.length=l.length}},i:Re,o:Re,d(s){s&&d(t),Je(e,s)}}}function Zt(n){let t,l,e,s,a,r;return e=new Se({props:{icon:"mdi:pokeball",class:"cIconStyle"}}),{c(){t=m("button"),l=m("div"),de(e.$$.fragment),this.h()},l(o){t=p(o,"BUTTON",{type:!0,class:!0});var u=v(t);l=p(u,"DIV",{class:!0});var b=v(l);me(e.$$.fragment,b),b.forEach(d),u.forEach(d),this.h()},h(){f(l,"class","cIconDivStyle"),f(t,"type","button"),f(t,"class","cIconButtonStyle")},m(o,u){R(o,t,u),i(t,l),pe(e,l,null),s=!0,a||(r=re(t,"click",n[12]),a=!0)},p:Re,i(o){s||(C(e.$$.fragment,o),s=!0)},o(o){j(e.$$.fragment,o),s=!1},d(o){o&&d(t),_e(e),a=!1,r()}}}function Dt(n){let t,l=n[26].jaName+"",e,s,a,r;function o(){return n[19](n[26])}return{c(){t=m("button"),e=se(l),s=P(),this.h()},l(u){t=p(u,"BUTTON",{style:!0,class:!0});var b=v(t);e=ae(b,l),s=$(b),b.forEach(d),this.h()},h(){J(t,"background-color",n[26].themeColor),J(t,"color",n[26].textColor),f(t,"class",Ke+" flex items-center hover:brightness-85")},m(u,b){R(u,t,b),i(t,e),i(t,s),a||(r=re(t,"click",o),a=!0)},p(u,b){n=u,b[0]&32&&l!==(l=n[26].jaName+"")&&Ee(e,l),b[0]&32&&J(t,"background-color",n[26].themeColor),b[0]&32&&J(t,"color",n[26].textColor)},d(u){u&&d(t),a=!1,r()}}}function xt(n){let t,l,e='<h1 class="cTitleStyle">ポケモンタイプじゃんけん</h1>',s,a,r,o,u,b="ポケモン を よびだす",M,_,h,g,I,K,N,D="",H,O,L,Q,x,ye,ie,ee,ue,te,De,E,q="",he,X,le,je="あいて",G,U,Y,z,F,Ce,Z,ne,Ze="あなた",He,ge,Le,Ie,oe,Ne,Oe,qe,A,B,Me,ze,xe;I=new Se({props:{icon:"mdi:pokeball",class:"cIconStyle"}}),x=new Se({props:{icon:"mdi:head-question-outline",class:"cIconStyle"}}),te=new Se({props:{icon:"mdi:table-question",class:"cIconStyle"}});let ve=we(n[3]),w=[];for(let c=0;c<ve.length;c+=1)w[c]=St(wt(n,ve,c));const Ot=c=>j(w[c],1,1,()=>{w[c]=null});function et(c,y){return c[1]!=="term"?Xt:Wt}let Ae=et(n),W=Ae(n),be=we(n[2]),S=[];for(let c=0;c<be.length;c+=1)S[c]=Tt(Et(n,be,c));const At=c=>j(S[c],1,1,()=>{S[c]=null}),tt=[Zt,Yt],ce=[];function lt(c,y){return c[1]=="select_poke"&&c[0]!==-1?0:c[1]=="select_type"?1:-1}return~(A=lt(n))&&(B=ce[A]=tt[A](n)),{c(){t=m("div"),l=m("div"),l.innerHTML=e,s=P(),a=m("div"),r=m("div"),o=m("div"),u=m("span"),u.textContent=b,M=P(),_=m("form"),h=m("button"),g=m("div"),de(I.$$.fragment),K=P(),N=m("div"),N.innerHTML=D,H=P(),O=m("form"),L=m("button"),Q=m("div"),de(x.$$.fragment),ye=P(),ie=m("form"),ee=m("button"),ue=m("div"),de(te.$$.fragment),De=P(),E=m("div"),E.innerHTML=q,he=P(),X=m("div"),le=m("span"),le.textContent=je,G=P(),U=m("div");for(let c=0;c<w.length;c+=1)w[c].c();Y=P(),z=m("div"),F=m("p"),W.c(),Ce=P(),Z=m("div"),ne=m("span"),ne.textContent=Ze,He=P(),ge=m("div");for(let c=0;c<S.length;c+=1)S[c].c();Le=P(),Ie=m("div"),oe=m("div"),Ne=m("span"),Oe=se(n[9]),qe=P(),B&&B.c(),this.h()},l(c){t=p(c,"DIV",{class:!0});var y=v(t);l=p(y,"DIV",{class:!0,"data-svelte-h":!0}),fe(l)!=="svelte-1r5gn7p"&&(l.innerHTML=e),s=$(y),a=p(y,"DIV",{class:!0});var T=v(a);r=p(T,"DIV",{class:!0});var k=v(r);o=p(k,"DIV",{class:!0});var V=v(o);u=p(V,"SPAN",{class:!0,"data-svelte-h":!0}),fe(u)!=="svelte-mp7i3f"&&(u.textContent=b),M=$(V),_=p(V,"FORM",{});var nt=v(_);h=p(nt,"BUTTON",{type:!0,class:!0});var ot=v(h);g=p(ot,"DIV",{class:!0});var st=v(g);me(I.$$.fragment,st),st.forEach(d),ot.forEach(d),nt.forEach(d),K=$(V),N=p(V,"DIV",{class:!0,"data-svelte-h":!0}),fe(N)!=="svelte-1rtwic7"&&(N.innerHTML=D),H=$(V),O=p(V,"FORM",{});var at=v(O);L=p(at,"BUTTON",{type:!0,class:!0});var rt=v(L);Q=p(rt,"DIV",{class:!0});var it=v(Q);me(x.$$.fragment,it),it.forEach(d),rt.forEach(d),at.forEach(d),ye=$(V),ie=p(V,"FORM",{});var ut=v(ie);ee=p(ut,"BUTTON",{type:!0,class:!0});var ct=v(ee);ue=p(ct,"DIV",{class:!0});var ft=v(ue);me(te.$$.fragment,ft),ft.forEach(d),ct.forEach(d),ut.forEach(d),De=$(V),E=p(V,"DIV",{class:!0,"data-svelte-h":!0}),fe(E)!=="svelte-17db9va"&&(E.innerHTML=q),V.forEach(d),k.forEach(d),he=$(T),X=p(T,"DIV",{class:!0});var Be=v(X);le=p(Be,"SPAN",{class:!0,"data-svelte-h":!0}),fe(le)!=="svelte-10ns923"&&(le.textContent=je),G=$(Be),U=p(Be,"DIV",{class:!0});var dt=v(U);for(let ke=0;ke<w.length;ke+=1)w[ke].l(dt);dt.forEach(d),Be.forEach(d),Y=$(T),z=p(T,"DIV",{});var mt=v(z);F=p(mt,"P",{class:!0});var pt=v(F);W.l(pt),pt.forEach(d),mt.forEach(d),Ce=$(T),Z=p(T,"DIV",{class:!0});var Fe=v(Z);ne=p(Fe,"SPAN",{class:!0,"data-svelte-h":!0}),fe(ne)!=="svelte-mhotnc"&&(ne.textContent=Ze),He=$(Fe),ge=p(Fe,"DIV",{class:!0});var _t=v(ge);for(let ke=0;ke<S.length;ke+=1)S[ke].l(_t);_t.forEach(d),Fe.forEach(d),Le=$(T),Ie=p(T,"DIV",{class:!0});var ht=v(Ie);oe=p(ht,"DIV",{class:!0});var Ue=v(oe);Ne=p(Ue,"SPAN",{class:!0});var gt=v(Ne);Oe=ae(gt,n[9]),gt.forEach(d),qe=$(Ue),B&&B.l(Ue),Ue.forEach(d),ht.forEach(d),T.forEach(d),y.forEach(d),this.h()},h(){f(l,"class","cTitlePartStyle"),f(u,"class","text-lg"),f(g,"class","cIconDivStyle"),f(h,"type","submit"),f(h,"class","cIconButtonStyle"),f(N,"class","flex-grow"),f(Q,"class","cIconDivStyle"),f(L,"type","submit"),f(L,"class","cIconButtonStyle"),f(ue,"class","cIconDivStyle"),f(ee,"type","submit"),f(ee,"class","cIconButtonStyle"),f(E,"class","mr-4"),f(o,"class","cInputFormAndMessagePartStyle"),f(r,"class","m-4"),f(le,"class","block mt-1 ml-2"),f(U,"class",Mt),f(X,"class",Ct),f(F,"class","text-center text-lg"),f(ne,"class","block mt-1 ml-2"),f(ge,"class",Mt),f(Z,"class",Ct),f(Ne,"class","text-lg"),f(oe,"class","cInputFormAndMessagePartStyle"),f(Ie,"class","m-4"),f(a,"class","cContentPartStyle !min-w-[300px] !max-w-[600px]"),f(t,"class","cRouteBodyStyle")},m(c,y){R(c,t,y),i(t,l),i(t,s),i(t,a),i(a,r),i(r,o),i(o,u),i(o,M),i(o,_),i(_,h),i(h,g),pe(I,g,null),i(o,K),i(o,N),i(o,H),i(o,O),i(O,L),i(L,Q),pe(x,Q,null),i(o,ye),i(o,ie),i(ie,ee),i(ee,ue),pe(te,ue,null),i(o,De),i(o,E),i(a,he),i(a,X),i(X,le),i(X,G),i(X,U);for(let T=0;T<w.length;T+=1)w[T]&&w[T].m(U,null);i(a,Y),i(a,z),i(z,F),W.m(F,null),i(a,Ce),i(a,Z),i(Z,ne),i(Z,He),i(Z,ge);for(let T=0;T<S.length;T+=1)S[T]&&S[T].m(ge,null);i(a,Le),i(a,Ie),i(Ie,oe),i(oe,Ne),i(Ne,Oe),i(oe,qe),~A&&ce[A].m(oe,null),Me=!0,ze||(xe=[re(_,"submit",Ge(n[11])),re(O,"submit",Ge(n[14])),re(ie,"submit",Ge(n[15]))],ze=!0)},p(c,y){if(y[0]&24){ve=we(c[3]);let k;for(k=0;k<ve.length;k+=1){const V=wt(c,ve,k);w[k]?(w[k].p(V,y),C(w[k],1)):(w[k]=St(V),w[k].c(),C(w[k],1),w[k].m(U,null))}for($e(),k=ve.length;k<w.length;k+=1)Ot(k);Ve()}if(Ae===(Ae=et(c))&&W?W.p(c,y):(W.d(1),W=Ae(c),W&&(W.c(),W.m(F,null))),y[0]&7){be=we(c[2]);let k;for(k=0;k<be.length;k+=1){const V=Et(c,be,k);S[k]?(S[k].p(V,y),C(S[k],1)):(S[k]=Tt(V),S[k].c(),C(S[k],1),S[k].m(ge,null))}for($e(),k=be.length;k<S.length;k+=1)At(k);Ve()}(!Me||y[0]&512)&&Ee(Oe,c[9]);let T=A;A=lt(c),A===T?~A&&ce[A].p(c,y):(B&&($e(),j(ce[T],1,1,()=>{ce[T]=null}),Ve()),~A?(B=ce[A],B?B.p(c,y):(B=ce[A]=tt[A](c),B.c()),C(B,1),B.m(oe,null)):B=null)},i(c){if(!Me){C(I.$$.fragment,c),C(x.$$.fragment,c),C(te.$$.fragment,c);for(let y=0;y<ve.length;y+=1)C(w[y]);for(let y=0;y<be.length;y+=1)C(S[y]);C(B),Me=!0}},o(c){j(I.$$.fragment,c),j(x.$$.fragment,c),j(te.$$.fragment,c),w=w.filter(Boolean);for(let y=0;y<w.length;y+=1)j(w[y]);S=S.filter(Boolean);for(let y=0;y<S.length;y+=1)j(S[y]);j(B),Me=!1},d(c){c&&d(t),_e(I),_e(x),_e(te),Je(w,c),W.d(),Je(S,c),~A&&ce[A].d(),ze=!1,Vt(xe)}}}const Pe=3,Ct="min-h-[220px] min-w-[300px] md:min-w-[600px] border bg-white rounded-xl",Mt="flex flex-wrap justify-between gap-y-1 p-4",Ke="px-2 py-1 rounded h-full";function Pt(n){return{type:"component",component:n,backdropClasses:"fixed inset-0 !bg-gray-300/90"}}function el(n,t,l){let{data:e}=t,s=[],a=[];async function r(){x();const E=Rt(e.pokeItems,Pe*2);l(2,s=E.slice(0,Pe)),l(3,a=E.slice(Pe,Pe*2)),l(1,H="select_poke")}let o=-1,u=-1,b,M;function _(){l(4,u=kt(Pe)),l(5,b=s[o]),M=a[u],l(1,H="select_type")}let h,g,I,K,N;function D(E){const q=M.type.length===1?M.type[0]:M.type[kt(2)];let he;l(6,{isOwnAttack:he,attackPokeName:h,attackType:g,defenseType:I}=X(b,M,E,q),h,l(7,g),l(8,I)),{damageRatio:K,result:N}=le(he,g,I),l(1,H="term");function X(G,U,Y,z){const F=G.speed>=U.speed;return{isOwnAttack:F,attackPokeName:F?G.jaName:U.jaName,attackType:F?Y:z,defenseType:F?z:Y}}function le(G,U,Y){const z=je(U,Y.enName);return{damageRatio:z,result:{double:G?"win":"lose",half:G?"lose":"win",no:G?"lose":"win",default:"draw"}[z]}}function je(G,U){const{doubleDamageTo:Y,halfDamageTo:z,noDamageTo:F}=G.damageRelations,Ce={double:Y,half:z,no:F};for(const[Z,ne]of Object.entries(Ce))if(ne.includes(U))return Z;return"default"}}let H="init",O,L;function Q(){const E={win:"あなた の かち！",lose:"あなた の まけ...",draw:"あいこ"},q={init:"ポケモン を よびだしてね",select_poke:o==-1?"ポケモン をえらんでね":`${s[o].jaName} で しょうぶ する？`,select_type:"タイプ をえらんでね",term:E[N]};l(9,O=q[H]),l(10,L={double:"ばつぐん だ！",half:"いまひとつ...",no:"こうかは なし...",default:"まずまず だ"}[K])}function x(){l(2,s=[]),l(3,a=[]),l(0,o=-1),l(4,u=-1)}const ye=Ye();function ie(){const q=Pt({ref:Qt,props:{}});ye.trigger(q)}function ee(){const q=Pt({ref:Gt,props:{}});ye.trigger(q)}const ue=E=>l(0,o=E),te=(E,q)=>{(q.key==="Enter"||q.key===" ")&&l(0,o=E)},De=E=>D(E);return n.$$set=E=>{"data"in E&&l(16,e=E.data)},n.$$.update=()=>{n.$$.dirty[0]&3&&(H||o)&&Q()},[o,H,s,a,u,b,h,g,I,O,L,r,_,D,ie,ee,e,ue,te,De]}class ml extends We{constructor(t){super(),Xe(this,t,el,xt,Qe,{data:16},null,[-1,-1])}}export{ml as component,dl as universal};
