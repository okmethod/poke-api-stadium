import{c as ce,d as ue}from"../chunks/fetchStaticData.CW37b3Ms.js";import{P as Ee,F as be}from"../chunks/common.3e1mQu3z.js";import{a as Pe,e as _,b as C,c as v,d as y,x as Q,h as N,f as h,j as p,l as Y,m as i,u as de,z as Me,v as De,B as we,C as Be,D as xe,t as z,i as U,n as Z,p as fe,y as Ve}from"../chunks/scheduler.CUIDQL-i.js";import{S as Ce,i as Ne,b as me,d as pe,m as he,a as _e,t as ve,e as ge}from"../chunks/index.DvDG_np6.js";import{e as ye}from"../chunks/each.DQcc57QZ.js";import{I as Ie}from"../chunks/Icon.jS-m3xkb.js";import{i as Te,a as Ae,b as Re,c as je,d as Fe,e as Oe,f as He}from"../chunks/createPokeBody.B3WQ_gmC.js";import{a as ze}from"../chunks/collections.Bn8CzfOO.js";async function Ue({fetch:c}){await ce(c,"load to cache");const s=await t();async function t(){const r=Array.from({length:Ee},(o,u)=>be+u).map(async o=>{const u=await ce(c,o.toString());return u&&u.imageUrl!==null?a(o,u):null});return(await Promise.all(r)).filter(o=>o!==null)}function a(e,r){return{jaName:r.jaName,imageUrl:r.imageUrl??"not_found",height:r.height}}return{pokeItems:s}}const at=Object.freeze(Object.defineProperty({__proto__:null,load:Ue},Symbol.toStringTag,{value:"Module"}));function Se(c,s,t){const a=c.slice();return a[18]=s[t],a}function We(c){let s,t;return{c(){s=_("span"),t=z(c[4]),this.h()},l(a){s=v(a,"SPAN",{class:!0});var e=y(s);t=U(e,c[4]),e.forEach(h),this.h()},h(){p(s,"class","text-lg")},m(a,e){Y(a,s,e),i(s,t)},p(a,e){e&16&&Z(t,a[4])},d(a){a&&h(s)}}}function Le(c){let s,t=ye(c[3]),a=[];for(let e=0;e<t.length;e+=1)a[e]=ke(Se(c,t,e));return{c(){for(let e=0;e<a.length;e+=1)a[e].c();s=fe()},l(e){for(let r=0;r<a.length;r+=1)a[r].l(e);s=fe()},m(e,r){for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(e,r);Y(e,s,r)},p(e,r){if(r&8){t=ye(e[3]);let l;for(l=0;l<t.length;l+=1){const o=Se(e,t,l);a[l]?a[l].p(o,r):(a[l]=ke(o),a[l].c(),a[l].m(s.parentNode,s))}for(;l<a.length;l+=1)a[l].d(1);a.length=t.length}},d(e){e&&h(s),Ve(a,e)}}}function ke(c){let s,t,a,e=c[18].jaName+"",r,l,o,u,E=ue(c[18].height,"height")+"",b,S;return{c(){s=_("div"),t=_("span"),a=z("["),r=z(e),l=z("]"),o=C(),u=_("span"),b=z(E),S=C(),this.h()},l(d){s=v(d,"DIV",{class:!0});var f=y(s);t=v(f,"SPAN",{class:!0});var I=y(t);a=U(I,"["),r=U(I,e),l=U(I,"]"),I.forEach(h),o=N(f),u=v(f,"SPAN",{class:!0});var w=y(u);b=U(w,E),w.forEach(h),S=N(f),f.forEach(h),this.h()},h(){p(t,"class","text-base"),p(u,"class","text-xl bold"),p(s,"class","flex flex-col items-center")},m(d,f){Y(d,s,f),i(s,t),i(t,a),i(t,r),i(t,l),i(s,o),i(s,u),i(u,b),i(s,S)},p(d,f){f&8&&e!==(e=d[18].jaName+"")&&Z(r,e),f&8&&E!==(E=ue(d[18].height,"height")+"")&&Z(b,E)},d(d){d&&h(s)}}}function qe(c){let s,t,a='<h1 class="cTitleStyle">ポケモンたかさくらべ 改</h1>',e,r,l,o,u,E="ポケモン を よびだす",b,S,d,f,I,w,M,B,x,O,n,k,m,R="こたえあわせ",W,V,j,T,G,A,H,J,$;I=new Ie({props:{icon:"mdi:pokeball",class:"cIconStyle"}}),T=new Ie({props:{icon:"mdi:pokeball",class:"cIconStyle"}});function ee(g,D){return g[2]?Le:We}let L=ee(c),P=L(c);return{c(){s=_("div"),t=_("div"),t.innerHTML=a,e=C(),r=_("div"),l=_("div"),o=_("div"),u=_("span"),u.textContent=E,b=C(),S=_("form"),d=_("button"),f=_("div"),me(I.$$.fragment),M=C(),B=_("div"),x=_("div"),O=C(),n=_("div"),k=_("div"),m=_("span"),m.textContent=R,W=C(),V=_("button"),j=_("div"),me(T.$$.fragment),G=C(),A=_("div"),P.c(),this.h()},l(g){s=v(g,"DIV",{class:!0});var D=y(s);t=v(D,"DIV",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-eaqgzc"&&(t.innerHTML=a),e=N(D),r=v(D,"DIV",{class:!0});var F=y(r);l=v(F,"DIV",{class:!0});var te=y(l);o=v(te,"DIV",{class:!0});var q=y(o);u=v(q,"SPAN",{class:!0,"data-svelte-h":!0}),Q(u)!=="svelte-mp7i3f"&&(u.textContent=E),b=N(q),S=v(q,"FORM",{});var se=y(S);d=v(se,"BUTTON",{type:!0,class:!0});var ae=y(d);f=v(ae,"DIV",{class:!0});var re=y(f);pe(I.$$.fragment,re),re.forEach(h),ae.forEach(h),se.forEach(h),q.forEach(h),te.forEach(h),M=N(F),B=v(F,"DIV",{class:!0});var ne=y(B);x=v(ne,"DIV",{class:!0}),y(x).forEach(h),ne.forEach(h),O=N(F),n=v(F,"DIV",{class:!0});var K=y(n);k=v(K,"DIV",{class:!0});var X=y(k);m=v(X,"SPAN",{class:!0,"data-svelte-h":!0}),Q(m)!=="svelte-1mxmuak"&&(m.textContent=R),W=N(X),V=v(X,"BUTTON",{type:!0,class:!0});var le=y(V);j=v(le,"DIV",{class:!0});var oe=y(j);pe(T.$$.fragment,oe),oe.forEach(h),le.forEach(h),X.forEach(h),G=N(K),A=v(K,"DIV",{class:!0});var ie=y(A);P.l(ie),ie.forEach(h),K.forEach(h),F.forEach(h),D.forEach(h),this.h()},h(){p(t,"class","cTitlePartStyle"),p(u,"class","text-lg"),p(f,"class","cIconDivStyle"),p(d,"type","submit"),d.disabled=w=!c[1],p(d,"class","cIconButtonStyle"),p(o,"class","cInputFormAndMessagePartStyle"),p(l,"class","flex items-center justify-center"),p(x,"class","w-80 h-80 bg-gray-300 border border-black"),p(B,"class","m-4"),p(m,"class","text-lg"),p(j,"class","cIconDivStyle"),p(V,"type","button"),p(V,"class","cIconButtonStyle"),p(k,"class","cInputFormAndMessagePartStyle justify-center"),p(A,"class","cInputFormAndMessagePartStyle justify-center"),p(n,"class","m-4 mt-2 space-y-4"),p(r,"class","cContentPartStyle"),p(s,"class","cRouteBodyStyle")},m(g,D){Y(g,s,D),i(s,t),i(s,e),i(s,r),i(r,l),i(l,o),i(o,u),i(o,b),i(o,S),i(S,d),i(d,f),he(I,f,null),i(r,M),i(r,B),i(B,x),c[8](x),i(r,O),i(r,n),i(n,k),i(k,m),i(k,W),i(k,V),i(V,j),he(T,j,null),i(n,G),i(n,A),P.m(A,null),H=!0,J||($=[de(S,"submit",Me(c[5])),de(V,"click",c[6])],J=!0)},p(g,[D]){(!H||D&2&&w!==(w=!g[1]))&&(d.disabled=w),L===(L=ee(g))&&P?P.p(g,D):(P.d(1),P=L(g),P&&(P.c(),P.m(A,null)))},i(g){H||(_e(I.$$.fragment,g),_e(T.$$.fragment,g),H=!0)},o(g){ve(I.$$.fragment,g),ve(T.$$.fragment,g),H=!1},d(g){g&&h(s),ge(I),c[8](null),ge(T),P.d(),J=!1,De($)}}}let Ke=!1,Xe=3;function Ye(c,s,t){let{data:a}=s,e,r,l,o,u,E,b;we(async()=>{o=Te(),u=Ae(),E=Re(o,e),r=e.clientWidth*.5,l=e.clientHeight*.5,b=je(o,E);const n=await Fe(e);{Matter.World.add(o.world,n),Matter.Runner.run(u,o),Matter.Render.run(E);let k=Oe(o.world,b,e,{isHolding:Ke});if(!k)return;Object.entries(k).forEach(([m,R])=>{e.addEventListener(m,R)})}}),Be(()=>{{Matter.Render.stop(E),Matter.Runner.stop(u),Matter.World.clear(o.world,!1),Matter.Engine.clear(o);return}});let S=!0,d=!1,f=[],I=[];async function w(){t(1,S=!1),t(4,M="じゅんびちゅう..."),x(),t(3,f=ze(a.pokeItems,Xe));const n=f.map((m,R)=>He(m.imageUrl,100,{x:r+r*.6*(R-1),y:l*1.5}));(await Promise.all(n)).forEach(m=>{Matter.Body.setStatic(m,!0),Matter.World.add(o.world,[m]),I.push(m)}),await new Promise(m=>setTimeout(m,500)),t(4,M="じゅんび かんりょう！"),t(1,S=!0)}let M="";function B(){if(f.length==0){t(4,M="さきに ポケモンを よびだしてね");return}if(S===!1){t(4,M="じゅんびちゅう...");return}d===!1&&I.forEach((n,k)=>{const m=f[k].height/10;Matter.Body.scale(n,m,m),n.render.sprite&&(n.render.sprite.xScale=n.render.sprite.xScale*m,n.render.sprite.yScale=n.render.sprite.yScale*m),Matter.Body.setStatic(n,!1),Matter.Body.applyForce(n,n.position,{x:0,y:-n.mass*.02}),Matter.Body.setVelocity(n,{x:0,y:0}),Matter.Body.setAngularVelocity(n,0)}),t(2,d=!0)}function x(){t(4,M=""),t(2,d=!1),I.forEach(n=>Matter.World.remove(o.world,n)),I=[]}function O(n){xe[n?"unshift":"push"](()=>{e=n,t(0,e)})}return c.$$set=n=>{"data"in n&&t(7,a=n.data)},[e,S,d,f,M,w,B,a,O]}class rt extends Ce{constructor(s){super(),Ne(this,s,Ye,qe,Pe,{data:7})}}export{rt as component,at as universal};
