import{a as Qe,p as De,l as q,f as d,w as Pt,e as m,b as M,c as p,d as v,h as P,q as Bt,j as u,m as i,u as ie,x as de,t as ae,i as re,z as Ke,n as Ee,y as Ge,v as Vt,k as G,o as Re}from"../chunks/scheduler.DOxgmCTI.js";import{S as We,i as Xe,a as D,g as Ve,t as j,c as je,b as me,d as pe,m as he,e as _e}from"../chunks/index.BPs-IL2Q.js";import{e as Se}from"../chunks/each.JZyXc5sE.js";import{g as Ye}from"../chunks/stores.CluTZwCQ.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.BsAEearo.js";import{I as Te}from"../chunks/Icon.CASDk692.js";import{P as jt}from"../chunks/PokeTile.Ep2ZLbHJ.js";import{b as vt,f as bt}from"../chunks/fetchStaticData.CevjSu_f.js";import{g as kt}from"../chunks/numerics.BpAOxbdF.js";import{p as Ft}from"../chunks/collections.CVaw1mrQ.js";import{P as Ut,F as Rt}from"../chunks/common.3e1mQu3z.js";function yt(n){let t,l,e,o,r,s,a,f,b,A;return a=new Te({props:{icon:"mdi:close",class:"w-5 h-5"}}),{c(){t=m("div"),l=m("div"),e=m("img"),r=M(),s=m("button"),me(a.$$.fragment),this.h()},l(h){t=p(h,"DIV",{class:!0,"data-parent":!0});var _=v(t);l=p(_,"DIV",{class:!0});var g=v(l);e=p(g,"IMG",{src:!0,alt:!0,class:!0}),r=P(g),s=p(g,"BUTTON",{class:!0});var N=v(s);pe(a.$$.fragment,N),N.forEach(d),g.forEach(d),_.forEach(d),this.h()},h(){Bt(e.src,o=Lt)||u(e,"src",o),u(e,"alt","type_relations"),u(e,"class","w-96 h-96 object-contain"),u(s,"class","absolute top-1 right-6 z-10"),u(l,"class","relative"),u(t,"class",""),u(t,"data-parent",n[0])},m(h,_){q(h,t,_),i(t,l),i(l,e),i(l,r),i(l,s),he(a,s,null),f=!0,b||(A=ie(s,"click",n[3]),b=!0)},p(h,_){(!f||_&1)&&u(t,"data-parent",h[0])},i(h){f||(D(a.$$.fragment,h),f=!0)},o(h){j(a.$$.fragment,h),f=!1},d(h){h&&d(t),_e(a),b=!1,A()}}}function Ht(n){let t,l,e=n[1][0]&&yt(n);return{c(){e&&e.c(),t=De()},l(o){e&&e.l(o),t=De()},m(o,r){e&&e.m(o,r),q(o,t,r),l=!0},p(o,[r]){o[1][0]?e?(e.p(o,r),r&2&&D(e,1)):(e=yt(o),e.c(),D(e,1),e.m(t.parentNode,t)):e&&(Ve(),j(e,1,1,()=>{e=null}),je())},i(o){l||(D(e),l=!0)},o(o){j(e),l=!1},d(o){o&&d(t),e&&e.d(o)}}}const Lt="https://www.pokemon.co.jp/ex/sun_moon/common/images/fight/161215_01/img_01.png";function qt(n,t,l){let e,{parent:o}=t;const r=Ye();Pt(n,r,a=>l(1,e=a));function s(){r.close()}return n.$$set=a=>{"parent"in a&&l(0,o=a.parent)},[o,e,r,s]}class zt extends We{constructor(t){super(),Xe(this,t,qt,Ht,Qe,{parent:0})}}function Nt(n){let t,l,e,o=`<div class="p-4"><h2 class="text-2xl font-bold">ルール</h2> <p class="mt-4">まず ポケモン を 1たい えらぶ。
            <br/>
            つぎに タイプ を どちらか 1つ えらぶ。
            <br/>
            すばやさ が たかい ほうが こうげきする。</p> <ul class="mt-4 list-disc list-inside"><li>ばつぐん なら かち。</li> <li>いまひとつ か こうかなし なら まけ。</li> <li>どちらでもない なら あいこ。</li></ul></div>`,r,s,a,f,b,A;return a=new Te({props:{icon:"mdi:close",class:"w-5 h-5"}}),{c(){t=m("div"),l=m("div"),e=m("div"),e.innerHTML=o,r=M(),s=m("button"),me(a.$$.fragment),this.h()},l(h){t=p(h,"DIV",{class:!0,"data-parent":!0});var _=v(t);l=p(_,"DIV",{class:!0});var g=v(l);e=p(g,"DIV",{class:!0,"data-svelte-h":!0}),de(e)!=="svelte-mlq9ej"&&(e.innerHTML=o),r=P(g),s=p(g,"BUTTON",{class:!0});var N=v(s);pe(a.$$.fragment,N),N.forEach(d),g.forEach(d),_.forEach(d),this.h()},h(){u(e,"class","w-full h-full bg-white"),u(s,"class","absolute top-1 right-6 z-10"),u(l,"class","relative"),u(t,"class",""),u(t,"data-parent",n[0])},m(h,_){q(h,t,_),i(t,l),i(l,e),i(l,r),i(l,s),he(a,s,null),f=!0,b||(A=ie(s,"click",n[3]),b=!0)},p(h,_){(!f||_&1)&&u(t,"data-parent",h[0])},i(h){f||(D(a.$$.fragment,h),f=!0)},o(h){j(a.$$.fragment,h),f=!1},d(h){h&&d(t),_e(a),b=!1,A()}}}function Kt(n){let t,l,e=n[1][0]&&Nt(n);return{c(){e&&e.c(),t=De()},l(o){e&&e.l(o),t=De()},m(o,r){e&&e.m(o,r),q(o,t,r),l=!0},p(o,[r]){o[1][0]?e?(e.p(o,r),r&2&&D(e,1)):(e=Nt(o),e.c(),D(e,1),e.m(t.parentNode,t)):e&&(Ve(),j(e,1,1,()=>{e=null}),je())},i(o){l||(D(e),l=!0)},o(o){j(e),l=!1},d(o){o&&d(t),e&&e.d(o)}}}function Gt(n,t,l){let e,{parent:o}=t;const r=Ye();Pt(n,r,a=>l(1,e=a));function s(){r.close()}return n.$$set=a=>{"parent"in a&&l(0,o=a.parent)},[o,e,r,s]}class Jt extends We{constructor(t){super(),Xe(this,t,Gt,Kt,Qe,{parent:0})}}function It(n,t,l){const e=n.slice();return e[25]=t[l],e}function wt(n,t,l){const e=n.slice();return e[28]=t[l],e[30]=l,e}function Et(n,t,l){const e=n.slice();return e[28]=t[l],e[30]=l,e}function St(n){let t,l,e,o,r;return l=new jt({props:{pokeId:n[28].pokeId,name:n[28].jaName,type1Name:n[28].type[0].enName,type2Name:n[28].type.length>1?n[28].type[1].enName:null,imageUrl:n[28].imageUrl}}),{c(){t=m("div"),me(l.$$.fragment),e=M(),this.h()},l(s){t=p(s,"DIV",{class:!0});var a=v(t);pe(l.$$.fragment,a),e=P(a),a.forEach(d),this.h()},h(){u(t,"class",o="rounded-2xl border-2 "+(n[30]==n[4]?"border-red-500":"border-transparent"))},m(s,a){q(s,t,a),he(l,t,null),i(t,e),r=!0},p(s,a){const f={};a[0]&8&&(f.pokeId=s[28].pokeId),a[0]&8&&(f.name=s[28].jaName),a[0]&8&&(f.type1Name=s[28].type[0].enName),a[0]&8&&(f.type2Name=s[28].type.length>1?s[28].type[1].enName:null),a[0]&8&&(f.imageUrl=s[28].imageUrl),l.$set(f),(!r||a[0]&16&&o!==(o="rounded-2xl border-2 "+(s[30]==s[4]?"border-red-500":"border-transparent")))&&u(t,"class",o)},i(s){r||(D(l.$$.fragment,s),r=!0)},o(s){j(l.$$.fragment,s),r=!1},d(s){s&&d(t),_e(l)}}}function Qt(n){let t,l,e,o,r,s,a,f=n[7].jaName+"",b,A,h,_=n[8].jaName+"",g,N,J;return{c(){t=m("span"),l=ae(n[6]),e=ae(" の こうげき！"),o=M(),r=m("span"),s=m("span"),a=m("span"),b=ae(f),A=ae(`
              は
              `),h=m("span"),g=ae(_),N=ae(`
              に `),J=ae(n[10]),this.h()},l(I){t=p(I,"SPAN",{class:!0});var w=v(t);l=re(w,n[6]),e=re(w," の こうげき！"),w.forEach(d),o=P(I),r=p(I,"SPAN",{class:!0});var ee=v(r);s=p(ee,"SPAN",{class:!0});var B=v(s);a=p(B,"SPAN",{style:!0,class:!0});var K=v(a);b=re(K,f),K.forEach(d),A=re(B,`
              は
              `),h=p(B,"SPAN",{style:!0,class:!0});var Q=v(h);g=re(Q,_),Q.forEach(d),N=re(B,`
              に `),J=re(B,n[10]),B.forEach(d),ee.forEach(d),this.h()},h(){u(t,"class","block sm:inline"),G(a,"background-color",n[7].themeColor),G(a,"color",n[7].textColor),u(a,"class",Je),G(h,"background-color",n[8].themeColor),G(h,"color",n[8].textColor),u(h,"class",Je),u(s,"class","inline"),u(r,"class","block sm:inline")},m(I,w){q(I,t,w),i(t,l),i(t,e),q(I,o,w),q(I,r,w),i(r,s),i(s,a),i(a,b),i(s,A),i(s,h),i(h,g),i(s,N),i(s,J)},p(I,w){w[0]&64&&Ee(l,I[6]),w[0]&128&&f!==(f=I[7].jaName+"")&&Ee(b,f),w[0]&128&&G(a,"background-color",I[7].themeColor),w[0]&128&&G(a,"color",I[7].textColor),w[0]&256&&_!==(_=I[8].jaName+"")&&Ee(g,_),w[0]&256&&G(h,"background-color",I[8].themeColor),w[0]&256&&G(h,"color",I[8].textColor),w[0]&1024&&Ee(J,I[10])},d(I){I&&(d(t),d(o),d(r))}}}function Wt(n){let t,l="VS";return{c(){t=m("span"),t.textContent=l,this.h()},l(e){t=p(e,"SPAN",{class:!0,"data-svelte-h":!0}),de(t)!=="svelte-qavuzn"&&(t.textContent=l),this.h()},h(){u(t,"class","block")},m(e,o){q(e,t,o)},p:Re,d(e){e&&d(t)}}}function Tt(n){let t,l,e,o,r,s,a,f,b;e=new jt({props:{pokeId:n[28].pokeId,name:n[28].jaName,type1Name:n[28].type[0].enName,type2Name:n[28].type.length>1?n[28].type[1].enName:null,imageUrl:n[28].imageUrl}});function A(){return n[16](n[30])}function h(..._){return n[17](n[30],..._)}return{c(){t=m("div"),l=m("button"),me(e.$$.fragment),r=M(),this.h()},l(_){t=p(_,"DIV",{class:!0});var g=v(t);l=p(g,"BUTTON",{type:!0});var N=v(l);pe(e.$$.fragment,N),N.forEach(d),r=P(g),g.forEach(d),this.h()},h(){u(l,"type","button"),l.disabled=o=n[1]!=="select_poke",u(t,"class",s="rounded-2xl border-2 "+(n[30]==n[0]?"border-red-500":"border-transparent"))},m(_,g){q(_,t,g),i(t,l),he(e,l,null),i(t,r),a=!0,f||(b=[ie(l,"click",A),ie(l,"keydown",h)],f=!0)},p(_,g){n=_;const N={};g[0]&4&&(N.pokeId=n[28].pokeId),g[0]&4&&(N.name=n[28].jaName),g[0]&4&&(N.type1Name=n[28].type[0].enName),g[0]&4&&(N.type2Name=n[28].type.length>1?n[28].type[1].enName:null),g[0]&4&&(N.imageUrl=n[28].imageUrl),e.$set(N),(!a||g[0]&2&&o!==(o=n[1]!=="select_poke"))&&(l.disabled=o),(!a||g[0]&1&&s!==(s="rounded-2xl border-2 "+(n[30]==n[0]?"border-red-500":"border-transparent")))&&u(t,"class",s)},i(_){a||(D(e.$$.fragment,_),a=!0)},o(_){j(e.$$.fragment,_),a=!1},d(_){_&&d(t),_e(e),f=!1,Vt(b)}}}function Xt(n){let t,l=Se(n[5].type),e=[];for(let o=0;o<l.length;o+=1)e[o]=Dt(It(n,l,o));return{c(){for(let o=0;o<e.length;o+=1)e[o].c();t=De()},l(o){for(let r=0;r<e.length;r+=1)e[r].l(o);t=De()},m(o,r){for(let s=0;s<e.length;s+=1)e[s]&&e[s].m(o,r);q(o,t,r)},p(o,r){if(r[0]&8224){l=Se(o[5].type);let s;for(s=0;s<l.length;s+=1){const a=It(o,l,s);e[s]?e[s].p(a,r):(e[s]=Dt(a),e[s].c(),e[s].m(t.parentNode,t))}for(;s<e.length;s+=1)e[s].d(1);e.length=l.length}},i:Re,o:Re,d(o){o&&d(t),Ge(e,o)}}}function Yt(n){let t,l,e,o,r,s;return e=new Te({props:{icon:"mdi:pokeball",class:"cIconStyle"}}),{c(){t=m("button"),l=m("div"),me(e.$$.fragment),this.h()},l(a){t=p(a,"BUTTON",{type:!0,class:!0});var f=v(t);l=p(f,"DIV",{class:!0});var b=v(l);pe(e.$$.fragment,b),b.forEach(d),f.forEach(d),this.h()},h(){u(l,"class","cIconDivStyle"),u(t,"type","button"),u(t,"class","cIconButtonStyle")},m(a,f){q(a,t,f),i(t,l),he(e,l,null),o=!0,r||(s=ie(t,"click",n[12]),r=!0)},p:Re,i(a){o||(D(e.$$.fragment,a),o=!0)},o(a){j(e.$$.fragment,a),o=!1},d(a){a&&d(t),_e(e),r=!1,s()}}}function Dt(n){let t,l=n[25].jaName+"",e,o,r,s;function a(){return n[18](n[25])}return{c(){t=m("button"),e=ae(l),o=M(),this.h()},l(f){t=p(f,"BUTTON",{style:!0,class:!0});var b=v(t);e=re(b,l),o=P(b),b.forEach(d),this.h()},h(){G(t,"background-color",n[25].themeColor),G(t,"color",n[25].textColor),u(t,"class",Je+" flex items-center hover:brightness-85")},m(f,b){q(f,t,b),i(t,e),i(t,o),r||(s=ie(t,"click",a),r=!0)},p(f,b){n=f,b[0]&32&&l!==(l=n[25].jaName+"")&&Ee(e,l),b[0]&32&&G(t,"background-color",n[25].themeColor),b[0]&32&&G(t,"color",n[25].textColor)},d(f){f&&d(t),r=!1,s()}}}function Zt(n){let t,l,e='<h1 class="cTitleStyle">ポケモンタイプじゃんけん</h1>',o,r,s,a,f,b="ポケモン を よびだす",A,h,_,g,N,J,I,w="",ee,B,K,Q,Y,Ce,ce,te,ue,le,O,C,ne="",ge,F,$,H="あいて",Z,L,W,z,oe,$e,x,ve,Ze="あなた",He,be,Le,Ie,se,we,Ae,qe,U,R,Me,ze,xe;N=new Te({props:{icon:"mdi:pokeball",class:"cIconStyle"}}),Y=new Te({props:{icon:"mdi:head-question-outline",class:"cIconStyle"}}),le=new Te({props:{icon:"mdi:table-question",class:"cIconStyle"}});let ke=Se(n[3]),E=[];for(let c=0;c<ke.length;c+=1)E[c]=St(Et(n,ke,c));const At=c=>j(E[c],1,1,()=>{E[c]=null});function et(c,y){return c[1]!=="term"?Wt:Qt}let Oe=et(n),X=Oe(n),ye=Se(n[2]),S=[];for(let c=0;c<ye.length;c+=1)S[c]=Tt(wt(n,ye,c));const Ot=c=>j(S[c],1,1,()=>{S[c]=null}),tt=[Yt,Xt],fe=[];function lt(c,y){return c[1]=="select_poke"&&c[0]!==-1?0:c[1]=="select_type"?1:-1}return~(U=lt(n))&&(R=fe[U]=tt[U](n)),{c(){t=m("div"),l=m("div"),l.innerHTML=e,o=M(),r=m("div"),s=m("div"),a=m("div"),f=m("span"),f.textContent=b,A=M(),h=m("form"),_=m("button"),g=m("div"),me(N.$$.fragment),J=M(),I=m("div"),I.innerHTML=w,ee=M(),B=m("form"),K=m("button"),Q=m("div"),me(Y.$$.fragment),Ce=M(),ce=m("form"),te=m("button"),ue=m("div"),me(le.$$.fragment),O=M(),C=m("div"),C.innerHTML=ne,ge=M(),F=m("div"),$=m("span"),$.textContent=H,Z=M(),L=m("div");for(let c=0;c<E.length;c+=1)E[c].c();W=M(),z=m("div"),oe=m("p"),X.c(),$e=M(),x=m("div"),ve=m("span"),ve.textContent=Ze,He=M(),be=m("div");for(let c=0;c<S.length;c+=1)S[c].c();Le=M(),Ie=m("div"),se=m("div"),we=m("span"),Ae=ae(n[9]),qe=M(),R&&R.c(),this.h()},l(c){t=p(c,"DIV",{class:!0});var y=v(t);l=p(y,"DIV",{class:!0,"data-svelte-h":!0}),de(l)!=="svelte-1r5gn7p"&&(l.innerHTML=e),o=P(y),r=p(y,"DIV",{class:!0});var T=v(r);s=p(T,"DIV",{class:!0});var k=v(s);a=p(k,"DIV",{class:!0});var V=v(a);f=p(V,"SPAN",{class:!0,"data-svelte-h":!0}),de(f)!=="svelte-mp7i3f"&&(f.textContent=b),A=P(V),h=p(V,"FORM",{});var nt=v(h);_=p(nt,"BUTTON",{type:!0,class:!0});var ot=v(_);g=p(ot,"DIV",{class:!0});var st=v(g);pe(N.$$.fragment,st),st.forEach(d),ot.forEach(d),nt.forEach(d),J=P(V),I=p(V,"DIV",{class:!0,"data-svelte-h":!0}),de(I)!=="svelte-1rtwic7"&&(I.innerHTML=w),ee=P(V),B=p(V,"FORM",{});var at=v(B);K=p(at,"BUTTON",{type:!0,class:!0});var rt=v(K);Q=p(rt,"DIV",{class:!0});var it=v(Q);pe(Y.$$.fragment,it),it.forEach(d),rt.forEach(d),at.forEach(d),Ce=P(V),ce=p(V,"FORM",{});var ct=v(ce);te=p(ct,"BUTTON",{type:!0,class:!0});var ut=v(te);ue=p(ut,"DIV",{class:!0});var ft=v(ue);pe(le.$$.fragment,ft),ft.forEach(d),ut.forEach(d),ct.forEach(d),O=P(V),C=p(V,"DIV",{class:!0,"data-svelte-h":!0}),de(C)!=="svelte-17db9va"&&(C.innerHTML=ne),V.forEach(d),k.forEach(d),ge=P(T),F=p(T,"DIV",{class:!0});var Be=v(F);$=p(Be,"SPAN",{class:!0,"data-svelte-h":!0}),de($)!=="svelte-10ns923"&&($.textContent=H),Z=P(Be),L=p(Be,"DIV",{class:!0});var dt=v(L);for(let Ne=0;Ne<E.length;Ne+=1)E[Ne].l(dt);dt.forEach(d),Be.forEach(d),W=P(T),z=p(T,"DIV",{});var mt=v(z);oe=p(mt,"P",{class:!0});var pt=v(oe);X.l(pt),pt.forEach(d),mt.forEach(d),$e=P(T),x=p(T,"DIV",{class:!0});var Fe=v(x);ve=p(Fe,"SPAN",{class:!0,"data-svelte-h":!0}),de(ve)!=="svelte-mhotnc"&&(ve.textContent=Ze),He=P(Fe),be=p(Fe,"DIV",{class:!0});var ht=v(be);for(let Ne=0;Ne<S.length;Ne+=1)S[Ne].l(ht);ht.forEach(d),Fe.forEach(d),Le=P(T),Ie=p(T,"DIV",{class:!0});var _t=v(Ie);se=p(_t,"DIV",{class:!0});var Ue=v(se);we=p(Ue,"SPAN",{class:!0});var gt=v(we);Ae=re(gt,n[9]),gt.forEach(d),qe=P(Ue),R&&R.l(Ue),Ue.forEach(d),_t.forEach(d),T.forEach(d),y.forEach(d),this.h()},h(){u(l,"class","cTitlePartStyle"),u(f,"class","text-lg"),u(g,"class","cIconDivStyle"),u(_,"type","submit"),u(_,"class","cIconButtonStyle"),u(I,"class","flex-grow"),u(Q,"class","cIconDivStyle"),u(K,"type","submit"),u(K,"class","cIconButtonStyle"),u(ue,"class","cIconDivStyle"),u(te,"type","submit"),u(te,"class","cIconButtonStyle"),u(C,"class","mr-4"),u(a,"class","cInputFormAndMessagePartStyle"),u(s,"class","m-4"),u($,"class","block mt-1 ml-2"),u(L,"class",$t),u(F,"class",Ct),u(oe,"class","text-center text-lg"),u(ve,"class","block mt-1 ml-2"),u(be,"class",$t),u(x,"class",Ct),u(we,"class","text-lg"),u(se,"class","cInputFormAndMessagePartStyle"),u(Ie,"class","m-4"),u(r,"class","cContentPartStyle !min-w-[300px] !max-w-[600px]"),u(t,"class","cRouteBodyStyle")},m(c,y){q(c,t,y),i(t,l),i(t,o),i(t,r),i(r,s),i(s,a),i(a,f),i(a,A),i(a,h),i(h,_),i(_,g),he(N,g,null),i(a,J),i(a,I),i(a,ee),i(a,B),i(B,K),i(K,Q),he(Y,Q,null),i(a,Ce),i(a,ce),i(ce,te),i(te,ue),he(le,ue,null),i(a,O),i(a,C),i(r,ge),i(r,F),i(F,$),i(F,Z),i(F,L);for(let T=0;T<E.length;T+=1)E[T]&&E[T].m(L,null);i(r,W),i(r,z),i(z,oe),X.m(oe,null),i(r,$e),i(r,x),i(x,ve),i(x,He),i(x,be);for(let T=0;T<S.length;T+=1)S[T]&&S[T].m(be,null);i(r,Le),i(r,Ie),i(Ie,se),i(se,we),i(we,Ae),i(se,qe),~U&&fe[U].m(se,null),Me=!0,ze||(xe=[ie(h,"submit",Ke(n[11])),ie(B,"submit",Ke(n[14])),ie(ce,"submit",Ke(n[15]))],ze=!0)},p(c,y){if(y[0]&24){ke=Se(c[3]);let k;for(k=0;k<ke.length;k+=1){const V=Et(c,ke,k);E[k]?(E[k].p(V,y),D(E[k],1)):(E[k]=St(V),E[k].c(),D(E[k],1),E[k].m(L,null))}for(Ve(),k=ke.length;k<E.length;k+=1)At(k);je()}if(Oe===(Oe=et(c))&&X?X.p(c,y):(X.d(1),X=Oe(c),X&&(X.c(),X.m(oe,null))),y[0]&7){ye=Se(c[2]);let k;for(k=0;k<ye.length;k+=1){const V=wt(c,ye,k);S[k]?(S[k].p(V,y),D(S[k],1)):(S[k]=Tt(V),S[k].c(),D(S[k],1),S[k].m(be,null))}for(Ve(),k=ye.length;k<S.length;k+=1)Ot(k);je()}(!Me||y[0]&512)&&Ee(Ae,c[9]);let T=U;U=lt(c),U===T?~U&&fe[U].p(c,y):(R&&(Ve(),j(fe[T],1,1,()=>{fe[T]=null}),je()),~U?(R=fe[U],R?R.p(c,y):(R=fe[U]=tt[U](c),R.c()),D(R,1),R.m(se,null)):R=null)},i(c){if(!Me){D(N.$$.fragment,c),D(Y.$$.fragment,c),D(le.$$.fragment,c);for(let y=0;y<ke.length;y+=1)D(E[y]);for(let y=0;y<ye.length;y+=1)D(S[y]);D(R),Me=!0}},o(c){j(N.$$.fragment,c),j(Y.$$.fragment,c),j(le.$$.fragment,c),E=E.filter(Boolean);for(let y=0;y<E.length;y+=1)j(E[y]);S=S.filter(Boolean);for(let y=0;y<S.length;y+=1)j(S[y]);j(R),Me=!1},d(c){c&&d(t),_e(N),_e(Y),_e(le),Ge(E,c),X.d(),Ge(S,c),~U&&fe[U].d(),ze=!1,Vt(xe)}}}const Pe=3,Ct="min-h-[220px] min-w-[300px] md:min-w-[600px] border bg-white rounded-xl",$t="flex flex-wrap justify-between gap-y-1 p-4",Je="px-2 py-1 rounded h-full";function Mt(n){return{type:"component",component:n,backdropClasses:"fixed inset-0 !bg-gray-300/90"}}function xt(n,t,l){let e=[],o=[];async function r(){Q();const O=Array.from({length:Ut},(F,$)=>Rt+$),C=Ft(O,Pe*2);await vt(window.fetch,"load to cache");const ne=await Promise.all(C.map(async F=>{const $=await vt(window.fetch,F.toString());return await ge(F,$)}));l(2,e=ne.slice(0,Pe)),l(3,o=ne.slice(Pe,Pe*2)),l(1,w="select_poke");async function ge(F,$){const H=await bt($.type1Name);return{pokeId:F,jaName:$.jaName,imageUrl:$.imageUrl??"not_found",type:$.type2Name?[H,await bt($.type2Name)]:[H],speed:$.stats.speed}}}let s=-1,a=-1,f,b;function A(){l(4,a=kt(Pe)),l(5,f=e[s]),b=o[a],l(1,w="select_type")}let h,_,g,N,J;function I(O){const C=b.type.length===1?b.type[0]:b.type[kt(2)];let ne;l(6,{isOwnAttack:ne,attackPokeName:h,attackType:_,defenseType:g}=ge(f,b,O,C),h,l(7,_),l(8,g)),{damageRatio:N,result:J}=F(ne,_,g),l(1,w="term");function ge(H,Z,L,W){const z=H.speed>=Z.speed;return{isOwnAttack:z,attackPokeName:z?H.jaName:Z.jaName,attackType:z?L:W,defenseType:z?W:L}}function F(H,Z,L){const W=$(Z,L.enName);return{damageRatio:W,result:{double:H?"win":"lose",half:H?"lose":"win",no:H?"lose":"win",default:"draw"}[W]}}function $(H,Z){const{doubleDamageTo:L,halfDamageTo:W,noDamageTo:z}=H.damageRelations,oe={double:L,half:W,no:z};for(const[$e,x]of Object.entries(oe))if(x.includes(Z))return $e;return"default"}}let w="init",ee,B;function K(){const O={win:"あなた の かち！",lose:"あなた の まけ...",draw:"あいこ"},C={init:"ポケモン を よびだしてね",select_poke:s==-1?"ポケモン をえらんでね":`${e[s].jaName} で しょうぶ する？`,select_type:"タイプ をえらんでね",term:O[J]};l(9,ee=C[w]),l(10,B={double:"ばつぐん だ！",half:"いまひとつ...",no:"こうかは なし...",default:"まずまず だ"}[N])}function Q(){l(2,e=[]),l(3,o=[]),l(0,s=-1),l(4,a=-1)}const Y=Ye();function Ce(){const C=Mt({ref:Jt,props:{}});Y.trigger(C)}function ce(){const C=Mt({ref:zt,props:{}});Y.trigger(C)}const te=O=>l(0,s=O),ue=(O,C)=>{(C.key==="Enter"||C.key===" ")&&l(0,s=O)},le=O=>I(O);return n.$$.update=()=>{n.$$.dirty[0]&3&&(w||s)&&K()},[s,w,e,o,a,f,h,_,g,ee,B,r,A,I,Ce,ce,te,ue,le]}class fl extends We{constructor(t){super(),Xe(this,t,xt,Zt,Qe,{},null,[-1,-1])}}export{fl as component};
