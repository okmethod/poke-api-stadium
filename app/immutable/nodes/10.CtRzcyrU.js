import{c as t,g as e}from"../chunks/numerics.OdZIcwc5.js";import{P as s,F as l}from"../chunks/common.CkzKN_UB.js";import{a,e as n,t as r,b as c,c as o,d as i,i as f,f as u,h,j as m,l as d,m as g,n as p,o as v,p as $,q as y,r as b,u as I,x,z as E,y as D,A as j,v as w}from"../chunks/scheduler.BlVzsFL4.js";import{S as V,i as k,g as S,t as U,c as N,a as O,b as T,d as A,m as B,e as P}from"../chunks/index.CSk_aVci.js";import{e as M}from"../chunks/each.yOjPqwOo.js";import{g as C}from"../chunks/stores.9I3Q4w_E.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.zpXvPdeb.js";import{I as H}from"../chunks/Icon.BIHgwpMx.js";import{a as _}from"../chunks/generation.CTlbytp5.js";import{b as L,s as F,c as z}from"../chunks/collections.CLeH2ZR1.js";function R(t){return{"ガ":"カ","ギ":"キ","グ":"ク","ゲ":"ケ","ゴ":"コ","ザ":"サ","ジ":"シ","ズ":"ス","ゼ":"セ","ゾ":"ソ","ダ":"タ","ヂ":"チ","ヅ":"ツ","デ":"テ","ド":"ト","バ":"ハ","ビ":"ヒ","ブ":"フ","ベ":"ヘ","ボ":"ホ","パ":"ハ","ピ":"ヒ","プ":"フ","ペ":"ヘ","ポ":"ホ","ァ":"ア","ィ":"イ","ゥ":"ウ","ェ":"エ","ォ":"オ","ャ":"ヤ","ュ":"ユ","ョ":"ヨ","ッ":"ツ"}[t]||t}function q(t){return R(t.slice(0,1))}function G(t){let e=t.slice(-1);return["ー","♀","♂","２","Ｚ"].includes(e)&&t.length>1&&(e=t.slice(-2,-1)),R(e)}const J=Object.freeze(Object.defineProperty({__proto__:null,load:async function({fetch:e}){await t(e,"load to cache");const a=await async function(){const a=Array.from({length:s},((t,e)=>l+e)),n={},r=a.map((async s=>{const l=await t(e,s.toString());return{pokeId:s,jaName:l.jaName,imageUrl:l.imageUrl??"not_found",isUsed:!1}}));return(await Promise.all(r)).forEach((t=>{n[t.pokeId]=t})),n}();var n;return{pokeDict:a,groupByHeadCharDict:(n=a,Object.entries(n).reduce(((t,[e,s])=>{const l=q(s.jaName);return t[l]||(t[l]=[]),t[l].push(Number(e)),t}),{}))}}},Symbol.toStringTag,{value:"Module"}));function K(t){let e,s,l;return s=new H({props:{icon:"mdi:image-off-outline",class:"w-8 h-8 bg-white"}}),{c(){e=n("div"),T(s.$$.fragment),this.h()},l(t){e=o(t,"DIV",{class:!0});var l=i(e);A(s.$$.fragment,l),l.forEach(u),this.h()},h(){m(e,"class","absolute inset-0 flex items-center justify-center h-full")},m(t,a){d(t,e,a),B(s,e,null),l=!0},p:v,i(t){l||(O(s.$$.fragment,t),l=!0)},o(t){U(s.$$.fragment,t),l=!1},d(t){t&&u(e),P(s)}}}function Q(t){let e,s,l,a,r,i,f,g,p=!t[2]&&W();return{c(){e=n("img"),a=c(),p&&p.c(),r=$(),this.h()},l(t){e=o(t,"IMG",{src:!0,alt:!0,class:!0}),a=h(t),p&&p.l(t),r=$(),this.h()},h(){y(e.src,s=t[1])||m(e,"src",s),m(e,"alt",l=t[0]??"???"),m(e,"class","w-full h-full object-cover"),b(e,"image",!t[2]),b(e,"loaded",t[2])},m(s,l){d(s,e,l),d(s,a,l),p&&p.m(s,l),d(s,r,l),i=!0,f||(g=I(e,"load",t[3]),f=!0)},p(t,a){(!i||2&a&&!y(e.src,s=t[1]))&&m(e,"src",s),(!i||1&a&&l!==(l=t[0]??"???"))&&m(e,"alt",l),(!i||4&a)&&b(e,"image",!t[2]),(!i||4&a)&&b(e,"loaded",t[2]),t[2]?p&&(S(),U(p,1,1,(()=>{p=null})),N()):p?4&a&&O(p,1):(p=W(),p.c(),O(p,1),p.m(r.parentNode,r))},i(t){i||(O(p),i=!0)},o(t){U(p),i=!1},d(t){t&&(u(e),u(a),u(r)),p&&p.d(t),f=!1,g()}}}function W(t){let e,s,l;return s=new H({props:{icon:"mdi:progress-download",class:"w-full h-full text-white bg-gray-100 object-cover"}}),{c(){e=n("div"),T(s.$$.fragment),this.h()},l(t){e=o(t,"DIV",{class:!0});var l=i(e);A(s.$$.fragment,l),l.forEach(u),this.h()},h(){m(e,"class","absolute inset-0 flex items-center justify-center h-full")},m(t,a){d(t,e,a),B(s,e,null),l=!0},i(t){l||(O(s.$$.fragment,t),l=!0)},o(t){U(s.$$.fragment,t),l=!1},d(t){t&&u(e),P(s)}}}function X(t){let e,s,l,a,v,$,y,b,I,x,E,D,j=(t[0]??"???")+"";const w=[Q,K],V=[];function k(t,e){return null!==t[1]?0:1}return x=k(t),E=V[x]=w[x](t),{c(){e=n("div"),s=n("div"),l=n("div"),a=n("h1"),v=n("div"),$=r(j),y=c(),b=n("div"),I=n("div"),E.c(),this.h()},l(t){e=o(t,"DIV",{class:!0});var n=i(e);s=o(n,"DIV",{class:!0});var r=i(s);l=o(r,"DIV",{class:!0});var c=i(l);a=o(c,"H1",{class:!0});var m=i(a);v=o(m,"DIV",{});var d=i(v);$=f(d,j),d.forEach(u),m.forEach(u),c.forEach(u),y=h(r),b=o(r,"DIV",{class:!0});var g=i(b);I=o(g,"DIV",{class:!0});var p=i(I);E.l(p),p.forEach(u),g.forEach(u),r.forEach(u),n.forEach(u),this.h()},h(){m(a,"class","text-xs font-bold text-gray-900"),m(l,"class","absolute inset-0 m-1 flex justify-center"),m(I,"class","flex items-center justify-center bg-white rounded-full border border-gray-200 h-[80px] w-[80px]"),m(b,"class","flex justify-center"),m(s,"class","relative p-2 bg-transparent"),m(e,"class","flex flex-col bg-gray-50 rounded-2xl shadow border h-[100px] w-[100px] overflow-hidden select-none")},m(t,n){d(t,e,n),g(e,s),g(s,l),g(l,a),g(a,v),g(v,$),g(s,y),g(s,b),g(b,I),V[x].m(I,null),D=!0},p(t,[e]){(!D||1&e)&&j!==(j=(t[0]??"???")+"")&&p($,j);let s=x;x=k(t),x===s?V[x].p(t,e):(S(),U(V[s],1,1,(()=>{V[s]=null})),N(),E=V[x],E?E.p(t,e):(E=V[x]=w[x](t),E.c()),O(E,1),E.m(I,null))},i(t){D||(O(E),D=!0)},o(t){U(E),D=!1},d(t){t&&u(e),V[x].d()}}}function Y(t,e,s){let{name:l=null}=e,{imageUrl:a=null}=e,n=!1;return t.$$set=t=>{"name"in t&&s(0,l=t.name),"imageUrl"in t&&s(1,a=t.imageUrl)},t.$$.update=()=>{2&t.$$.dirty&&a&&s(2,n=!1)},[l,a,n,function(){s(2,n=!0)}]}class Z extends V{constructor(t){super(),k(this,t,Y,X,a,{name:0,imageUrl:1})}}function tt(t,e,s){const l=t.slice();return l[6]=e[s],l}function et(t){let e,s,l,a,v,$,y,b,x,D,j,w,V,k,S,N=M(t[1]),C=[];for(let n=0;n<N.length;n+=1)C[n]=st(tt(t,N,n));return w=new H({props:{icon:"mdi:close",class:"w-5 h-5"}}),{c(){e=n("div"),s=n("div"),l=n("div"),a=n("div"),v=n("h2"),$=r(t[0]),y=c(),b=n("div"),x=n("ul");for(let t=0;t<C.length;t+=1)C[t].c();D=c(),j=n("button"),T(w.$$.fragment),this.h()},l(n){e=o(n,"DIV",{class:!0,"data-parent":!0});var r=i(e);s=o(r,"DIV",{class:!0});var c=i(s);l=o(c,"DIV",{class:!0});var m=i(l);a=o(m,"DIV",{class:!0});var d=i(a);v=o(d,"H2",{class:!0});var g=i(v);$=f(g,t[0]),g.forEach(u),y=h(d),b=o(d,"DIV",{class:!0});var p=i(b);x=o(p,"UL",{class:!0});var I=i(x);for(let t=0;t<C.length;t+=1)C[t].l(I);I.forEach(u),p.forEach(u),d.forEach(u),m.forEach(u),D=h(c),j=o(c,"BUTTON",{class:!0});var E=i(j);A(w.$$.fragment,E),E.forEach(u),c.forEach(u),r.forEach(u),this.h()},h(){m(v,"class","text-2xl font-bold"),m(x,"class","mt-4 list-decimal list-inside"),m(b,"class","overflow-y-auto flex-grow"),m(a,"class","p-4 flex flex-col h-full"),m(l,"class","h-full h-full bg-white"),m(j,"class","absolute top-1 right-6 z-10"),m(s,"class","relative"),m(e,"class",""),m(e,"data-parent",t[2])},m(n,r){d(n,e,r),g(e,s),g(s,l),g(l,a),g(a,v),g(v,$),g(a,y),g(a,b),g(b,x);for(let t=0;t<C.length;t+=1)C[t]&&C[t].m(x,null);g(s,D),g(s,j),B(w,j,null),V=!0,k||(S=I(j,"click",t[5]),k=!0)},p(t,s){if((!V||1&s)&&p($,t[0]),2&s){let e;for(N=M(t[1]),e=0;e<N.length;e+=1){const l=tt(t,N,e);C[e]?C[e].p(l,s):(C[e]=st(l),C[e].c(),C[e].m(x,null))}for(;e<C.length;e+=1)C[e].d(1);C.length=N.length}(!V||4&s)&&m(e,"data-parent",t[2])},i(t){V||(O(w.$$.fragment,t),V=!0)},o(t){U(w.$$.fragment,t),V=!1},d(t){t&&u(e),E(C,t),P(w),k=!1,S()}}}function st(t){let e,s,l=t[6]+"";return{c(){e=n("li"),s=r(l)},l(t){e=o(t,"LI",{});var a=i(e);s=f(a,l),a.forEach(u)},m(t,l){d(t,e,l),g(e,s)},p(t,e){2&e&&l!==(l=t[6]+"")&&p(s,l)},d(t){t&&u(e)}}}function lt(t){let e,s,l=t[3][0]&&et(t);return{c(){l&&l.c(),e=$()},l(t){l&&l.l(t),e=$()},m(t,a){l&&l.m(t,a),d(t,e,a),s=!0},p(t,[s]){t[3][0]?l?(l.p(t,s),8&s&&O(l,1)):(l=et(t),l.c(),O(l,1),l.m(e.parentNode,e)):l&&(S(),U(l,1,1,(()=>{l=null})),N())},i(t){s||(O(l),s=!0)},o(t){U(l),s=!1},d(t){t&&u(e),l&&l.d(t)}}}function at(t,e,s){let l,{title:a}=e,{stringArray:n=[]}=e,{parent:r}=e;const c=C();return x(t,c,(t=>s(3,l=t))),t.$$set=t=>{"title"in t&&s(0,a=t.title),"stringArray"in t&&s(1,n=t.stringArray),"parent"in t&&s(2,r=t.parent)},[a,n,r,l,c,function(){c.close()}]}class nt extends V{constructor(t){super(),k(this,t,at,lt,a,{title:0,stringArray:1,parent:2})}}function rt(t,e,s){const l=t.slice();return l[15]=e[s],l[17]=s,l}function ct(t,e,s){const l=t.slice();return l[15]=e[s],l}function ot(t){let e;return{c(){e=r("しりとり リセット")},l(t){e=f(t,"しりとり リセット")},m(t,s){d(t,e,s)},d(t){t&&u(e)}}}function it(t){let e;return{c(){e=r("しりとり スタート")},l(t){e=f(t,"しりとり スタート")},m(t,s){d(t,e,s)},d(t){t&&u(e)}}}function ft(t){let e;return{c(){e=n("div"),this.h()},l(t){e=o(t,"DIV",{class:!0}),i(e).forEach(u),this.h()},h(){m(e,"class",yt)},m(t,s){d(t,e,s)},p:v,i:v,o:v,d(t){t&&u(e)}}}function ut(t){let e,s,l,a,r;function c(){return t[8](t[15])}return s=new Z({props:{name:t[15].jaName,imageUrl:t[15].imageUrl}}),{c(){e=n("button"),T(s.$$.fragment),this.h()},l(t){e=o(t,"BUTTON",{type:!0});var l=i(e);A(s.$$.fragment,l),l.forEach(u),this.h()},h(){m(e,"type","button")},m(t,n){d(t,e,n),B(s,e,null),l=!0,a||(r=I(e,"click",c),a=!0)},p(e,l){t=e;const a={};2&l&&(a.name=t[15].jaName),2&l&&(a.imageUrl=t[15].imageUrl),s.$set(a)},i(t){l||(O(s.$$.fragment,t),l=!0)},o(t){U(s.$$.fragment,t),l=!1},d(t){t&&u(e),P(s),a=!1,r()}}}function ht(t){let e,s,l,a,r;const f=[ut,ft],p=[];function v(t,e){return t[15].isUsed?1:0}return s=v(t),l=p[s]=f[s](t),{c(){e=n("div"),l.c(),a=c(),this.h()},l(t){e=o(t,"DIV",{class:!0});var s=i(e);l.l(s),a=h(s),s.forEach(u),this.h()},h(){m(e,"class","rounded-2xl border-2")},m(t,l){d(t,e,l),p[s].m(e,null),g(e,a),r=!0},p(t,n){let r=s;s=v(t),s===r?p[s].p(t,n):(S(),U(p[r],1,1,(()=>{p[r]=null})),N(),l=p[s],l?l.p(t,n):(l=p[s]=f[s](t),l.c()),O(l,1),l.m(e,a))},i(t){r||(O(l),r=!0)},o(t){U(l),r=!1},d(t){t&&u(e),p[s].d()}}}function mt(t){let e;return{c(){e=n("div"),this.h()},l(t){e=o(t,"DIV",{class:!0}),i(e).forEach(u),this.h()},h(){m(e,"class",yt)},m(t,s){d(t,e,s)},p:v,i:v,o:v,d(t){t&&u(e)}}}function dt(t){let e,s;return e=new Z({props:{name:t[15].jaName,imageUrl:t[15].imageUrl}}),{c(){T(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,l){B(e,t,l),s=!0},p(t,s){const l={};1&s&&(l.name=t[15].jaName),1&s&&(l.imageUrl=t[15].imageUrl),e.$set(l)},i(t){s||(O(e.$$.fragment,t),s=!0)},o(t){U(e.$$.fragment,t),s=!1},d(t){P(e,t)}}}function gt(t){let e,s,l,a,r,f;const g=[dt,mt],p=[];function v(t,e){return t[15]?0:1}s=v(t),l=p[s]=g[s](t);let y=t[17]<2&&function(){let t;return{c(){t=n("span"),t.textContent="→"},l(e){t=o(e,"SPAN",{"data-svelte-h":!0}),"svelte-1xb5tc"!==D(t)&&(t.textContent="→")},m(e,s){d(e,t,s)},d(e){e&&u(t)}}}();return{c(){e=n("div"),l.c(),a=c(),y&&y.c(),r=$(),this.h()},l(t){e=o(t,"DIV",{class:!0});var s=i(e);l.l(s),s.forEach(u),a=h(t),y&&y.l(t),r=$(),this.h()},h(){m(e,"class","rounded-2xl border-2")},m(t,l){d(t,e,l),p[s].m(e,null),d(t,a,l),y&&y.m(t,l),d(t,r,l),f=!0},p(t,a){let n=s;s=v(t),s===n?p[s].p(t,a):(S(),U(p[n],1,1,(()=>{p[n]=null})),N(),l=p[s],l?l.p(t,a):(l=p[s]=g[s](t),l.c()),O(l,1),l.m(e,null))},i(t){f||(O(l),f=!0)},o(t){U(l),f=!1},d(t){t&&(u(e),u(a),u(r)),p[s].d(),y&&y.d(t)}}}function pt(t){let e,s,l,a,v,$,y,b,x,V,k,C,_,L,F,z,R,q,G,J,K,Q,W,X,Y,Z,tt,et,st,lt,at,nt,ft,ut,mt,dt,pt,bt,It,xt,Et,Dt,jt,wt,Vt,kt,St,Ut,Nt,Ot,Tt,At,Bt,Pt='<h1 class="cTitleStyle">ポケモンしりとり</h1>',Mt=t[0].length+"",Ct="ポケモン を いれかえる";function Ht(t,e){return 0===t[1].length?it:ot}let _t=Ht(t),Lt=_t(t);C=new H({props:{icon:"mdi:pokeball",class:"cIconStyle"}}),Q=new H({props:{icon:"mdi:format-list-numbered",class:"cIconStyle"}});let Ft=M(t[1]),zt=[];for(let n=0;n<Ft.length;n+=1)zt[n]=ht(ct(t,Ft,n));const Rt=t=>U(zt[t],1,1,(()=>{zt[t]=null}));dt=new H({props:{icon:"mdi:pokeball",class:"cIconStyle"}});let qt=M(t[0].length>=2?t[0].slice(-2):[...Array(2-t[0].length).fill(null),...t[0]]),Gt=[];for(let n=0;n<qt.length;n+=1)Gt[n]=gt(rt(t,qt,n));const Jt=t=>U(Gt[t],1,1,(()=>{Gt[t]=null}));return{c(){e=n("div"),s=n("div"),s.innerHTML=Pt,l=c(),a=n("div"),v=n("div"),$=n("div"),y=n("span"),Lt.c(),b=c(),x=n("form"),V=n("button"),k=n("div"),T(C.$$.fragment),_=c(),L=n("div"),L.innerHTML="",F=c(),z=n("p"),R=r(Mt),q=c(),G=n("form"),J=n("button"),K=n("div"),T(Q.$$.fragment),W=c(),X=n("div"),X.innerHTML="",Y=c(),Z=n("div"),tt=n("div");for(let t=0;t<zt.length;t+=1)zt[t].c();et=c(),st=n("div"),lt=n("div"),at=n("span"),at.textContent=Ct,nt=c(),ft=n("form"),ut=n("button"),mt=n("div"),T(dt.$$.fragment),It=c(),xt=n("div"),Et=n("div");for(let t=0;t<Gt.length;t+=1)Gt[t].c();Dt=c(),jt=n("div"),wt=n("div"),Vt=n("span"),Vt.textContent="？",kt=c(),St=n("div"),Ut=n("div"),Nt=n("span"),Ot=r(t[2]),this.h()},l(n){e=o(n,"DIV",{class:!0});var r=i(e);s=o(r,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-n7rgko"!==D(s)&&(s.innerHTML=Pt),l=h(r),a=o(r,"DIV",{class:!0});var c=i(a);v=o(c,"DIV",{class:!0});var m=i(v);$=o(m,"DIV",{class:!0});var d=i($);y=o(d,"SPAN",{class:!0});var g=i(y);Lt.l(g),g.forEach(u),b=h(d),x=o(d,"FORM",{});var p=i(x);V=o(p,"BUTTON",{type:!0,class:!0});var I=i(V);k=o(I,"DIV",{class:!0});var E=i(k);A(C.$$.fragment,E),E.forEach(u),I.forEach(u),p.forEach(u),_=h(d),L=o(d,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-1rtwic7"!==D(L)&&(L.innerHTML=""),F=h(d),z=o(d,"P",{class:!0});var j=i(z);R=f(j,Mt),j.forEach(u),q=h(d),G=o(d,"FORM",{});var w=i(G);J=o(w,"BUTTON",{type:!0,class:!0});var S=i(J);K=o(S,"DIV",{class:!0});var U=i(K);A(Q.$$.fragment,U),U.forEach(u),S.forEach(u),w.forEach(u),W=h(d),X=o(d,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-17db9va"!==D(X)&&(X.innerHTML=""),d.forEach(u),m.forEach(u),Y=h(c),Z=o(c,"DIV",{class:!0});var N=i(Z);tt=o(N,"DIV",{class:!0});var O=i(tt);for(let t=0;t<zt.length;t+=1)zt[t].l(O);O.forEach(u),N.forEach(u),et=h(c),st=o(c,"DIV",{class:!0});var T=i(st);lt=o(T,"DIV",{class:!0});var B=i(lt);at=o(B,"SPAN",{class:!0,"data-svelte-h":!0}),"svelte-1ysiuuh"!==D(at)&&(at.textContent=Ct),nt=h(B),ft=o(B,"FORM",{});var P=i(ft);ut=o(P,"BUTTON",{type:!0,class:!0});var M=i(ut);mt=o(M,"DIV",{class:!0});var H=i(mt);A(dt.$$.fragment,H),H.forEach(u),M.forEach(u),P.forEach(u),B.forEach(u),T.forEach(u),It=h(c),xt=o(c,"DIV",{class:!0});var rt=i(xt);Et=o(rt,"DIV",{class:!0});var ct=i(Et);for(let t=0;t<Gt.length;t+=1)Gt[t].l(ct);Dt=h(ct),jt=o(ct,"DIV",{class:!0});var ot=i(jt);wt=o(ot,"DIV",{class:!0});var it=i(wt);Vt=o(it,"SPAN",{class:!0,"data-svelte-h":!0}),"svelte-mds9k2"!==D(Vt)&&(Vt.textContent="？"),it.forEach(u),ot.forEach(u),ct.forEach(u),rt.forEach(u),kt=h(c),St=o(c,"DIV",{class:!0});var ht=i(St);Ut=o(ht,"DIV",{class:!0});var gt=i(Ut);Nt=o(gt,"SPAN",{class:!0});var pt=i(Nt);Ot=f(pt,t[2]),pt.forEach(u),gt.forEach(u),ht.forEach(u),c.forEach(u),r.forEach(u),this.h()},h(){m(s,"class","cTitlePartStyle"),m(y,"class","text-lg"),m(k,"class","cIconDivStyle"),m(V,"type","submit"),m(V,"class","cIconButtonStyle"),m(L,"class","flex-grow"),m(z,"class","text-lg"),m(K,"class","cIconDivStyle"),m(J,"type","submit"),m(J,"class","cIconButtonStyle"),m(X,"class","mr-4"),m($,"class","cInputFormAndMessagePartStyle"),m(v,"class","m-4 space-y-2"),m(tt,"class",$t),m(Z,"class",vt),m(at,"class","text-lg"),m(mt,"class","cIconDivStyle"),m(ut,"type","submit"),ut.disabled=pt=0==t[0].length,m(ut,"class",bt="cIconButtonStyle "+(0==t[0].length?"!bg-gray-500":"")),m(lt,"class","cInputFormAndMessagePartStyle"),m(st,"class","m-4"),m(Vt,"class","block text-center text-xl"),m(wt,"class",yt),m(jt,"class","rounded-2xl border-2"),m(Et,"class",$t+" md:ml-16 md:mr-16"),m(xt,"class",vt),m(Nt,"class","text-lg"),m(Ut,"class","cInputFormAndMessagePartStyle mb-2"),m(St,"class","m-4"),m(a,"class","cContentPartStyle !min-w-[300px] !max-w-[750px]"),m(e,"class","cRouteBodyStyle")},m(n,r){d(n,e,r),g(e,s),g(e,l),g(e,a),g(a,v),g(v,$),g($,y),Lt.m(y,null),g($,b),g($,x),g(x,V),g(V,k),B(C,k,null),g($,_),g($,L),g($,F),g($,z),g(z,R),g($,q),g($,G),g(G,J),g(J,K),B(Q,K,null),g($,W),g($,X),g(a,Y),g(a,Z),g(Z,tt);for(let t=0;t<zt.length;t+=1)zt[t]&&zt[t].m(tt,null);g(a,et),g(a,st),g(st,lt),g(lt,at),g(lt,nt),g(lt,ft),g(ft,ut),g(ut,mt),B(dt,mt,null),g(a,It),g(a,xt),g(xt,Et);for(let t=0;t<Gt.length;t+=1)Gt[t]&&Gt[t].m(Et,null);g(Et,Dt),g(Et,jt),g(jt,wt),g(wt,Vt),g(a,kt),g(a,St),g(St,Ut),g(Ut,Nt),g(Nt,Ot),Tt=!0,At||(Bt=[I(x,"submit",j(t[5])),I(G,"submit",j(t[6])),I(ft,"submit",j(t[3]))],At=!0)},p(t,[e]){if(_t!==(_t=Ht(t))&&(Lt.d(1),Lt=_t(t),Lt&&(Lt.c(),Lt.m(y,null))),(!Tt||1&e)&&Mt!==(Mt=t[0].length+"")&&p(R,Mt),18&e){let s;for(Ft=M(t[1]),s=0;s<Ft.length;s+=1){const l=ct(t,Ft,s);zt[s]?(zt[s].p(l,e),O(zt[s],1)):(zt[s]=ht(l),zt[s].c(),O(zt[s],1),zt[s].m(tt,null))}for(S(),s=Ft.length;s<zt.length;s+=1)Rt(s);N()}if((!Tt||1&e&&pt!==(pt=0==t[0].length))&&(ut.disabled=pt),(!Tt||1&e&&bt!==(bt="cIconButtonStyle "+(0==t[0].length?"!bg-gray-500":"")))&&m(ut,"class",bt),1&e){let s;for(qt=M(t[0].length>=2?t[0].slice(-2):[...Array(2-t[0].length).fill(null),...t[0]]),s=0;s<qt.length;s+=1){const l=rt(t,qt,s);Gt[s]?(Gt[s].p(l,e),O(Gt[s],1)):(Gt[s]=gt(l),Gt[s].c(),O(Gt[s],1),Gt[s].m(Et,Dt))}for(S(),s=qt.length;s<Gt.length;s+=1)Jt(s);N()}(!Tt||4&e)&&p(Ot,t[2])},i(t){if(!Tt){O(C.$$.fragment,t),O(Q.$$.fragment,t);for(let t=0;t<Ft.length;t+=1)O(zt[t]);O(dt.$$.fragment,t);for(let t=0;t<qt.length;t+=1)O(Gt[t]);Tt=!0}},o(t){U(C.$$.fragment,t),U(Q.$$.fragment,t),zt=zt.filter(Boolean);for(let e=0;e<zt.length;e+=1)U(zt[e]);U(dt.$$.fragment,t),Gt=Gt.filter(Boolean);for(let e=0;e<Gt.length;e+=1)U(Gt[e]);Tt=!1},d(t){t&&u(e),Lt.d(),P(C),P(Q),E(zt,t),P(dt),E(Gt,t),At=!1,w(Bt)}}}const vt="min-h-[150px] md:min-w-[750px] border bg-white rounded-xl",$t="flex flex-wrap justify-between gap-y-1 p-4",yt="h-[100px] w-[100px] bg-gray-100 rounded-2xl";function bt(t,s,l){let{data:a}=s,n=a.pokeDict;const r=a.groupByHeadCharDict;let c=[];function o(){0===u.length&&h();const t=G(u[u.length-1].jaName),e=(s=n,Object.fromEntries(Object.entries(s).filter((([,t])=>!t.isUsed))));var s;const a=function(t,e,s){const l=e[s]??[];return Object.fromEntries(l.filter((e=>e in t)).map((e=>[e,t[e]])))}(e,r,t),o=Object.keys(e).length>12?L(e,12):Object.values(e),i=Object.keys(a).length>4?L(a,4):Object.values(a);l(1,c=F([...new Set([...o,...i])]).slice(0,12))}function i(t){n[t].isUsed=!0,l(1,c=c.map((e=>e.pokeId===t?{...e,isUsed:!0}:e)))}let f,u=[];function h(){const t=z(n);i(t),l(0,u=[n[t]])}function m(t){if(0===u.length)return void l(2,f="ポケモン を よびだしてね");const e=u[u.length-1].jaName;!function(t,e){return G(t)===q(e)}(e,t.jaName)?l(2,f=`「${G(e??"")}」 から はじまる ポケモン を えらんでね`):(i(t.pokeId),l(0,u=[...u,t]))}function d(){const t=u.slice(-1)[0]??null;if(null===t)return void l(2,f="ポケモン を よびだしてね");const s=G(t.jaName);if("ン"!==s)if(1==u.length)l(2,f=`はじめは 「${G(s)}」`);else{const t=["そのちょうし！","いいぞ！","がんばれ！","すごい！","いけいけ！"];l(2,f=`${t[e(t.length)]} つぎは 「${G(s)}」`)}else l(2,f="ン で おわっちゃった...")}const g=C();return t.$$set=t=>{"data"in t&&l(7,a=t.data)},t.$$.update=()=>{1&t.$$.dirty&&u&&d()},[u,c,f,o,m,function(){var t;t=_(a.pokeDict,"pokeId"),n=Object.fromEntries(Object.entries(t).map((([t,e])=>[t,{...e,isUsed:!1}]))),l(0,u=[]),h(),o(),d()},function(){const t=function(t){return{type:"component",component:t,backdropClasses:"fixed inset-0 !bg-gray-300/90"}}({ref:nt,props:{title:"しりとりリスト",stringArray:u.map((t=>t.jaName))}});g.trigger(t)},a,t=>m(t)]}class It extends V{constructor(t){super(),k(this,t,bt,pt,a,{data:7})}}export{It as component,J as universal};
