import{m as e,c as n,g as t}from"../chunks/makePokeData.client.BOrPvhSn.js";import{c as a,T as o}from"../chunks/type.DlO2-6e_.js";import{f as s}from"../chunks/numerics.BtSUyLUe.js";import{P as l,F as c,d as i,e as r}from"../chunks/common.D9akoRAZ.js";import{s as u,e as f,a as d,c as m,b as h,D as p,f as g,g as y,h as k,i as b,j as w,F as j,t as v,d as $,N as x,r as S,k as N}from"../chunks/scheduler.bui552vp.js";import{S as P,i as C,a as I,c as D,t as T,b as F,d as O,m as E,e as V,g as B}from"../chunks/index.4QmalfrF.js";import{e as J}from"../chunks/each.DJOpqiLE.js";import{a as L}from"../chunks/IconButton.B89Jc3jM.js";async function A(t,a){const o={},s=a.map((async a=>{try{const s=await e(t,a.toString()),l=n(s);o[a.toString()]=l}catch(s){console.error(`Failed to fetch data for pokeId ${a}:`,s)}}));return await Promise.all(s),o}async function R(e,n){const o={},s=n.map((async n=>{const s=await t(e,n.toString()),l=a(s);o[n]=l}));return await Promise.all(s),o}async function U(n,t){const a={},o=t.map((async t=>{try{const o=function(e){var n;return{"名前":e.jaName,"分類":e.jaGenus,"タイプ1":e.type1.jaName,"タイプ2":(null==(n=e.type2)?void 0:n.jaName)??null,"高さ":s(e.height,"height"),"重さ":s(e.weight,"weight"),"姿":e.shape,"伝説である":e.isLegendary||e.isMythical}}(await e(n,t.toString()));a[t.toString()]=o}catch(o){console.error(`Failed to fetch data for pokeId ${t}:`,o)}}));return await Promise.all(o),a}const z=Object.freeze(Object.defineProperty({__proto__:null,load:async function(){function e(e,n){return Array.from({length:n},((n,t)=>e+t))}return{downloadConfigs:[{id:"dlPokeJson",fileName:"staticPokeDict.json",label:"全ポケモン(通常) Json",makeFunction:A,keys:e(c,l)},{id:"dlAddPokeJson",fileName:"staticAddPokeDict.json",label:"全ポケモン(別ver) Json",makeFunction:A,keys:e(r,i)},{id:"dlTypeJson",fileName:"staticTypeDict.json",label:"全タイプJson",makeFunction:R,keys:Object.values(o)},{id:"dlPokenatorTuningCsv",fileName:"tuningPokenator.csv",label:"Pokenatorチューニング用CSV",makeFunction:U,keys:e(c,151)}]}}},Symbol.toStringTag,{value:"Module"}));async function M(e,n,t,a){try{let o;a?(o=await async function(e,n){const t=new Blob([e],{type:n}).stream().pipeThrough(new CompressionStream("gzip"));return await new Response(t).blob()}(e,t),n+=".gz"):o=new Blob([e],{type:t}),function(e,n){const t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download=n,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t)}(o,n)}catch(o){throw console.error(`failed to download ${n}:`,o),o}}function _(e,n,t){const a=e.slice();return a[6]=n[t],a[7]=n,a[8]=t,a}function H(e){let n,t,a,o,s,l,c,i,r,u,p,j,P,C,D,B,J=e[6].label+"";function A(){e[3].call(o,e[7],e[8])}function R(){return e[4](e[6])}function U(){return e[5](e[6])}return c=new L({props:{icon:"mdi:download-box-outline",cButton:"btn-sm",onClick:R,disabled:e[1]}}),r=new L({props:{icon:"mdi:zip-box-outline",cButton:"btn-sm",onClick:U,disabled:e[1]}}),{c(){n=f("div"),t=f("div"),a=f("div"),o=f("input"),l=d(),F(c.$$.fragment),i=d(),F(r.$$.fragment),u=d(),p=f("span"),j=v(J),P=d(),this.h()},l(e){n=m(e,"DIV",{class:!0});var s=h(n);t=m(s,"DIV",{class:!0});var f=h(t);a=m(f,"DIV",{class:!0});var d=h(a);o=m(d,"INPUT",{type:!0,id:!0,class:!0}),l=g(d),O(c.$$.fragment,d),i=g(d),O(r.$$.fragment,d),u=g(d),p=m(d,"SPAN",{class:!0});var k=h(p);j=$(k,J),k.forEach(y),d.forEach(y),f.forEach(y),P=g(s),s.forEach(y),this.h()},h(){k(o,"type","text"),k(o,"id",s=e[6].id),k(o,"class","border rounded px-4 py-1 h-full"),k(p,"class","cSpanTextStyle"),k(a,"class","cInputFormAndMessagePartStyle"),k(t,"class","flex flex-col md:flex-row space-x-3"),k(n,"class","m-4")},m(s,f){b(s,n,f),w(n,t),w(t,a),w(a,o),x(o,e[6].fileName),w(a,l),E(c,a,null),w(a,i),E(r,a,null),w(a,u),w(a,p),w(p,j),w(n,P),C=!0,D||(B=S(o,"input",A),D=!0)},p(n,t){e=n,(!C||1&t&&s!==(s=e[6].id))&&k(o,"id",s),1&t&&o.value!==e[6].fileName&&x(o,e[6].fileName);const a={};1&t&&(a.onClick=R),2&t&&(a.disabled=e[1]),c.$set(a);const l={};1&t&&(l.onClick=U),2&t&&(l.disabled=e[1]),r.$set(l),(!C||1&t)&&J!==(J=e[6].label+"")&&N(j,J)},i(e){C||(I(c.$$.fragment,e),I(r.$$.fragment,e),C=!0)},o(e){T(c.$$.fragment,e),T(r.$$.fragment,e),C=!1},d(e){e&&y(n),V(c),V(r),D=!1,B()}}}function G(e){let n,t,a,o,s,l,c='<h1 class="cTitleStyle">うらわざ</h1>',i=J(e[0].downloadConfigs),r=[];for(let f=0;f<i.length;f+=1)r[f]=H(_(e,i,f));const u=e=>T(r[e],1,1,(()=>{r[e]=null}));return{c(){n=f("div"),t=f("div"),t.innerHTML=c,a=d(),o=f("div"),s=f("div");for(let e=0;e<r.length;e+=1)r[e].c();this.h()},l(e){n=m(e,"DIV",{class:!0});var l=h(n);t=m(l,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-19ephz6"!==p(t)&&(t.innerHTML=c),a=g(l),o=m(l,"DIV",{class:!0});var i=h(o);s=m(i,"DIV",{class:!0});var u=h(s);for(let n=0;n<r.length;n+=1)r[n].l(u);u.forEach(y),i.forEach(y),l.forEach(y),this.h()},h(){k(t,"class","cTitlePartStyle"),k(s,"class","flex flex-col"),k(o,"class","cContentPartStyle !min-w-[300px] !max-w-[800px]"),k(n,"class","cRouteBodyStyle")},m(e,c){b(e,n,c),w(n,t),w(n,a),w(n,o),w(o,s);for(let n=0;n<r.length;n+=1)r[n]&&r[n].m(s,null);l=!0},p(e,[n]){if(7&n){let t;for(i=J(e[0].downloadConfigs),t=0;t<i.length;t+=1){const a=_(e,i,t);r[t]?(r[t].p(a,n),I(r[t],1)):(r[t]=H(a),r[t].c(),I(r[t],1),r[t].m(s,null))}for(B(),t=i.length;t<r.length;t+=1)u(t);D()}},i(e){if(!l){for(let e=0;e<i.length;e+=1)I(r[e]);l=!0}},o(e){r=r.filter(Boolean);for(let n=0;n<r.length;n+=1)T(r[n]);l=!1},d(e){e&&y(n),j(r,e)}}}function q(e,n,t){let{data:a}=n,o=!1;async function s(e,n,a,s){t(1,o=!0);const l=await e(window.fetch,n),c=function(e){const n=e.lastIndexOf(".");return-1===n?"":e.substring(n+1)}(a);if("json"===c){const e=JSON.stringify(l,null,2);await M(e,a,"application/json",s)}else if("csv"===c){const e=function(e){const n=Object.values(e),t=Object.keys(e);if(0===t.length)return"";const a=Object.keys(n[0]);return["No",...a].join(",")+"\n"+t.map(((e,t)=>[e,...a.map((e=>null!==n[t][e]?n[t][e]:"null"))].join(","))).join("\n")}(l);console.log(e),await M(e,a,"application/json",s)}else console.log(`Unsupported file extension: ${c}`);t(1,o=!1)}return e.$$set=e=>{"data"in e&&t(0,a=e.data)},[a,o,s,function(e,n){e[n].fileName=this.value,t(0,a)},e=>s(e.makeFunction,e.keys,e.fileName,!1),e=>s(e.makeFunction,e.keys,e.fileName,!0)]}class K extends P{constructor(e){super(),C(this,e,q,G,u,{data:0})}}export{K as component,z as universal};
