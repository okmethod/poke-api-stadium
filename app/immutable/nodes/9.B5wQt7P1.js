import{b as ie}from"../chunks/fetchStaticData.pHlb-rVf.js";import{P as Ie,F as Se}from"../chunks/common.3e1mQu3z.js";import{a as we,e as h,b as T,c as p,d as y,x as J,h as j,f,j as u,l as X,m as o,u as ce,z as Me,v as Ee,B as Pe,C as xe,D as Be,t as H,i as W,n as Q,p as de,y as De}from"../chunks/scheduler.CUIDQL-i.js";import{S as Ce,i as Ve,b as ue,d as fe,m as me,a as he,t as pe,e as _e}from"../chunks/index.DvDG_np6.js";import{e as ve}from"../chunks/each.DQcc57QZ.js";import{I as ye}from"../chunks/Icon.jS-m3xkb.js";import{i as Ae,a as Ne,b as Te,c as je,d as Re,e as Oe,f as Fe}from"../chunks/createPokeBody.B3WQ_gmC.js";import{p as He}from"../chunks/collections.CVaw1mrQ.js";import{f as ge}from"../chunks/numerics.BpAOxbdF.js";async function We({fetch:c}){await ie(c,"load to cache");const s=await t();async function t(){const n=Array.from({length:Ie},(l,i)=>Se+i).map(async l=>{const i=await ie(window.fetch,l.toString());return i&&i.imageUrl!==null?a(l,i):null});return(await Promise.all(n)).filter(l=>l!==null)}function a(e,n){return{jaName:n.jaName,imageUrl:n.imageUrl??"not_found",weight:n.weight}}return{pokeItems:s}}const nt=Object.freeze(Object.defineProperty({__proto__:null,load:We},Symbol.toStringTag,{value:"Module"}));function Ue(c,s,t){const{Bodies:a,Composite:e,Constraint:n}=Matter,r=e.create(),l=a.rectangle(t.x,t.y,c,s,{label:"seesawStick",mass:10,render:{fillStyle:"#888888"}}),i=n.create({pointA:{x:t.x,y:t.y},bodyB:l,pointB:{x:0,y:0},stiffness:1,length:0});return e.add(r,l),e.add(r,i),{seesaw:r,seesawStick:l}}function be(c,s,t){const a=c.slice();return a[20]=s[t],a}function Le(c){let s,t;return{c(){s=h("span"),t=H(c[3]),this.h()},l(a){s=p(a,"SPAN",{class:!0});var e=y(s);t=W(e,c[3]),e.forEach(f),this.h()},h(){u(s,"class","text-lg")},m(a,e){X(a,s,e),o(s,t)},p(a,e){e&8&&Q(t,a[3])},d(a){a&&f(s)}}}function ze(c){let s,t=ve(c[2]),a=[];for(let e=0;e<t.length;e+=1)a[e]=ke(be(c,t,e));return{c(){for(let e=0;e<a.length;e+=1)a[e].c();s=de()},l(e){for(let n=0;n<a.length;n+=1)a[n].l(e);s=de()},m(e,n){for(let r=0;r<a.length;r+=1)a[r]&&a[r].m(e,n);X(e,s,n)},p(e,n){if(n&4){t=ve(e[2]);let r;for(r=0;r<t.length;r+=1){const l=be(e,t,r);a[r]?a[r].p(l,n):(a[r]=ke(l),a[r].c(),a[r].m(s.parentNode,s))}for(;r<a.length;r+=1)a[r].d(1);a.length=t.length}},d(e){e&&f(s),De(a,e)}}}function ke(c){let s,t,a,e=c[20].jaName+"",n,r,l,i,k=ge(c[20].weight,"weight")+"",M,I;return{c(){s=h("div"),t=h("span"),a=H("["),n=H(e),r=H("]"),l=T(),i=h("span"),M=H(k),I=T(),this.h()},l(d){s=p(d,"DIV",{class:!0});var m=y(s);t=p(m,"SPAN",{class:!0});var g=y(t);a=W(g,"["),n=W(g,e),r=W(g,"]"),g.forEach(f),l=j(m),i=p(m,"SPAN",{class:!0});var S=y(i);M=W(S,k),S.forEach(f),I=j(m),m.forEach(f),this.h()},h(){u(t,"class","text-base"),u(i,"class","text-xl bold"),u(s,"class","flex flex-col items-center")},m(d,m){X(d,s,m),o(s,t),o(t,a),o(t,n),o(t,r),o(s,l),o(s,i),o(i,M),o(s,I)},p(d,m){m&4&&e!==(e=d[20].jaName+"")&&Q(n,e),m&4&&k!==(k=ge(d[20].weight,"weight")+"")&&Q(M,k)},d(d){d&&f(s)}}}function Ke(c){let s,t,a='<h1 class="cTitleStyle">ポケモンおもさくらべ 改</h1>',e,n,r,l,i,k="ポケモン を よびだす",M,I,d,m,g,S,E,A,N,x,B,D,_="こたえあわせ",O,v,w,C,Y,R,U,G,Z;g=new ye({props:{icon:"mdi:pokeball",class:"cIconStyle"}}),C=new ye({props:{icon:"mdi:pokeball",class:"cIconStyle"}});function $(b,V){return b[1]?ze:Le}let L=$(c),P=L(c);return{c(){s=h("div"),t=h("div"),t.innerHTML=a,e=T(),n=h("div"),r=h("div"),l=h("div"),i=h("span"),i.textContent=k,M=T(),I=h("form"),d=h("button"),m=h("div"),ue(g.$$.fragment),S=T(),E=h("div"),A=h("div"),N=T(),x=h("div"),B=h("div"),D=h("span"),D.textContent=_,O=T(),v=h("button"),w=h("div"),ue(C.$$.fragment),Y=T(),R=h("div"),P.c(),this.h()},l(b){s=p(b,"DIV",{class:!0});var V=y(s);t=p(V,"DIV",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-ooobby"&&(t.innerHTML=a),e=j(V),n=p(V,"DIV",{class:!0});var F=y(n);r=p(F,"DIV",{class:!0});var ee=y(r);l=p(ee,"DIV",{class:!0});var z=y(l);i=p(z,"SPAN",{class:!0,"data-svelte-h":!0}),J(i)!=="svelte-mp7i3f"&&(i.textContent=k),M=j(z),I=p(z,"FORM",{});var te=y(I);d=p(te,"BUTTON",{type:!0,class:!0});var se=y(d);m=p(se,"DIV",{class:!0});var ae=y(m);fe(g.$$.fragment,ae),ae.forEach(f),se.forEach(f),te.forEach(f),z.forEach(f),ee.forEach(f),S=j(F),E=p(F,"DIV",{class:!0});var ne=y(E);A=p(ne,"DIV",{class:!0}),y(A).forEach(f),ne.forEach(f),N=j(F),x=p(F,"DIV",{class:!0});var K=y(x);B=p(K,"DIV",{class:!0});var q=y(B);D=p(q,"SPAN",{class:!0,"data-svelte-h":!0}),J(D)!=="svelte-1mxmuak"&&(D.textContent=_),O=j(q),v=p(q,"BUTTON",{type:!0,class:!0});var re=y(v);w=p(re,"DIV",{class:!0});var le=y(w);fe(C.$$.fragment,le),le.forEach(f),re.forEach(f),q.forEach(f),Y=j(K),R=p(K,"DIV",{class:!0});var oe=y(R);P.l(oe),oe.forEach(f),K.forEach(f),F.forEach(f),V.forEach(f),this.h()},h(){u(t,"class","cTitlePartStyle"),u(i,"class","text-lg"),u(m,"class","cIconDivStyle"),u(d,"type","submit"),u(d,"class","cIconButtonStyle"),u(l,"class","cInputFormAndMessagePartStyle"),u(r,"class","flex items-center justify-center"),u(A,"class","w-80 h-80 bg-gray-300 border border-black"),u(E,"class","m-4"),u(D,"class","text-lg"),u(w,"class","cIconDivStyle"),u(v,"type","button"),u(v,"class","cIconButtonStyle"),u(B,"class","cInputFormAndMessagePartStyle justify-center"),u(R,"class","cInputFormAndMessagePartStyle justify-center"),u(x,"class","m-4 mt-2 space-y-4"),u(n,"class","cContentPartStyle"),u(s,"class","cRouteBodyStyle")},m(b,V){X(b,s,V),o(s,t),o(s,e),o(s,n),o(n,r),o(r,l),o(l,i),o(l,M),o(l,I),o(I,d),o(d,m),me(g,m,null),o(n,S),o(n,E),o(E,A),c[7](A),o(n,N),o(n,x),o(x,B),o(B,D),o(B,O),o(B,v),o(v,w),me(C,w,null),o(x,Y),o(x,R),P.m(R,null),U=!0,G||(Z=[ce(I,"submit",Me(c[4])),ce(v,"click",c[5])],G=!0)},p(b,[V]){L===(L=$(b))&&P?P.p(b,V):(P.d(1),P=L(b),P&&(P.c(),P.m(R,null)))},i(b){U||(he(g.$$.fragment,b),he(C.$$.fragment,b),U=!0)},o(b){pe(g.$$.fragment,b),pe(C.$$.fragment,b),U=!1},d(b){b&&f(s),_e(g),c[7](null),_e(C),P.d(),G=!1,Ee(Z)}}}let qe=!1,Xe=2;function Ye(c,s,t){let{data:a}=s,e,n,r,l,i,k,M,I,d;Pe(async()=>{l=Ae(),i=Ne(),k=Te(l,e),n=e.clientWidth*.5,r=e.clientHeight*.5,M=je(l,k);const _=await Re(e),O=e.clientHeight*.8;({seesaw:I,seesawStick:d}=Ue(O,20,{x:n,y:r*1.5}));{Matter.World.add(l.world,_),Matter.World.add(l.world,I),Matter.Runner.run(i,l),Matter.Render.run(k);let v=Oe(l.world,M,e,{isHolding:qe});if(!v)return;Object.entries(v).forEach(([w,C])=>{e.addEventListener(w,C)})}}),xe(()=>{{Matter.Render.stop(k),Matter.Runner.stop(i),Matter.World.clear(l.world,!1),Matter.Engine.clear(l);return}});let m=!1,g=!1,S=[],E=[];async function A(){B(),t(2,S=He(a.pokeItems,Xe));const _=S.map((v,w)=>Fe(v.imageUrl,!1,{x:n+(w===0?-n*.6:n*.6),y:r*1.1}));(await Promise.all(_)).forEach((v,w)=>{Matter.Body.setMass(v,S[w].weight/10),Matter.Body.setStatic(v,!0),Matter.World.add(l.world,[v]),E.push(v)}),m=!0}let N="";function x(){if(S.length==0){t(3,N="さきに ポケモンを よびだしてね");return}if(m===!1){t(3,N="じゅんびちゅう...");return}g===!1&&E.forEach(_=>{Matter.Body.setStatic(_,!1),Matter.Body.applyForce(_,{x:0,y:0},{x:0,y:.01}),Matter.Body.setVelocity(_,{x:0,y:0}),Matter.Body.setAngularVelocity(_,0)}),t(1,g=!0)}function B(){t(3,N=""),m=!1,t(1,g=!1),E.forEach(_=>Matter.World.remove(l.world,_)),E=[],d&&(Matter.Body.setAngle(d,0),Matter.Body.setAngularVelocity(d,0),Matter.Body.setPosition(d,{x:n,y:r*1.5}))}function D(_){Be[_?"unshift":"push"](()=>{e=_,t(0,e)})}return c.$$set=_=>{"data"in _&&t(6,a=_.data)},[e,g,S,N,A,x,a,D]}class rt extends Ce{constructor(s){super(),Ve(this,s,Ye,Ke,we,{data:6})}}export{rt as component,nt as universal};
