import{s as Qe,m as ke,j as V,d as m,u as Ot,e as _,a as D,c as h,b as v,f as S,o as Lt,h as f,k as c,q as W,v as se,t as Oe,g as je,x as Je,l as Ue,r as jt,n as Le,w as Rt,i as It}from"../chunks/scheduler.8mt35fBc.js";import{S as We,i as Xe,a as w,g as Se,t as P,c as we,b as ne,d as ae,m as re,e as oe}from"../chunks/index.ySw2sHjO.js";import{e as be,u as Nt,o as Mt}from"../chunks/each.DP6o4sLe.js";import{g as Ze}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.DIn6fv-b.js";import{I as ye,L as Ht}from"../chunks/staticPokeData.Do0twg6C.js";import{a as qt,g as zt}from"../chunks/getPokeData.client.CrptDfdZ.js";import{P as Ut}from"../chunks/PokeTile.PMMJzc8z.js";import{p as Ke}from"../chunks/numerics.DYRi6Rfg.js";import{S as Dt}from"../chunks/staticTypeData.Eu4_1rZe.js";async function Gt(o,t,l){const e=await qt(o,t.id.toString());if(!e)return"default";const{double_damage_to:s,half_damage_to:n,no_damage_to:a}=e.damage_relations,r={double:s.map(u=>u.name),half:n.map(u=>u.name),no:a.map(u=>u.name)};for(const[u,p]of Object.entries(r))if(p.includes(l.enName))return u;return"default"}function St(o){let t,l,e,s,n,a,r,u,p,I;return r=new ye({props:{icon:"mdi:close",class:"w-5 h-5"}}),{c(){t=_("div"),l=_("div"),e=_("img"),n=D(),a=_("button"),ne(r.$$.fragment),this.h()},l(g){t=h(g,"DIV",{class:!0,"data-parent":!0});var y=v(t);l=h(y,"DIV",{class:!0});var b=v(l);e=h(b,"IMG",{src:!0,alt:!0,class:!0}),n=S(b),a=h(b,"BUTTON",{class:!0});var E=v(a);ae(r.$$.fragment,E),E.forEach(m),b.forEach(m),y.forEach(m),this.h()},h(){Lt(e.src,s=Kt)||f(e,"src",s),f(e,"alt","type_relations"),f(e,"class","w-96 h-96 object-contain"),f(a,"class","absolute top-1 right-6 z-10"),f(l,"class","relative"),f(t,"class",""),f(t,"data-parent",o[0])},m(g,y){V(g,t,y),c(t,l),c(l,e),c(l,n),c(l,a),re(r,a,null),u=!0,p||(I=W(a,"click",o[3]),p=!0)},p(g,y){(!u||y&1)&&f(t,"data-parent",g[0])},i(g){u||(w(r.$$.fragment,g),u=!0)},o(g){P(r.$$.fragment,g),u=!1},d(g){g&&m(t),oe(r),p=!1,I()}}}function Jt(o){let t,l,e=o[1][0]&&St(o);return{c(){e&&e.c(),t=ke()},l(s){e&&e.l(s),t=ke()},m(s,n){e&&e.m(s,n),V(s,t,n),l=!0},p(s,[n]){s[1][0]?e?(e.p(s,n),n&2&&w(e,1)):(e=St(s),e.c(),w(e,1),e.m(t.parentNode,t)):e&&(Se(),P(e,1,1,()=>{e=null}),we())},i(s){l||(w(e),l=!0)},o(s){P(e),l=!1},d(s){s&&m(t),e&&e.d(s)}}}const Kt="https://www.pokemon.co.jp/ex/sun_moon/common/images/fight/161215_01/img_01.png";function Yt(o,t,l){let e,{parent:s}=t;const n=Ze();Ot(o,n,r=>l(1,e=r));function a(){n.close()}return o.$$set=r=>{"parent"in r&&l(0,s=r.parent)},[s,e,n,a]}class Qt extends We{constructor(t){super(),Xe(this,t,Yt,Jt,Qe,{parent:0})}}function wt(o){let t,l,e,s=`<div class="p-4"><h2 class="text-2xl font-bold">ルール</h2> <p class="mt-4">まず ポケモン を 1たい えらぶ。
            <br/>
            つぎに タイプ を どちらか 1つ えらぶ。
            <br/>
            すばやさ が たかい ほうが こうげきする。</p> <ul class="mt-4 list-disc list-inside"><li>ばつぐん なら かち。</li> <li>いまひとつ か こうかなし なら まけ。</li> <li>どちらでもない なら あいこ。</li></ul></div>`,n,a,r,u,p,I;return r=new ye({props:{icon:"mdi:close",class:"w-5 h-5"}}),{c(){t=_("div"),l=_("div"),e=_("div"),e.innerHTML=s,n=D(),a=_("button"),ne(r.$$.fragment),this.h()},l(g){t=h(g,"DIV",{class:!0,"data-parent":!0});var y=v(t);l=h(y,"DIV",{class:!0});var b=v(l);e=h(b,"DIV",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-mlq9ej"&&(e.innerHTML=s),n=S(b),a=h(b,"BUTTON",{class:!0});var E=v(a);ae(r.$$.fragment,E),E.forEach(m),b.forEach(m),y.forEach(m),this.h()},h(){f(e,"class","w-full h-full bg-white"),f(a,"class","absolute top-1 right-6 z-10"),f(l,"class","relative"),f(t,"class",""),f(t,"data-parent",o[0])},m(g,y){V(g,t,y),c(t,l),c(l,e),c(l,n),c(l,a),re(r,a,null),u=!0,p||(I=W(a,"click",o[3]),p=!0)},p(g,y){(!u||y&1)&&f(t,"data-parent",g[0])},i(g){u||(w(r.$$.fragment,g),u=!0)},o(g){P(r.$$.fragment,g),u=!1},d(g){g&&m(t),oe(r),p=!1,I()}}}function Wt(o){let t,l,e=o[1][0]&&wt(o);return{c(){e&&e.c(),t=ke()},l(s){e&&e.l(s),t=ke()},m(s,n){e&&e.m(s,n),V(s,t,n),l=!0},p(s,[n]){s[1][0]?e?(e.p(s,n),n&2&&w(e,1)):(e=wt(s),e.c(),w(e,1),e.m(t.parentNode,t)):e&&(Se(),P(e,1,1,()=>{e=null}),we())},i(s){l||(w(e),l=!0)},o(s){P(e),l=!1},d(s){s&&m(t),e&&e.d(s)}}}function Xt(o,t,l){let e,{parent:s}=t;const n=Ze();Ot(o,n,r=>l(1,e=r));function a(){n.close()}return o.$$set=r=>{"parent"in r&&l(0,s=r.parent)},[s,e,n,a]}class Zt extends We{constructor(t){super(),Xe(this,t,Xt,Wt,Qe,{parent:0})}}function Tt(o,t,l){const e=o.slice();return e[25]=t[l],e}function $t(o,t,l){const e=o.slice();return e[28]=t[l],e[30]=l,e}function At(o,t,l){const e=o.slice();return e[28]=t[l],e[30]=l,e}function Ft(o,t){var r;let l,e,s,n,a;return e=new Ut({props:{name:t[28].jaName,type1Name:t[28].type1.enName,type2Name:(r=t[28].type2)==null?void 0:r.enName,imageUrl:t[28].imageUrlArray[0]}}),{key:o,first:null,c(){l=_("div"),ne(e.$$.fragment),s=D(),this.h()},l(u){l=h(u,"DIV",{class:!0});var p=v(l);ae(e.$$.fragment,p),s=S(p),p.forEach(m),this.h()},h(){f(l,"class",n="rounded-2xl border-2 "+(t[30]==t[5]?"border-red-500":"border-transparent")),this.first=l},m(u,p){V(u,l,p),re(e,l,null),c(l,s),a=!0},p(u,p){var g;t=u;const I={};p[0]&16&&(I.name=t[28].jaName),p[0]&16&&(I.type1Name=t[28].type1.enName),p[0]&16&&(I.type2Name=(g=t[28].type2)==null?void 0:g.enName),p[0]&16&&(I.imageUrl=t[28].imageUrlArray[0]),e.$set(I),(!a||p[0]&48&&n!==(n="rounded-2xl border-2 "+(t[30]==t[5]?"border-red-500":"border-transparent")))&&f(l,"class",n)},i(u){a||(w(e.$$.fragment,u),a=!0)},o(u){P(e.$$.fragment,u),a=!1},d(u){u&&m(l),oe(e)}}}function xt(o){let t,l,e,s,n;return{c(){t=_("span"),l=Oe(o[7]),e=D(),s=_("span"),n=Oe(o[8]),this.h()},l(a){t=h(a,"SPAN",{class:!0});var r=v(t);l=je(r,o[7]),r.forEach(m),e=S(a),s=h(a,"SPAN",{class:!0});var u=v(s);n=je(u,o[8]),u.forEach(m),this.h()},h(){f(t,"class","block sm:inline"),f(s,"class","block sm:inline")},m(a,r){V(a,t,r),c(t,l),V(a,e,r),V(a,s,r),c(s,n)},p(a,r){r[0]&128&&Ue(l,a[7]),r[0]&256&&Ue(n,a[8])},d(a){a&&(m(t),m(e),m(s))}}}function el(o){let t,l="VS";return{c(){t=_("span"),t.textContent=l,this.h()},l(e){t=h(e,"SPAN",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-qavuzn"&&(t.textContent=l),this.h()},h(){f(t,"class","block")},m(e,s){V(e,t,s)},p:Le,d(e){e&&m(t)}}}function Pt(o,t){var y;let l,e,s,n,a,r,u,p;s=new Ut({props:{name:t[28].jaName,type1Name:t[28].type1.enName,type2Name:(y=t[28].type2)==null?void 0:y.enName,imageUrl:t[28].imageUrlArray[0]}});function I(){return t[15](t[30])}function g(...b){return t[16](t[30],...b)}return{key:o,first:null,c(){l=_("div"),e=_("button"),ne(s.$$.fragment),n=D(),this.h()},l(b){l=h(b,"DIV",{class:!0});var E=v(l);e=h(E,"BUTTON",{type:!0});var T=v(e);ae(s.$$.fragment,T),T.forEach(m),n=S(E),E.forEach(m),this.h()},h(){f(e,"type","button"),f(l,"class",a="rounded-2xl border-2 "+(t[30]==t[1]?"border-red-500":"border-transparent")),this.first=l},m(b,E){V(b,l,E),c(l,e),re(s,e,null),c(l,n),r=!0,u||(p=[W(e,"click",I),W(e,"keydown",g)],u=!0)},p(b,E){var H;t=b;const T={};E[0]&8&&(T.name=t[28].jaName),E[0]&8&&(T.type1Name=t[28].type1.enName),E[0]&8&&(T.type2Name=(H=t[28].type2)==null?void 0:H.enName),E[0]&8&&(T.imageUrl=t[28].imageUrlArray[0]),s.$set(T),(!r||E[0]&10&&a!==(a="rounded-2xl border-2 "+(t[30]==t[1]?"border-red-500":"border-transparent")))&&f(l,"class",a)},i(b){r||(w(s.$$.fragment,b),r=!0)},o(b){P(s.$$.fragment,b),r=!1},d(b){b&&m(l),oe(s),u=!1,jt(p)}}}function tl(o){let t,l=be(Ye(o[3][o[1]])),e=[];for(let s=0;s<l.length;s+=1)e[s]=Ct(Tt(o,l,s));return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=ke()},l(s){for(let n=0;n<e.length;n+=1)e[n].l(s);t=ke()},m(s,n){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(s,n);V(s,t,n)},p(s,n){if(n[0]&4106){l=be(Ye(s[3][s[1]]));let a;for(a=0;a<l.length;a+=1){const r=Tt(s,l,a);e[a]?e[a].p(r,n):(e[a]=Ct(r),e[a].c(),e[a].m(t.parentNode,t))}for(;a<e.length;a+=1)e[a].d(1);e.length=l.length}},i:Le,o:Le,d(s){s&&m(t),Rt(e,s)}}}function ll(o){let t,l,e,s,n,a;return e=new ye({props:{icon:"mdi:pokeball",class:"cIconStyle"}}),{c(){t=_("button"),l=_("div"),ne(e.$$.fragment),this.h()},l(r){t=h(r,"BUTTON",{type:!0,class:!0});var u=v(t);l=h(u,"DIV",{class:!0});var p=v(l);ae(e.$$.fragment,p),p.forEach(m),u.forEach(m),this.h()},h(){f(l,"class","cIconDivStyle"),f(t,"type","button"),f(t,"class","cIconButtonStyle")},m(r,u){V(r,t,u),c(t,l),re(e,l,null),s=!0,n||(a=W(t,"click",o[11]),n=!0)},p:Le,i(r){s||(w(e.$$.fragment,r),s=!0)},o(r){P(e.$$.fragment,r),s=!1},d(r){r&&m(t),oe(e),n=!1,a()}}}function Ct(o){let t,l=o[25].jaName+"",e,s,n,a;function r(){return o[17](o[25])}return{c(){t=_("button"),e=Oe(l),s=D(),this.h()},l(u){t=h(u,"BUTTON",{style:!0,class:!0});var p=v(t);e=je(p,l),s=S(p),p.forEach(m),this.h()},h(){var u;It(t,"background-color",((u=Dt[o[25].enName])==null?void 0:u.color)||"blue"),f(t,"class","px-2 py-1 hover:brightness-85 text-white rounded h-full flex items-center")},m(u,p){V(u,t,p),c(t,e),c(t,s),n||(a=W(t,"click",r),n=!0)},p(u,p){var I;o=u,p[0]&10&&l!==(l=o[25].jaName+"")&&Ue(e,l),p[0]&10&&It(t,"background-color",((I=Dt[o[25].enName])==null?void 0:I.color)||"blue")},d(u){u&&m(t),n=!1,a()}}}function sl(o){let t,l,e='<h1 class="cTitleStyle">ポケモンタイプじゃんけん</h1>',s,n,a,r,u,p="ポケモン を よびだす",I,g,y,b,E,T,H,q,Te="",pe,X,z,G,J,Ee,Z,K,x,N,M,B,ee="",O,L,R,Ie="あいて",_e,Y,$=[],$e=new Map,Ne,ue,ie,Re,te,ce,xe="あなた",He,fe,C=[],et=new Map,qe,he,Q,ge,Ae,ze,Fe,A,F,de,Ge,tt;E=new ye({props:{icon:"mdi:pokeball",class:"cIconStyle"}}),J=new ye({props:{icon:"mdi:head-question-outline",class:"cIconStyle"}}),N=new ye({props:{icon:"mdi:table-question",class:"cIconStyle"}});let Me=be(o[4]);const lt=i=>i[28].id;for(let i=0;i<Me.length;i+=1){let d=At(o,Me,i),k=lt(d);$e.set(k,$[i]=Ft(k,d))}function st(i,d){return i[0]!=="term"?el:xt}let Pe=st(o),U=Pe(o),De=be(o[3]);const nt=i=>i[28].id;for(let i=0;i<De.length;i+=1){let d=$t(o,De,i),k=nt(d);et.set(k,C[i]=Pt(k,d))}const at=[ll,tl],le=[];function rt(i,d){return d[0]&3&&(Fe=null),Fe==null&&(Fe=!!(i[0]=="select_poke"&&i[9].includes(i[1]))),Fe?0:i[0]=="select_type"?1:-1}return~(A=rt(o,[-1,-1]))&&(F=le[A]=at[A](o)),{c(){t=_("div"),l=_("div"),l.innerHTML=e,s=D(),n=_("div"),a=_("div"),r=_("div"),u=_("span"),u.textContent=p,I=D(),g=_("form"),y=_("button"),b=_("div"),ne(E.$$.fragment),H=D(),q=_("div"),q.innerHTML=Te,pe=D(),X=_("form"),z=_("button"),G=_("div"),ne(J.$$.fragment),Ee=D(),Z=_("form"),K=_("button"),x=_("div"),ne(N.$$.fragment),M=D(),B=_("div"),B.innerHTML=ee,O=D(),L=_("div"),R=_("span"),R.textContent=Ie,_e=D(),Y=_("div");for(let i=0;i<$.length;i+=1)$[i].c();Ne=D(),ue=_("div"),ie=_("p"),U.c(),Re=D(),te=_("div"),ce=_("span"),ce.textContent=xe,He=D(),fe=_("div");for(let i=0;i<C.length;i+=1)C[i].c();qe=D(),he=_("div"),Q=_("div"),ge=_("span"),Ae=Oe(o[6]),ze=D(),F&&F.c(),this.h()},l(i){t=h(i,"DIV",{class:!0});var d=v(t);l=h(d,"DIV",{class:!0,"data-svelte-h":!0}),se(l)!=="svelte-1r5gn7p"&&(l.innerHTML=e),s=S(d),n=h(d,"DIV",{class:!0});var k=v(n);a=h(k,"DIV",{class:!0});var ot=v(a);r=h(ot,"DIV",{class:!0});var j=v(r);u=h(j,"SPAN",{class:!0,"data-svelte-h":!0}),se(u)!=="svelte-mp7i3f"&&(u.textContent=p),I=S(j),g=h(j,"FORM",{});var ut=v(g);y=h(ut,"BUTTON",{type:!0,class:!0});var it=v(y);b=h(it,"DIV",{class:!0});var ct=v(b);ae(E.$$.fragment,ct),ct.forEach(m),it.forEach(m),ut.forEach(m),H=S(j),q=h(j,"DIV",{class:!0,"data-svelte-h":!0}),se(q)!=="svelte-1rtwic7"&&(q.innerHTML=Te),pe=S(j),X=h(j,"FORM",{});var ft=v(X);z=h(ft,"BUTTON",{type:!0,class:!0});var dt=v(z);G=h(dt,"DIV",{class:!0});var mt=v(G);ae(J.$$.fragment,mt),mt.forEach(m),dt.forEach(m),ft.forEach(m),Ee=S(j),Z=h(j,"FORM",{});var pt=v(Z);K=h(pt,"BUTTON",{type:!0,class:!0});var _t=v(K);x=h(_t,"DIV",{class:!0});var ht=v(x);ae(N.$$.fragment,ht),ht.forEach(m),_t.forEach(m),pt.forEach(m),M=S(j),B=h(j,"DIV",{class:!0,"data-svelte-h":!0}),se(B)!=="svelte-17db9va"&&(B.innerHTML=ee),j.forEach(m),ot.forEach(m),O=S(k),L=h(k,"DIV",{class:!0});var Ce=v(L);R=h(Ce,"SPAN",{class:!0,"data-svelte-h":!0}),se(R)!=="svelte-10ns923"&&(R.textContent=Ie),_e=S(Ce),Y=h(Ce,"DIV",{class:!0});var gt=v(Y);for(let me=0;me<$.length;me+=1)$[me].l(gt);gt.forEach(m),Ce.forEach(m),Ne=S(k),ue=h(k,"DIV",{});var vt=v(ue);ie=h(vt,"P",{class:!0});var bt=v(ie);U.l(bt),bt.forEach(m),vt.forEach(m),Re=S(k),te=h(k,"DIV",{class:!0});var Ve=v(te);ce=h(Ve,"SPAN",{class:!0,"data-svelte-h":!0}),se(ce)!=="svelte-mhotnc"&&(ce.textContent=xe),He=S(Ve),fe=h(Ve,"DIV",{class:!0});var yt=v(fe);for(let me=0;me<C.length;me+=1)C[me].l(yt);yt.forEach(m),Ve.forEach(m),qe=S(k),he=h(k,"DIV",{class:!0});var kt=v(he);Q=h(kt,"DIV",{class:!0});var Be=v(Q);ge=h(Be,"SPAN",{class:!0});var Et=v(ge);Ae=je(Et,o[6]),Et.forEach(m),ze=S(Be),F&&F.l(Be),Be.forEach(m),kt.forEach(m),k.forEach(m),d.forEach(m),this.h()},h(){f(l,"class","cTitlePartStyle"),f(u,"class","text-lg"),f(b,"class","cIconDivStyle"),f(y,"type","submit"),y.disabled=o[2],f(y,"class",T="cIconButtonStyle "+(o[2]?"!bg-gray-500":"")),f(q,"class","flex-grow"),f(G,"class","cIconDivStyle"),f(z,"type","submit"),f(z,"class","cIconButtonStyle"),f(x,"class","cIconDivStyle"),f(K,"type","submit"),f(K,"class","cIconButtonStyle"),f(B,"class","mr-4"),f(r,"class","cInputFormAndMessagePartStyle"),f(a,"class","ml-4"),f(R,"class","block mt-1 ml-2"),f(Y,"class",Bt),f(L,"class",Vt),f(ie,"class","text-center text-lg"),f(ce,"class","block mt-1 ml-2"),f(fe,"class",Bt),f(te,"class",Vt),f(ge,"class","text-lg"),f(Q,"class","cInputFormAndMessagePartStyle"),f(he,"class","ml-4"),f(n,"class","cContentPartStyle !min-w-[300px] !max-w-[600px]"),f(t,"class","cRouteBodyStyle")},m(i,d){V(i,t,d),c(t,l),c(t,s),c(t,n),c(n,a),c(a,r),c(r,u),c(r,I),c(r,g),c(g,y),c(y,b),re(E,b,null),c(r,H),c(r,q),c(r,pe),c(r,X),c(X,z),c(z,G),re(J,G,null),c(r,Ee),c(r,Z),c(Z,K),c(K,x),re(N,x,null),c(r,M),c(r,B),c(n,O),c(n,L),c(L,R),c(L,_e),c(L,Y);for(let k=0;k<$.length;k+=1)$[k]&&$[k].m(Y,null);c(n,Ne),c(n,ue),c(ue,ie),U.m(ie,null),c(n,Re),c(n,te),c(te,ce),c(te,He),c(te,fe);for(let k=0;k<C.length;k+=1)C[k]&&C[k].m(fe,null);c(n,qe),c(n,he),c(he,Q),c(Q,ge),c(ge,Ae),c(Q,ze),~A&&le[A].m(Q,null),de=!0,Ge||(tt=[W(g,"submit",Je(o[10])),W(X,"submit",Je(o[13])),W(Z,"submit",Je(o[14]))],Ge=!0)},p(i,d){(!de||d[0]&4)&&(y.disabled=i[2]),(!de||d[0]&4&&T!==(T="cIconButtonStyle "+(i[2]?"!bg-gray-500":"")))&&f(y,"class",T),d[0]&48&&(Me=be(i[4]),Se(),$=Nt($,d,lt,1,i,Me,$e,Y,Mt,Ft,null,At),we()),Pe===(Pe=st(i))&&U?U.p(i,d):(U.d(1),U=Pe(i),U&&(U.c(),U.m(ie,null))),d[0]&10&&(De=be(i[3]),Se(),C=Nt(C,d,nt,1,i,De,et,fe,Mt,Pt,null,$t),we()),(!de||d[0]&64)&&Ue(Ae,i[6]);let k=A;A=rt(i,d),A===k?~A&&le[A].p(i,d):(F&&(Se(),P(le[k],1,1,()=>{le[k]=null}),we()),~A?(F=le[A],F?F.p(i,d):(F=le[A]=at[A](i),F.c()),w(F,1),F.m(Q,null)):F=null)},i(i){if(!de){w(E.$$.fragment,i),w(J.$$.fragment,i),w(N.$$.fragment,i);for(let d=0;d<Me.length;d+=1)w($[d]);for(let d=0;d<De.length;d+=1)w(C[d]);w(F),de=!0}},o(i){P(E.$$.fragment,i),P(J.$$.fragment,i),P(N.$$.fragment,i);for(let d=0;d<$.length;d+=1)P($[d]);for(let d=0;d<C.length;d+=1)P(C[d]);P(F),de=!1},d(i){i&&m(t),oe(E),oe(J),oe(N);for(let d=0;d<$.length;d+=1)$[d].d();U.d();for(let d=0;d<C.length;d+=1)C[d].d();~A&&le[A].d(),Ge=!1,jt(tt)}}}const ve=3,Vt="min-h-[220px] min-w-[300px] border bg-white rounded-xl",Bt="flex flex-wrap justify-between gap-y-1 p-4";function Ye(o){const t=o.type1,l=o.type2;return l?[t,l]:[t]}function nl(o,t,l){const e=Array.from({length:ve},(N,M)=>M);let s=!1,n=[],a=[];async function r(){l(2,s=!0),l(0,u="summonning_poke"),z();try{const N=Array.from({length:Ht},(ee,O)=>O+1),M=Ke(N,ve*2),B=await Promise.all(M.slice(0,ve*2).map(ee=>zt(fetch,ee.toString())));l(3,n=B.slice(0,ve)),l(4,a=B.slice(ve,ve*2))}catch{}l(2,s=!1),l(0,u="select_poke")}let u="init",p=-1,I=-1,g,y,b,E,T,H;function q(){const N={init:"ポケモン を よびだしてね",summonning_poke:"ポケモン を よびだしちゅう...",select_poke:e.includes(p)?`${n[p].jaName} で しょうぶ する？`:"ポケモン をえらんでね",select_type:"タイプ をえらんでね",term:H};l(6,b=N[u])}function Te(){l(0,u="select_type"),l(5,I=Ke(e,1)[0])}async function pe(N){g=N;const M=Ye(a[I]);y=M.length===1?M[0]:M[Ke([0,1],1)[0]],l(7,{attackMessage:E,compatibilityMessage:T,resultMessage:H}=await X(n[p],a[I],g,y),E,l(8,T)),l(0,u="term")}async function X(N,M,B,ee){const O=N.stats.speed>=M.stats.speed,L=O?N:M,R=O?B:ee,Ie=O?ee:B,_e={double:{efficacyMessage:"ばつぐん だ！",resultMessage:O?"あなた の かち！":"あなた の まけ..."},half:{efficacyMessage:"いまひとつ...",resultMessage:O?"あなた の まけ...":"あなた の かち！"},no:{efficacyMessage:"こうかは なし...",resultMessage:O?"あなた の まけ...":"あなた の かち！"},default:{efficacyMessage:"まずまず だ",resultMessage:"あいこ"}},Y=await Gt(fetch,R,Ie),{efficacyMessage:$,resultMessage:$e}=_e[Y]||_e.default,Ne=`${L.jaName} の こうげき！`,ue=`${R.jaName} は ${Ie.jaName} に ${$}`;return{attackMessage:Ne,compatibilityMessage:ue,resultMessage:$e}}function z(){l(3,n=[]),l(4,a=[]),l(1,p=-1),l(5,I=-1)}const G=Ze();function J(){const M={type:"component",component:{ref:Zt,props:{}},backdropClasses:"fixed inset-0 !bg-gray-300/90"};G.trigger(M)}function Ee(){const M={type:"component",component:{ref:Qt,props:{}},backdropClasses:"fixed inset-0 !bg-gray-300/90"};G.trigger(M)}const Z=N=>l(1,p=N),K=(N,M)=>{(M.key==="Enter"||M.key===" ")&&l(1,p=N)},x=N=>pe(N);return o.$$.update=()=>{o.$$.dirty[0]&3&&(u||p)&&q()},[u,p,s,n,a,I,b,E,T,e,r,Te,pe,J,Ee,Z,K,x]}class pl extends We{constructor(t){super(),Xe(this,t,nl,sl,Qe,{},null,[-1,-1])}}export{pl as component};
