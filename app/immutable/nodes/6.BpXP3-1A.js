import{a as t}from"../chunks/fetchStaticData.BmxXToGb.js";import{P as e,F as s}from"../chunks/common.D3vKClQu.js";import{s as a,e as l,t as n,a as r,c,b as o,d as i,g as f,f as h,h as u,i as m,j as d,k as g,n as p,q as v,r as $,u as y,v as b,l as I,F as x,C as E,D,w as j}from"../chunks/scheduler.BlZZSZ7p.js";import{S as w,i as V,g as S,t as k,c as U,a as N,b as T,d as O,m as A,e as B}from"../chunks/index.BmmfLK84.js";import{e as P}from"../chunks/each.Ua_ws592.js";import{g as M}from"../chunks/stores.CsLt9EyY.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.BdDMvFiu.js";import{I as C}from"../chunks/Icon.BUowIkwa.js";import{a as H,s as _,b as F,c as L}from"../chunks/collections.CVZoo1NH.js";import{g as R}from"../chunks/numerics.DOcq6E6e.js";function z(t){return{"ガ":"カ","ギ":"キ","グ":"ク","ゲ":"ケ","ゴ":"コ","ザ":"サ","ジ":"シ","ズ":"ス","ゼ":"セ","ゾ":"ソ","ダ":"タ","ヂ":"チ","ヅ":"ツ","デ":"テ","ド":"ト","バ":"ハ","ビ":"ヒ","ブ":"フ","ベ":"ヘ","ボ":"ホ","パ":"ハ","ピ":"ヒ","プ":"フ","ペ":"ヘ","ポ":"ホ","ァ":"ア","ィ":"イ","ゥ":"ウ","ェ":"エ","ォ":"オ","ャ":"ヤ","ュ":"ユ","ョ":"ヨ","ッ":"ツ"}[t]||t}function q(t){return z(t.slice(0,1))}function G(t){let e=t.slice(-1);return["ー","♀","♂","２","Ｚ"].includes(e)&&t.length>1&&(e=t.slice(-2,-1)),z(e)}const J=Object.freeze(Object.defineProperty({__proto__:null,load:async function({fetch:a}){await t(a,"load to cache");const l=await async function(){const l=Array.from({length:e},((t,e)=>s+e)),n={},r=l.map((async e=>{const s=await t(a,e.toString());return{pokeId:e,jaName:s.jaName,imageUrl:s.imageUrl??"not_found",isUsed:!1}}));return(await Promise.all(r)).forEach((t=>{n[t.pokeId]=t})),n}();var n;return{pokeDict:l,groupByHeadCharDict:(n=l,Object.entries(n).reduce(((t,[e,s])=>{const a=q(s.jaName);return t[a]||(t[a]=[]),t[a].push(Number(e)),t}),{}))}}},Symbol.toStringTag,{value:"Module"}));function K(t){let e,s,a;return s=new C({props:{icon:"mdi:image-off-outline",class:"w-8 h-8 bg-white"}}),{c(){e=l("div"),T(s.$$.fragment),this.h()},l(t){e=c(t,"DIV",{class:!0});var a=o(e);O(s.$$.fragment,a),a.forEach(f),this.h()},h(){u(e,"class","absolute inset-0 flex items-center justify-center h-full")},m(t,l){m(t,e,l),A(s,e,null),a=!0},p:p,i(t){a||(N(s.$$.fragment,t),a=!0)},o(t){k(s.$$.fragment,t),a=!1},d(t){t&&f(e),B(s)}}}function Q(t){let e,s,a,n,o,i,d,g,p=!t[2]&&W();return{c(){e=l("img"),n=r(),p&&p.c(),o=v(),this.h()},l(t){e=c(t,"IMG",{src:!0,alt:!0,class:!0}),n=h(t),p&&p.l(t),o=v(),this.h()},h(){$(e.src,s=t[1])||u(e,"src",s),u(e,"alt",a=t[0]??"???"),u(e,"class","w-full h-full object-cover"),y(e,"image",!t[2]),y(e,"loaded",t[2])},m(s,a){m(s,e,a),m(s,n,a),p&&p.m(s,a),m(s,o,a),i=!0,d||(g=b(e,"load",t[3]),d=!0)},p(t,l){(!i||2&l&&!$(e.src,s=t[1]))&&u(e,"src",s),(!i||1&l&&a!==(a=t[0]??"???"))&&u(e,"alt",a),(!i||4&l)&&y(e,"image",!t[2]),(!i||4&l)&&y(e,"loaded",t[2]),t[2]?p&&(S(),k(p,1,1,(()=>{p=null})),U()):p?4&l&&N(p,1):(p=W(),p.c(),N(p,1),p.m(o.parentNode,o))},i(t){i||(N(p),i=!0)},o(t){k(p),i=!1},d(t){t&&(f(e),f(n),f(o)),p&&p.d(t),d=!1,g()}}}function W(t){let e,s,a;return s=new C({props:{icon:"mdi:progress-download",class:"w-full h-full text-white bg-gray-100 object-cover"}}),{c(){e=l("div"),T(s.$$.fragment),this.h()},l(t){e=c(t,"DIV",{class:!0});var a=o(e);O(s.$$.fragment,a),a.forEach(f),this.h()},h(){u(e,"class","absolute inset-0 flex items-center justify-center h-full")},m(t,l){m(t,e,l),A(s,e,null),a=!0},i(t){a||(N(s.$$.fragment,t),a=!0)},o(t){k(s.$$.fragment,t),a=!1},d(t){t&&f(e),B(s)}}}function X(t){let e,s,a,p,v,$,y,b,I,x,E,D,j=(t[0]??"???")+"";const w=[Q,K],V=[];function T(t,e){return null!==t[1]?0:1}return x=T(t),E=V[x]=w[x](t),{c(){e=l("div"),s=l("div"),a=l("div"),p=l("h1"),v=l("div"),$=n(j),y=r(),b=l("div"),I=l("div"),E.c(),this.h()},l(t){e=c(t,"DIV",{class:!0});var l=o(e);s=c(l,"DIV",{class:!0});var n=o(s);a=c(n,"DIV",{class:!0});var r=o(a);p=c(r,"H1",{class:!0});var u=o(p);v=c(u,"DIV",{});var m=o(v);$=i(m,j),m.forEach(f),u.forEach(f),r.forEach(f),y=h(n),b=c(n,"DIV",{class:!0});var d=o(b);I=c(d,"DIV",{class:!0});var g=o(I);E.l(g),g.forEach(f),d.forEach(f),n.forEach(f),l.forEach(f),this.h()},h(){u(p,"class","text-xs font-bold text-gray-900"),u(a,"class","absolute inset-0 m-1 flex justify-center"),u(I,"class","flex items-center justify-center bg-white rounded-full border border-gray-200 h-[80px] w-[80px]"),u(b,"class","flex justify-center"),u(s,"class","relative p-2 bg-transparent"),u(e,"class","flex flex-col bg-gray-50 rounded-2xl shadow border h-[100px] w-[100px] overflow-hidden select-none")},m(t,l){m(t,e,l),d(e,s),d(s,a),d(a,p),d(p,v),d(v,$),d(s,y),d(s,b),d(b,I),V[x].m(I,null),D=!0},p(t,[e]){(!D||1&e)&&j!==(j=(t[0]??"???")+"")&&g($,j);let s=x;x=T(t),x===s?V[x].p(t,e):(S(),k(V[s],1,1,(()=>{V[s]=null})),U(),E=V[x],E?E.p(t,e):(E=V[x]=w[x](t),E.c()),N(E,1),E.m(I,null))},i(t){D||(N(E),D=!0)},o(t){k(E),D=!1},d(t){t&&f(e),V[x].d()}}}function Y(t,e,s){let{name:a=null}=e,{imageUrl:l=null}=e,n=!1;return t.$$set=t=>{"name"in t&&s(0,a=t.name),"imageUrl"in t&&s(1,l=t.imageUrl)},t.$$.update=()=>{2&t.$$.dirty&&l&&s(2,n=!1)},[a,l,n,function(){s(2,n=!0)}]}class Z extends w{constructor(t){super(),V(this,t,Y,X,a,{name:0,imageUrl:1})}}function tt(t,e,s){const a=t.slice();return a[6]=e[s],a}function et(t){let e,s,a,p,v,$,y,I,E,D,j,w,V,S,U,M=P(t[1]),H=[];for(let l=0;l<M.length;l+=1)H[l]=st(tt(t,M,l));return w=new C({props:{icon:"mdi:close",class:"w-5 h-5"}}),{c(){e=l("div"),s=l("div"),a=l("div"),p=l("div"),v=l("h2"),$=n(t[0]),y=r(),I=l("div"),E=l("ul");for(let t=0;t<H.length;t+=1)H[t].c();D=r(),j=l("button"),T(w.$$.fragment),this.h()},l(l){e=c(l,"DIV",{class:!0,"data-parent":!0});var n=o(e);s=c(n,"DIV",{class:!0});var r=o(s);a=c(r,"DIV",{class:!0});var u=o(a);p=c(u,"DIV",{class:!0});var m=o(p);v=c(m,"H2",{class:!0});var d=o(v);$=i(d,t[0]),d.forEach(f),y=h(m),I=c(m,"DIV",{class:!0});var g=o(I);E=c(g,"UL",{class:!0});var b=o(E);for(let t=0;t<H.length;t+=1)H[t].l(b);b.forEach(f),g.forEach(f),m.forEach(f),u.forEach(f),D=h(r),j=c(r,"BUTTON",{class:!0});var x=o(j);O(w.$$.fragment,x),x.forEach(f),r.forEach(f),n.forEach(f),this.h()},h(){u(v,"class","text-2xl font-bold"),u(E,"class","mt-4 list-decimal list-inside"),u(I,"class","overflow-y-auto flex-grow"),u(p,"class","p-4 flex flex-col h-full"),u(a,"class","h-full h-full bg-white"),u(j,"class","absolute top-1 right-6 z-10"),u(s,"class","relative"),u(e,"class",""),u(e,"data-parent",t[2])},m(l,n){m(l,e,n),d(e,s),d(s,a),d(a,p),d(p,v),d(v,$),d(p,y),d(p,I),d(I,E);for(let t=0;t<H.length;t+=1)H[t]&&H[t].m(E,null);d(s,D),d(s,j),A(w,j,null),V=!0,S||(U=b(j,"click",t[5]),S=!0)},p(t,s){if((!V||1&s)&&g($,t[0]),2&s){let e;for(M=P(t[1]),e=0;e<M.length;e+=1){const a=tt(t,M,e);H[e]?H[e].p(a,s):(H[e]=st(a),H[e].c(),H[e].m(E,null))}for(;e<H.length;e+=1)H[e].d(1);H.length=M.length}(!V||4&s)&&u(e,"data-parent",t[2])},i(t){V||(N(w.$$.fragment,t),V=!0)},o(t){k(w.$$.fragment,t),V=!1},d(t){t&&f(e),x(H,t),B(w),S=!1,U()}}}function st(t){let e,s,a=t[6]+"";return{c(){e=l("li"),s=n(a)},l(t){e=c(t,"LI",{});var l=o(e);s=i(l,a),l.forEach(f)},m(t,a){m(t,e,a),d(e,s)},p(t,e){2&e&&a!==(a=t[6]+"")&&g(s,a)},d(t){t&&f(e)}}}function at(t){let e,s,a=t[3][0]&&et(t);return{c(){a&&a.c(),e=v()},l(t){a&&a.l(t),e=v()},m(t,l){a&&a.m(t,l),m(t,e,l),s=!0},p(t,[s]){t[3][0]?a?(a.p(t,s),8&s&&N(a,1)):(a=et(t),a.c(),N(a,1),a.m(e.parentNode,e)):a&&(S(),k(a,1,1,(()=>{a=null})),U())},i(t){s||(N(a),s=!0)},o(t){k(a),s=!1},d(t){t&&f(e),a&&a.d(t)}}}function lt(t,e,s){let a,{title:l}=e,{stringArray:n=[]}=e,{parent:r}=e;const c=M();return I(t,c,(t=>s(3,a=t))),t.$$set=t=>{"title"in t&&s(0,l=t.title),"stringArray"in t&&s(1,n=t.stringArray),"parent"in t&&s(2,r=t.parent)},[l,n,r,a,c,function(){c.close()}]}class nt extends w{constructor(t){super(),V(this,t,lt,at,a,{title:0,stringArray:1,parent:2})}}function rt(t,e,s){const a=t.slice();return a[15]=e[s],a[17]=s,a}function ct(t,e,s){const a=t.slice();return a[15]=e[s],a}function ot(t){let e;return{c(){e=n("しりとり リセット")},l(t){e=i(t,"しりとり リセット")},m(t,s){m(t,e,s)},d(t){t&&f(e)}}}function it(t){let e;return{c(){e=n("しりとり スタート")},l(t){e=i(t,"しりとり スタート")},m(t,s){m(t,e,s)},d(t){t&&f(e)}}}function ft(t){let e;return{c(){e=l("div"),this.h()},l(t){e=c(t,"DIV",{class:!0}),o(e).forEach(f),this.h()},h(){u(e,"class",yt)},m(t,s){m(t,e,s)},p:p,i:p,o:p,d(t){t&&f(e)}}}function ht(t){let e,s,a,n,r;function i(){return t[8](t[15])}return s=new Z({props:{name:t[15].jaName,imageUrl:t[15].imageUrl}}),{c(){e=l("button"),T(s.$$.fragment),this.h()},l(t){e=c(t,"BUTTON",{type:!0});var a=o(e);O(s.$$.fragment,a),a.forEach(f),this.h()},h(){u(e,"type","button")},m(t,l){m(t,e,l),A(s,e,null),a=!0,n||(r=b(e,"click",i),n=!0)},p(e,a){t=e;const l={};2&a&&(l.name=t[15].jaName),2&a&&(l.imageUrl=t[15].imageUrl),s.$set(l)},i(t){a||(N(s.$$.fragment,t),a=!0)},o(t){k(s.$$.fragment,t),a=!1},d(t){t&&f(e),B(s),n=!1,r()}}}function ut(t){let e,s,a,n,i;const g=[ht,ft],p=[];function v(t,e){return t[15].isUsed?1:0}return s=v(t),a=p[s]=g[s](t),{c(){e=l("div"),a.c(),n=r(),this.h()},l(t){e=c(t,"DIV",{class:!0});var s=o(e);a.l(s),n=h(s),s.forEach(f),this.h()},h(){u(e,"class","rounded-2xl border-2")},m(t,a){m(t,e,a),p[s].m(e,null),d(e,n),i=!0},p(t,l){let r=s;s=v(t),s===r?p[s].p(t,l):(S(),k(p[r],1,1,(()=>{p[r]=null})),U(),a=p[s],a?a.p(t,l):(a=p[s]=g[s](t),a.c()),N(a,1),a.m(e,n))},i(t){i||(N(a),i=!0)},o(t){k(a),i=!1},d(t){t&&f(e),p[s].d()}}}function mt(t){let e;return{c(){e=l("div"),this.h()},l(t){e=c(t,"DIV",{class:!0}),o(e).forEach(f),this.h()},h(){u(e,"class",yt)},m(t,s){m(t,e,s)},p:p,i:p,o:p,d(t){t&&f(e)}}}function dt(t){let e,s;return e=new Z({props:{name:t[15].jaName,imageUrl:t[15].imageUrl}}),{c(){T(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,a){A(e,t,a),s=!0},p(t,s){const a={};1&s&&(a.name=t[15].jaName),1&s&&(a.imageUrl=t[15].imageUrl),e.$set(a)},i(t){s||(N(e.$$.fragment,t),s=!0)},o(t){k(e.$$.fragment,t),s=!1},d(t){B(e,t)}}}function gt(t){let e,s,a,n,i,d;const g=[dt,mt],p=[];function $(t,e){return t[15]?0:1}s=$(t),a=p[s]=g[s](t);let y=t[17]<2&&function(){let t;return{c(){t=l("span"),t.textContent="→"},l(e){t=c(e,"SPAN",{"data-svelte-h":!0}),"svelte-1xb5tc"!==E(t)&&(t.textContent="→")},m(e,s){m(e,t,s)},d(e){e&&f(t)}}}();return{c(){e=l("div"),a.c(),n=r(),y&&y.c(),i=v(),this.h()},l(t){e=c(t,"DIV",{class:!0});var s=o(e);a.l(s),s.forEach(f),n=h(t),y&&y.l(t),i=v(),this.h()},h(){u(e,"class","rounded-2xl border-2")},m(t,a){m(t,e,a),p[s].m(e,null),m(t,n,a),y&&y.m(t,a),m(t,i,a),d=!0},p(t,l){let n=s;s=$(t),s===n?p[s].p(t,l):(S(),k(p[n],1,1,(()=>{p[n]=null})),U(),a=p[s],a?a.p(t,l):(a=p[s]=g[s](t),a.c()),N(a,1),a.m(e,null))},i(t){d||(N(a),d=!0)},o(t){k(a),d=!1},d(t){t&&(f(e),f(n),f(i)),p[s].d(),y&&y.d(t)}}}function pt(t){let e,s,a,p,v,$,y,I,w,V,M,H,_,F,L,R,z,q,G,J,K,Q,W,X,Y,Z,tt,et,st,at,lt,nt,ft,ht,mt,dt,pt,bt,It,xt,Et,Dt,jt,wt,Vt,St,kt,Ut,Nt,Tt,Ot,At,Bt,Pt='<h1 class="cTitleStyle">ポケモンしりとり</h1>',Mt=t[0].length+"",Ct="ポケモン を いれかえる";function Ht(t,e){return 0===t[1].length?it:ot}let _t=Ht(t),Ft=_t(t);H=new C({props:{icon:"mdi:pokeball",class:"cIconStyle"}}),Q=new C({props:{icon:"mdi:format-list-numbered",class:"cIconStyle"}});let Lt=P(t[1]),Rt=[];for(let l=0;l<Lt.length;l+=1)Rt[l]=ut(ct(t,Lt,l));const zt=t=>k(Rt[t],1,1,(()=>{Rt[t]=null}));dt=new C({props:{icon:"mdi:pokeball",class:"cIconStyle"}});let qt=P(t[0].length>=2?t[0].slice(-2):[...Array(2-t[0].length).fill(null),...t[0]]),Gt=[];for(let l=0;l<qt.length;l+=1)Gt[l]=gt(rt(t,qt,l));const Jt=t=>k(Gt[t],1,1,(()=>{Gt[t]=null}));return{c(){e=l("div"),s=l("div"),s.innerHTML=Pt,a=r(),p=l("div"),v=l("div"),$=l("div"),y=l("span"),Ft.c(),I=r(),w=l("form"),V=l("button"),M=l("div"),T(H.$$.fragment),_=r(),F=l("div"),F.innerHTML="",L=r(),R=l("p"),z=n(Mt),q=r(),G=l("form"),J=l("button"),K=l("div"),T(Q.$$.fragment),W=r(),X=l("div"),X.innerHTML="",Y=r(),Z=l("div"),tt=l("div");for(let t=0;t<Rt.length;t+=1)Rt[t].c();et=r(),st=l("div"),at=l("div"),lt=l("span"),lt.textContent=Ct,nt=r(),ft=l("form"),ht=l("button"),mt=l("div"),T(dt.$$.fragment),It=r(),xt=l("div"),Et=l("div");for(let t=0;t<Gt.length;t+=1)Gt[t].c();Dt=r(),jt=l("div"),wt=l("div"),Vt=l("span"),Vt.textContent="？",St=r(),kt=l("div"),Ut=l("div"),Nt=l("span"),Tt=n(t[2]),this.h()},l(l){e=c(l,"DIV",{class:!0});var n=o(e);s=c(n,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-n7rgko"!==E(s)&&(s.innerHTML=Pt),a=h(n),p=c(n,"DIV",{class:!0});var r=o(p);v=c(r,"DIV",{class:!0});var u=o(v);$=c(u,"DIV",{class:!0});var m=o($);y=c(m,"SPAN",{class:!0});var d=o(y);Ft.l(d),d.forEach(f),I=h(m),w=c(m,"FORM",{});var g=o(w);V=c(g,"BUTTON",{type:!0,class:!0});var b=o(V);M=c(b,"DIV",{class:!0});var x=o(M);O(H.$$.fragment,x),x.forEach(f),b.forEach(f),g.forEach(f),_=h(m),F=c(m,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-1rtwic7"!==E(F)&&(F.innerHTML=""),L=h(m),R=c(m,"P",{class:!0});var D=o(R);z=i(D,Mt),D.forEach(f),q=h(m),G=c(m,"FORM",{});var j=o(G);J=c(j,"BUTTON",{type:!0,class:!0});var S=o(J);K=c(S,"DIV",{class:!0});var k=o(K);O(Q.$$.fragment,k),k.forEach(f),S.forEach(f),j.forEach(f),W=h(m),X=c(m,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-17db9va"!==E(X)&&(X.innerHTML=""),m.forEach(f),u.forEach(f),Y=h(r),Z=c(r,"DIV",{class:!0});var U=o(Z);tt=c(U,"DIV",{class:!0});var N=o(tt);for(let t=0;t<Rt.length;t+=1)Rt[t].l(N);N.forEach(f),U.forEach(f),et=h(r),st=c(r,"DIV",{class:!0});var T=o(st);at=c(T,"DIV",{class:!0});var A=o(at);lt=c(A,"SPAN",{class:!0,"data-svelte-h":!0}),"svelte-1jaekrh"!==E(lt)&&(lt.textContent=Ct),nt=h(A),ft=c(A,"FORM",{});var B=o(ft);ht=c(B,"BUTTON",{type:!0,class:!0});var P=o(ht);mt=c(P,"DIV",{class:!0});var C=o(mt);O(dt.$$.fragment,C),C.forEach(f),P.forEach(f),B.forEach(f),A.forEach(f),T.forEach(f),It=h(r),xt=c(r,"DIV",{class:!0});var rt=o(xt);Et=c(rt,"DIV",{class:!0});var ct=o(Et);for(let t=0;t<Gt.length;t+=1)Gt[t].l(ct);Dt=h(ct),jt=c(ct,"DIV",{class:!0});var ot=o(jt);wt=c(ot,"DIV",{class:!0});var it=o(wt);Vt=c(it,"SPAN",{class:!0,"data-svelte-h":!0}),"svelte-mds9k2"!==E(Vt)&&(Vt.textContent="？"),it.forEach(f),ot.forEach(f),ct.forEach(f),rt.forEach(f),St=h(r),kt=c(r,"DIV",{class:!0});var ut=o(kt);Ut=c(ut,"DIV",{class:!0});var gt=o(Ut);Nt=c(gt,"SPAN",{class:!0});var pt=o(Nt);Tt=i(pt,t[2]),pt.forEach(f),gt.forEach(f),ut.forEach(f),r.forEach(f),n.forEach(f),this.h()},h(){u(s,"class","cTitlePartStyle"),u(y,"class","cSpanTextStyle"),u(M,"class","cIconDivStyle"),u(V,"type","submit"),u(V,"class","cIconButtonStyle"),u(F,"class","flex-grow"),u(R,"class","cSpanTextStyle"),u(K,"class","cIconDivStyle"),u(J,"type","submit"),u(J,"class","cIconButtonStyle"),u(X,"class","mr-4"),u($,"class","cInputFormAndMessagePartStyle"),u(v,"class","m-4 space-y-2"),u(tt,"class",$t),u(Z,"class",vt),u(lt,"class","cSpanTextStyle"),u(mt,"class","cIconDivStyle"),u(ht,"type","submit"),ht.disabled=pt=0==t[0].length,u(ht,"class",bt="cIconButtonStyle "+(0==t[0].length?"!bg-gray-500":"")),u(at,"class","cInputFormAndMessagePartStyle"),u(st,"class","m-4"),u(Vt,"class","block text-center text-xl"),u(wt,"class",yt),u(jt,"class","rounded-2xl border-2"),u(Et,"class",$t+" md:ml-16 md:mr-16"),u(xt,"class",vt),u(Nt,"class","cSpanTextStyle"),u(Ut,"class","cInputFormAndMessagePartStyle mb-2"),u(kt,"class","m-4"),u(p,"class","cContentPartStyle !min-w-[300px] !max-w-[750px]"),u(e,"class","cRouteBodyStyle")},m(l,n){m(l,e,n),d(e,s),d(e,a),d(e,p),d(p,v),d(v,$),d($,y),Ft.m(y,null),d($,I),d($,w),d(w,V),d(V,M),A(H,M,null),d($,_),d($,F),d($,L),d($,R),d(R,z),d($,q),d($,G),d(G,J),d(J,K),A(Q,K,null),d($,W),d($,X),d(p,Y),d(p,Z),d(Z,tt);for(let t=0;t<Rt.length;t+=1)Rt[t]&&Rt[t].m(tt,null);d(p,et),d(p,st),d(st,at),d(at,lt),d(at,nt),d(at,ft),d(ft,ht),d(ht,mt),A(dt,mt,null),d(p,It),d(p,xt),d(xt,Et);for(let t=0;t<Gt.length;t+=1)Gt[t]&&Gt[t].m(Et,null);d(Et,Dt),d(Et,jt),d(jt,wt),d(wt,Vt),d(p,St),d(p,kt),d(kt,Ut),d(Ut,Nt),d(Nt,Tt),Ot=!0,At||(Bt=[b(w,"submit",D(t[5])),b(G,"submit",D(t[6])),b(ft,"submit",D(t[3]))],At=!0)},p(t,[e]){if(_t!==(_t=Ht(t))&&(Ft.d(1),Ft=_t(t),Ft&&(Ft.c(),Ft.m(y,null))),(!Ot||1&e)&&Mt!==(Mt=t[0].length+"")&&g(z,Mt),18&e){let s;for(Lt=P(t[1]),s=0;s<Lt.length;s+=1){const a=ct(t,Lt,s);Rt[s]?(Rt[s].p(a,e),N(Rt[s],1)):(Rt[s]=ut(a),Rt[s].c(),N(Rt[s],1),Rt[s].m(tt,null))}for(S(),s=Lt.length;s<Rt.length;s+=1)zt(s);U()}if((!Ot||1&e&&pt!==(pt=0==t[0].length))&&(ht.disabled=pt),(!Ot||1&e&&bt!==(bt="cIconButtonStyle "+(0==t[0].length?"!bg-gray-500":"")))&&u(ht,"class",bt),1&e){let s;for(qt=P(t[0].length>=2?t[0].slice(-2):[...Array(2-t[0].length).fill(null),...t[0]]),s=0;s<qt.length;s+=1){const a=rt(t,qt,s);Gt[s]?(Gt[s].p(a,e),N(Gt[s],1)):(Gt[s]=gt(a),Gt[s].c(),N(Gt[s],1),Gt[s].m(Et,Dt))}for(S(),s=qt.length;s<Gt.length;s+=1)Jt(s);U()}(!Ot||4&e)&&g(Tt,t[2])},i(t){if(!Ot){N(H.$$.fragment,t),N(Q.$$.fragment,t);for(let t=0;t<Lt.length;t+=1)N(Rt[t]);N(dt.$$.fragment,t);for(let t=0;t<qt.length;t+=1)N(Gt[t]);Ot=!0}},o(t){k(H.$$.fragment,t),k(Q.$$.fragment,t),Rt=Rt.filter(Boolean);for(let e=0;e<Rt.length;e+=1)k(Rt[e]);k(dt.$$.fragment,t),Gt=Gt.filter(Boolean);for(let e=0;e<Gt.length;e+=1)k(Gt[e]);Ot=!1},d(t){t&&f(e),Ft.d(),B(H),B(Q),x(Rt,t),B(dt),x(Gt,t),At=!1,j(Bt)}}}const vt="min-h-[150px] md:min-w-[750px] border bg-white rounded-xl",$t="flex flex-wrap justify-between gap-y-1 p-4",yt="h-[100px] w-[100px] bg-gray-100 rounded-2xl";function bt(t,e,s){let{data:a}=e,l=a.pokeDict;const n=a.groupByHeadCharDict;let r=[];function c(){0===f.length&&h();const t=G(f[f.length-1].jaName),e=(a=l,Object.fromEntries(Object.entries(a).filter((([,t])=>!t.isUsed))));var a;const c=function(t,e,s){const a=e[s]??[];return Object.fromEntries(a.filter((e=>e in t)).map((e=>[e,t[e]])))}(e,n,t),o=Object.keys(e).length>12?H(e,12):Object.values(e),i=Object.keys(c).length>4?H(c,4):Object.values(c);s(1,r=_([...new Set([...o,...i])]).slice(0,12))}function o(t){l[t].isUsed=!0,s(1,r=r.map((e=>e.pokeId===t?{...e,isUsed:!0}:e)))}let i,f=[];function h(){const t=F(l);o(t),s(0,f=[l[t]])}function u(t){if(0===f.length)return void s(2,i="ポケモン を よびだしてね");const e=f[f.length-1].jaName;!function(t,e){return G(t)===q(e)}(e,t.jaName)?s(2,i=`「${G(e??"")}」 から はじまる ポケモン を えらんでね`):(o(t.pokeId),s(0,f=[...f,t]))}function m(){const t=f.slice(-1)[0]??null;if(null===t)return void s(2,i="ポケモン を よびだしてね");const e=G(t.jaName);if("ン"!==e)if(1==f.length)s(2,i=`はじめは 「${G(e)}」`);else{const t=["そのちょうし！","いいぞ！","がんばれ！","すごい！","いけいけ！"];s(2,i=`${t[R(t.length)]} つぎは 「${G(e)}」`)}else s(2,i="ン で おわっちゃった...")}const d=M();return t.$$set=t=>{"data"in t&&s(7,a=t.data)},t.$$.update=()=>{1&t.$$.dirty&&f&&m()},[f,r,i,c,u,function(){var t;t=L(a.pokeDict,"pokeId"),l=Object.fromEntries(Object.entries(t).map((([t,e])=>[t,{...e,isUsed:!1}]))),s(0,f=[]),h(),c(),m()},function(){const t=function(t){return{type:"component",component:t,backdropClasses:"fixed inset-0 !bg-gray-300/90"}}({ref:nt,props:{title:"しりとりリスト",stringArray:f.map((t=>t.jaName))}});d.trigger(t)},a,t=>u(t)]}class It extends w{constructor(t){super(),V(this,t,bt,pt,a,{data:7})}}export{It as component,J as universal};
