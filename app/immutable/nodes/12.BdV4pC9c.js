import{a as t}from"../chunks/fetchStaticData.BdSBNYac.js";import{P as e,F as s}from"../chunks/common.D8PMWOc0.js";import{a as l,e as a,t as n,b as r,c,d as o,i,f,h,j as u,l as m,m as d,n as g,o as p,p as v,q as $,r as b,u as y,x as I,G as x,D as E,E as D,v as j}from"../chunks/scheduler.DlxO6Kfx.js";import{S as w,i as V,g as k,t as S,c as U,a as N,b as O,d as T,m as A,e as B}from"../chunks/index.DMIAoLi9.js";import{e as P}from"../chunks/each.D5UHESZ7.js";import{g as M}from"../chunks/stores.HjW22NHZ.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.BOVPViQ6.js";import{I as C}from"../chunks/Icon.B0NrHuK_.js";import{a as H}from"../chunks/generation.BvlEJdXb.js";import{g as _}from"../chunks/numerics.DOcq6E6e.js";import{b as L,s as F,c as R}from"../chunks/collections.4L4Gi_HF.js";function z(t){return{"ガ":"カ","ギ":"キ","グ":"ク","ゲ":"ケ","ゴ":"コ","ザ":"サ","ジ":"シ","ズ":"ス","ゼ":"セ","ゾ":"ソ","ダ":"タ","ヂ":"チ","ヅ":"ツ","デ":"テ","ド":"ト","バ":"ハ","ビ":"ヒ","ブ":"フ","ベ":"ヘ","ボ":"ホ","パ":"ハ","ピ":"ヒ","プ":"フ","ペ":"ヘ","ポ":"ホ","ァ":"ア","ィ":"イ","ゥ":"ウ","ェ":"エ","ォ":"オ","ャ":"ヤ","ュ":"ユ","ョ":"ヨ","ッ":"ツ"}[t]||t}function G(t){return z(t.slice(0,1))}function q(t){let e=t.slice(-1);return["ー","♀","♂","２","Ｚ"].includes(e)&&t.length>1&&(e=t.slice(-2,-1)),z(e)}const J=Object.freeze(Object.defineProperty({__proto__:null,load:async function({fetch:l}){await t(l,"load to cache");const a=await async function(){const a=Array.from({length:e},((t,e)=>s+e)),n={},r=a.map((async e=>{const s=await t(l,e.toString());return{pokeId:e,jaName:s.jaName,imageUrl:s.imageUrl??"not_found",isUsed:!1}}));return(await Promise.all(r)).forEach((t=>{n[t.pokeId]=t})),n}();var n;return{pokeDict:a,groupByHeadCharDict:(n=a,Object.entries(n).reduce(((t,[e,s])=>{const l=G(s.jaName);return t[l]||(t[l]=[]),t[l].push(Number(e)),t}),{}))}}},Symbol.toStringTag,{value:"Module"}));function K(t){let e,s,l;return s=new C({props:{icon:"mdi:image-off-outline",class:"w-8 h-8 bg-white"}}),{c(){e=a("div"),O(s.$$.fragment),this.h()},l(t){e=c(t,"DIV",{class:!0});var l=o(e);T(s.$$.fragment,l),l.forEach(f),this.h()},h(){u(e,"class","absolute inset-0 flex items-center justify-center h-full")},m(t,a){m(t,e,a),A(s,e,null),l=!0},p:p,i(t){l||(N(s.$$.fragment,t),l=!0)},o(t){S(s.$$.fragment,t),l=!1},d(t){t&&f(e),B(s)}}}function Q(t){let e,s,l,n,o,i,d,g,p=!t[2]&&W();return{c(){e=a("img"),n=r(),p&&p.c(),o=v(),this.h()},l(t){e=c(t,"IMG",{src:!0,alt:!0,class:!0}),n=h(t),p&&p.l(t),o=v(),this.h()},h(){$(e.src,s=t[1])||u(e,"src",s),u(e,"alt",l=t[0]??"???"),u(e,"class","w-full h-full object-cover"),b(e,"image",!t[2]),b(e,"loaded",t[2])},m(s,l){m(s,e,l),m(s,n,l),p&&p.m(s,l),m(s,o,l),i=!0,d||(g=y(e,"load",t[3]),d=!0)},p(t,a){(!i||2&a&&!$(e.src,s=t[1]))&&u(e,"src",s),(!i||1&a&&l!==(l=t[0]??"???"))&&u(e,"alt",l),(!i||4&a)&&b(e,"image",!t[2]),(!i||4&a)&&b(e,"loaded",t[2]),t[2]?p&&(k(),S(p,1,1,(()=>{p=null})),U()):p?4&a&&N(p,1):(p=W(),p.c(),N(p,1),p.m(o.parentNode,o))},i(t){i||(N(p),i=!0)},o(t){S(p),i=!1},d(t){t&&(f(e),f(n),f(o)),p&&p.d(t),d=!1,g()}}}function W(t){let e,s,l;return s=new C({props:{icon:"mdi:progress-download",class:"w-full h-full text-white bg-gray-100 object-cover"}}),{c(){e=a("div"),O(s.$$.fragment),this.h()},l(t){e=c(t,"DIV",{class:!0});var l=o(e);T(s.$$.fragment,l),l.forEach(f),this.h()},h(){u(e,"class","absolute inset-0 flex items-center justify-center h-full")},m(t,a){m(t,e,a),A(s,e,null),l=!0},i(t){l||(N(s.$$.fragment,t),l=!0)},o(t){S(s.$$.fragment,t),l=!1},d(t){t&&f(e),B(s)}}}function X(t){let e,s,l,p,v,$,b,y,I,x,E,D,j=(t[0]??"???")+"";const w=[Q,K],V=[];function O(t,e){return null!==t[1]?0:1}return x=O(t),E=V[x]=w[x](t),{c(){e=a("div"),s=a("div"),l=a("div"),p=a("h1"),v=a("div"),$=n(j),b=r(),y=a("div"),I=a("div"),E.c(),this.h()},l(t){e=c(t,"DIV",{class:!0});var a=o(e);s=c(a,"DIV",{class:!0});var n=o(s);l=c(n,"DIV",{class:!0});var r=o(l);p=c(r,"H1",{class:!0});var u=o(p);v=c(u,"DIV",{});var m=o(v);$=i(m,j),m.forEach(f),u.forEach(f),r.forEach(f),b=h(n),y=c(n,"DIV",{class:!0});var d=o(y);I=c(d,"DIV",{class:!0});var g=o(I);E.l(g),g.forEach(f),d.forEach(f),n.forEach(f),a.forEach(f),this.h()},h(){u(p,"class","text-xs font-bold text-gray-900"),u(l,"class","absolute inset-0 m-1 flex justify-center"),u(I,"class","flex items-center justify-center bg-white rounded-full border border-gray-200 h-[80px] w-[80px]"),u(y,"class","flex justify-center"),u(s,"class","relative p-2 bg-transparent"),u(e,"class","flex flex-col bg-gray-50 rounded-2xl shadow border h-[100px] w-[100px] overflow-hidden select-none")},m(t,a){m(t,e,a),d(e,s),d(s,l),d(l,p),d(p,v),d(v,$),d(s,b),d(s,y),d(y,I),V[x].m(I,null),D=!0},p(t,[e]){(!D||1&e)&&j!==(j=(t[0]??"???")+"")&&g($,j);let s=x;x=O(t),x===s?V[x].p(t,e):(k(),S(V[s],1,1,(()=>{V[s]=null})),U(),E=V[x],E?E.p(t,e):(E=V[x]=w[x](t),E.c()),N(E,1),E.m(I,null))},i(t){D||(N(E),D=!0)},o(t){S(E),D=!1},d(t){t&&f(e),V[x].d()}}}function Y(t,e,s){let{name:l=null}=e,{imageUrl:a=null}=e,n=!1;return t.$$set=t=>{"name"in t&&s(0,l=t.name),"imageUrl"in t&&s(1,a=t.imageUrl)},t.$$.update=()=>{2&t.$$.dirty&&a&&s(2,n=!1)},[l,a,n,function(){s(2,n=!0)}]}class Z extends w{constructor(t){super(),V(this,t,Y,X,l,{name:0,imageUrl:1})}}function tt(t,e,s){const l=t.slice();return l[6]=e[s],l}function et(t){let e,s,l,p,v,$,b,I,E,D,j,w,V,k,U,M=P(t[1]),H=[];for(let a=0;a<M.length;a+=1)H[a]=st(tt(t,M,a));return w=new C({props:{icon:"mdi:close",class:"w-5 h-5"}}),{c(){e=a("div"),s=a("div"),l=a("div"),p=a("div"),v=a("h2"),$=n(t[0]),b=r(),I=a("div"),E=a("ul");for(let t=0;t<H.length;t+=1)H[t].c();D=r(),j=a("button"),O(w.$$.fragment),this.h()},l(a){e=c(a,"DIV",{class:!0,"data-parent":!0});var n=o(e);s=c(n,"DIV",{class:!0});var r=o(s);l=c(r,"DIV",{class:!0});var u=o(l);p=c(u,"DIV",{class:!0});var m=o(p);v=c(m,"H2",{class:!0});var d=o(v);$=i(d,t[0]),d.forEach(f),b=h(m),I=c(m,"DIV",{class:!0});var g=o(I);E=c(g,"UL",{class:!0});var y=o(E);for(let t=0;t<H.length;t+=1)H[t].l(y);y.forEach(f),g.forEach(f),m.forEach(f),u.forEach(f),D=h(r),j=c(r,"BUTTON",{class:!0});var x=o(j);T(w.$$.fragment,x),x.forEach(f),r.forEach(f),n.forEach(f),this.h()},h(){u(v,"class","text-2xl font-bold"),u(E,"class","mt-4 list-decimal list-inside"),u(I,"class","overflow-y-auto flex-grow"),u(p,"class","p-4 flex flex-col h-full"),u(l,"class","h-full h-full bg-white"),u(j,"class","absolute top-1 right-6 z-10"),u(s,"class","relative"),u(e,"class",""),u(e,"data-parent",t[2])},m(a,n){m(a,e,n),d(e,s),d(s,l),d(l,p),d(p,v),d(v,$),d(p,b),d(p,I),d(I,E);for(let t=0;t<H.length;t+=1)H[t]&&H[t].m(E,null);d(s,D),d(s,j),A(w,j,null),V=!0,k||(U=y(j,"click",t[5]),k=!0)},p(t,s){if((!V||1&s)&&g($,t[0]),2&s){let e;for(M=P(t[1]),e=0;e<M.length;e+=1){const l=tt(t,M,e);H[e]?H[e].p(l,s):(H[e]=st(l),H[e].c(),H[e].m(E,null))}for(;e<H.length;e+=1)H[e].d(1);H.length=M.length}(!V||4&s)&&u(e,"data-parent",t[2])},i(t){V||(N(w.$$.fragment,t),V=!0)},o(t){S(w.$$.fragment,t),V=!1},d(t){t&&f(e),x(H,t),B(w),k=!1,U()}}}function st(t){let e,s,l=t[6]+"";return{c(){e=a("li"),s=n(l)},l(t){e=c(t,"LI",{});var a=o(e);s=i(a,l),a.forEach(f)},m(t,l){m(t,e,l),d(e,s)},p(t,e){2&e&&l!==(l=t[6]+"")&&g(s,l)},d(t){t&&f(e)}}}function lt(t){let e,s,l=t[3][0]&&et(t);return{c(){l&&l.c(),e=v()},l(t){l&&l.l(t),e=v()},m(t,a){l&&l.m(t,a),m(t,e,a),s=!0},p(t,[s]){t[3][0]?l?(l.p(t,s),8&s&&N(l,1)):(l=et(t),l.c(),N(l,1),l.m(e.parentNode,e)):l&&(k(),S(l,1,1,(()=>{l=null})),U())},i(t){s||(N(l),s=!0)},o(t){S(l),s=!1},d(t){t&&f(e),l&&l.d(t)}}}function at(t,e,s){let l,{title:a}=e,{stringArray:n=[]}=e,{parent:r}=e;const c=M();return I(t,c,(t=>s(3,l=t))),t.$$set=t=>{"title"in t&&s(0,a=t.title),"stringArray"in t&&s(1,n=t.stringArray),"parent"in t&&s(2,r=t.parent)},[a,n,r,l,c,function(){c.close()}]}class nt extends w{constructor(t){super(),V(this,t,at,lt,l,{title:0,stringArray:1,parent:2})}}function rt(t,e,s){const l=t.slice();return l[15]=e[s],l[17]=s,l}function ct(t,e,s){const l=t.slice();return l[15]=e[s],l}function ot(t){let e;return{c(){e=n("しりとり リセット")},l(t){e=i(t,"しりとり リセット")},m(t,s){m(t,e,s)},d(t){t&&f(e)}}}function it(t){let e;return{c(){e=n("しりとり スタート")},l(t){e=i(t,"しりとり スタート")},m(t,s){m(t,e,s)},d(t){t&&f(e)}}}function ft(t){let e;return{c(){e=a("div"),this.h()},l(t){e=c(t,"DIV",{class:!0}),o(e).forEach(f),this.h()},h(){u(e,"class",bt)},m(t,s){m(t,e,s)},p:p,i:p,o:p,d(t){t&&f(e)}}}function ht(t){let e,s,l,n,r;function i(){return t[8](t[15])}return s=new Z({props:{name:t[15].jaName,imageUrl:t[15].imageUrl}}),{c(){e=a("button"),O(s.$$.fragment),this.h()},l(t){e=c(t,"BUTTON",{type:!0});var l=o(e);T(s.$$.fragment,l),l.forEach(f),this.h()},h(){u(e,"type","button")},m(t,a){m(t,e,a),A(s,e,null),l=!0,n||(r=y(e,"click",i),n=!0)},p(e,l){t=e;const a={};2&l&&(a.name=t[15].jaName),2&l&&(a.imageUrl=t[15].imageUrl),s.$set(a)},i(t){l||(N(s.$$.fragment,t),l=!0)},o(t){S(s.$$.fragment,t),l=!1},d(t){t&&f(e),B(s),n=!1,r()}}}function ut(t){let e,s,l,n,i;const g=[ht,ft],p=[];function v(t,e){return t[15].isUsed?1:0}return s=v(t),l=p[s]=g[s](t),{c(){e=a("div"),l.c(),n=r(),this.h()},l(t){e=c(t,"DIV",{class:!0});var s=o(e);l.l(s),n=h(s),s.forEach(f),this.h()},h(){u(e,"class","rounded-2xl border-2")},m(t,l){m(t,e,l),p[s].m(e,null),d(e,n),i=!0},p(t,a){let r=s;s=v(t),s===r?p[s].p(t,a):(k(),S(p[r],1,1,(()=>{p[r]=null})),U(),l=p[s],l?l.p(t,a):(l=p[s]=g[s](t),l.c()),N(l,1),l.m(e,n))},i(t){i||(N(l),i=!0)},o(t){S(l),i=!1},d(t){t&&f(e),p[s].d()}}}function mt(t){let e;return{c(){e=a("div"),this.h()},l(t){e=c(t,"DIV",{class:!0}),o(e).forEach(f),this.h()},h(){u(e,"class",bt)},m(t,s){m(t,e,s)},p:p,i:p,o:p,d(t){t&&f(e)}}}function dt(t){let e,s;return e=new Z({props:{name:t[15].jaName,imageUrl:t[15].imageUrl}}),{c(){O(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){A(e,t,l),s=!0},p(t,s){const l={};1&s&&(l.name=t[15].jaName),1&s&&(l.imageUrl=t[15].imageUrl),e.$set(l)},i(t){s||(N(e.$$.fragment,t),s=!0)},o(t){S(e.$$.fragment,t),s=!1},d(t){B(e,t)}}}function gt(t){let e,s,l,n,i,d;const g=[dt,mt],p=[];function $(t,e){return t[15]?0:1}s=$(t),l=p[s]=g[s](t);let b=t[17]<2&&function(){let t;return{c(){t=a("span"),t.textContent="→"},l(e){t=c(e,"SPAN",{"data-svelte-h":!0}),"svelte-1xb5tc"!==E(t)&&(t.textContent="→")},m(e,s){m(e,t,s)},d(e){e&&f(t)}}}();return{c(){e=a("div"),l.c(),n=r(),b&&b.c(),i=v(),this.h()},l(t){e=c(t,"DIV",{class:!0});var s=o(e);l.l(s),s.forEach(f),n=h(t),b&&b.l(t),i=v(),this.h()},h(){u(e,"class","rounded-2xl border-2")},m(t,l){m(t,e,l),p[s].m(e,null),m(t,n,l),b&&b.m(t,l),m(t,i,l),d=!0},p(t,a){let n=s;s=$(t),s===n?p[s].p(t,a):(k(),S(p[n],1,1,(()=>{p[n]=null})),U(),l=p[s],l?l.p(t,a):(l=p[s]=g[s](t),l.c()),N(l,1),l.m(e,null))},i(t){d||(N(l),d=!0)},o(t){S(l),d=!1},d(t){t&&(f(e),f(n),f(i)),p[s].d(),b&&b.d(t)}}}function pt(t){let e,s,l,p,v,$,b,I,w,V,M,H,_,L,F,R,z,G,q,J,K,Q,W,X,Y,Z,tt,et,st,lt,at,nt,ft,ht,mt,dt,pt,yt,It,xt,Et,Dt,jt,wt,Vt,kt,St,Ut,Nt,Ot,Tt,At,Bt,Pt='<h1 class="cTitleStyle">ポケモンしりとり</h1>',Mt=t[0].length+"",Ct="ポケモン を いれかえる";function Ht(t,e){return 0===t[1].length?it:ot}let _t=Ht(t),Lt=_t(t);H=new C({props:{icon:"mdi:pokeball",class:"cIconStyle"}}),Q=new C({props:{icon:"mdi:format-list-numbered",class:"cIconStyle"}});let Ft=P(t[1]),Rt=[];for(let a=0;a<Ft.length;a+=1)Rt[a]=ut(ct(t,Ft,a));const zt=t=>S(Rt[t],1,1,(()=>{Rt[t]=null}));dt=new C({props:{icon:"mdi:pokeball",class:"cIconStyle"}});let Gt=P(t[0].length>=2?t[0].slice(-2):[...Array(2-t[0].length).fill(null),...t[0]]),qt=[];for(let a=0;a<Gt.length;a+=1)qt[a]=gt(rt(t,Gt,a));const Jt=t=>S(qt[t],1,1,(()=>{qt[t]=null}));return{c(){e=a("div"),s=a("div"),s.innerHTML=Pt,l=r(),p=a("div"),v=a("div"),$=a("div"),b=a("span"),Lt.c(),I=r(),w=a("form"),V=a("button"),M=a("div"),O(H.$$.fragment),_=r(),L=a("div"),L.innerHTML="",F=r(),R=a("p"),z=n(Mt),G=r(),q=a("form"),J=a("button"),K=a("div"),O(Q.$$.fragment),W=r(),X=a("div"),X.innerHTML="",Y=r(),Z=a("div"),tt=a("div");for(let t=0;t<Rt.length;t+=1)Rt[t].c();et=r(),st=a("div"),lt=a("div"),at=a("span"),at.textContent=Ct,nt=r(),ft=a("form"),ht=a("button"),mt=a("div"),O(dt.$$.fragment),It=r(),xt=a("div"),Et=a("div");for(let t=0;t<qt.length;t+=1)qt[t].c();Dt=r(),jt=a("div"),wt=a("div"),Vt=a("span"),Vt.textContent="？",kt=r(),St=a("div"),Ut=a("div"),Nt=a("span"),Ot=n(t[2]),this.h()},l(a){e=c(a,"DIV",{class:!0});var n=o(e);s=c(n,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-n7rgko"!==E(s)&&(s.innerHTML=Pt),l=h(n),p=c(n,"DIV",{class:!0});var r=o(p);v=c(r,"DIV",{class:!0});var u=o(v);$=c(u,"DIV",{class:!0});var m=o($);b=c(m,"SPAN",{class:!0});var d=o(b);Lt.l(d),d.forEach(f),I=h(m),w=c(m,"FORM",{});var g=o(w);V=c(g,"BUTTON",{type:!0,class:!0});var y=o(V);M=c(y,"DIV",{class:!0});var x=o(M);T(H.$$.fragment,x),x.forEach(f),y.forEach(f),g.forEach(f),_=h(m),L=c(m,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-1rtwic7"!==E(L)&&(L.innerHTML=""),F=h(m),R=c(m,"P",{class:!0});var D=o(R);z=i(D,Mt),D.forEach(f),G=h(m),q=c(m,"FORM",{});var j=o(q);J=c(j,"BUTTON",{type:!0,class:!0});var k=o(J);K=c(k,"DIV",{class:!0});var S=o(K);T(Q.$$.fragment,S),S.forEach(f),k.forEach(f),j.forEach(f),W=h(m),X=c(m,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-17db9va"!==E(X)&&(X.innerHTML=""),m.forEach(f),u.forEach(f),Y=h(r),Z=c(r,"DIV",{class:!0});var U=o(Z);tt=c(U,"DIV",{class:!0});var N=o(tt);for(let t=0;t<Rt.length;t+=1)Rt[t].l(N);N.forEach(f),U.forEach(f),et=h(r),st=c(r,"DIV",{class:!0});var O=o(st);lt=c(O,"DIV",{class:!0});var A=o(lt);at=c(A,"SPAN",{class:!0,"data-svelte-h":!0}),"svelte-1ysiuuh"!==E(at)&&(at.textContent=Ct),nt=h(A),ft=c(A,"FORM",{});var B=o(ft);ht=c(B,"BUTTON",{type:!0,class:!0});var P=o(ht);mt=c(P,"DIV",{class:!0});var C=o(mt);T(dt.$$.fragment,C),C.forEach(f),P.forEach(f),B.forEach(f),A.forEach(f),O.forEach(f),It=h(r),xt=c(r,"DIV",{class:!0});var rt=o(xt);Et=c(rt,"DIV",{class:!0});var ct=o(Et);for(let t=0;t<qt.length;t+=1)qt[t].l(ct);Dt=h(ct),jt=c(ct,"DIV",{class:!0});var ot=o(jt);wt=c(ot,"DIV",{class:!0});var it=o(wt);Vt=c(it,"SPAN",{class:!0,"data-svelte-h":!0}),"svelte-mds9k2"!==E(Vt)&&(Vt.textContent="？"),it.forEach(f),ot.forEach(f),ct.forEach(f),rt.forEach(f),kt=h(r),St=c(r,"DIV",{class:!0});var ut=o(St);Ut=c(ut,"DIV",{class:!0});var gt=o(Ut);Nt=c(gt,"SPAN",{class:!0});var pt=o(Nt);Ot=i(pt,t[2]),pt.forEach(f),gt.forEach(f),ut.forEach(f),r.forEach(f),n.forEach(f),this.h()},h(){u(s,"class","cTitlePartStyle"),u(b,"class","text-lg"),u(M,"class","cIconDivStyle"),u(V,"type","submit"),u(V,"class","cIconButtonStyle"),u(L,"class","flex-grow"),u(R,"class","text-lg"),u(K,"class","cIconDivStyle"),u(J,"type","submit"),u(J,"class","cIconButtonStyle"),u(X,"class","mr-4"),u($,"class","cInputFormAndMessagePartStyle"),u(v,"class","m-4 space-y-2"),u(tt,"class",$t),u(Z,"class",vt),u(at,"class","text-lg"),u(mt,"class","cIconDivStyle"),u(ht,"type","submit"),ht.disabled=pt=0==t[0].length,u(ht,"class",yt="cIconButtonStyle "+(0==t[0].length?"!bg-gray-500":"")),u(lt,"class","cInputFormAndMessagePartStyle"),u(st,"class","m-4"),u(Vt,"class","block text-center text-xl"),u(wt,"class",bt),u(jt,"class","rounded-2xl border-2"),u(Et,"class",$t+" md:ml-16 md:mr-16"),u(xt,"class",vt),u(Nt,"class","text-lg"),u(Ut,"class","cInputFormAndMessagePartStyle mb-2"),u(St,"class","m-4"),u(p,"class","cContentPartStyle !min-w-[300px] !max-w-[750px]"),u(e,"class","cRouteBodyStyle")},m(a,n){m(a,e,n),d(e,s),d(e,l),d(e,p),d(p,v),d(v,$),d($,b),Lt.m(b,null),d($,I),d($,w),d(w,V),d(V,M),A(H,M,null),d($,_),d($,L),d($,F),d($,R),d(R,z),d($,G),d($,q),d(q,J),d(J,K),A(Q,K,null),d($,W),d($,X),d(p,Y),d(p,Z),d(Z,tt);for(let t=0;t<Rt.length;t+=1)Rt[t]&&Rt[t].m(tt,null);d(p,et),d(p,st),d(st,lt),d(lt,at),d(lt,nt),d(lt,ft),d(ft,ht),d(ht,mt),A(dt,mt,null),d(p,It),d(p,xt),d(xt,Et);for(let t=0;t<qt.length;t+=1)qt[t]&&qt[t].m(Et,null);d(Et,Dt),d(Et,jt),d(jt,wt),d(wt,Vt),d(p,kt),d(p,St),d(St,Ut),d(Ut,Nt),d(Nt,Ot),Tt=!0,At||(Bt=[y(w,"submit",D(t[5])),y(q,"submit",D(t[6])),y(ft,"submit",D(t[3]))],At=!0)},p(t,[e]){if(_t!==(_t=Ht(t))&&(Lt.d(1),Lt=_t(t),Lt&&(Lt.c(),Lt.m(b,null))),(!Tt||1&e)&&Mt!==(Mt=t[0].length+"")&&g(z,Mt),18&e){let s;for(Ft=P(t[1]),s=0;s<Ft.length;s+=1){const l=ct(t,Ft,s);Rt[s]?(Rt[s].p(l,e),N(Rt[s],1)):(Rt[s]=ut(l),Rt[s].c(),N(Rt[s],1),Rt[s].m(tt,null))}for(k(),s=Ft.length;s<Rt.length;s+=1)zt(s);U()}if((!Tt||1&e&&pt!==(pt=0==t[0].length))&&(ht.disabled=pt),(!Tt||1&e&&yt!==(yt="cIconButtonStyle "+(0==t[0].length?"!bg-gray-500":"")))&&u(ht,"class",yt),1&e){let s;for(Gt=P(t[0].length>=2?t[0].slice(-2):[...Array(2-t[0].length).fill(null),...t[0]]),s=0;s<Gt.length;s+=1){const l=rt(t,Gt,s);qt[s]?(qt[s].p(l,e),N(qt[s],1)):(qt[s]=gt(l),qt[s].c(),N(qt[s],1),qt[s].m(Et,Dt))}for(k(),s=Gt.length;s<qt.length;s+=1)Jt(s);U()}(!Tt||4&e)&&g(Ot,t[2])},i(t){if(!Tt){N(H.$$.fragment,t),N(Q.$$.fragment,t);for(let t=0;t<Ft.length;t+=1)N(Rt[t]);N(dt.$$.fragment,t);for(let t=0;t<Gt.length;t+=1)N(qt[t]);Tt=!0}},o(t){S(H.$$.fragment,t),S(Q.$$.fragment,t),Rt=Rt.filter(Boolean);for(let e=0;e<Rt.length;e+=1)S(Rt[e]);S(dt.$$.fragment,t),qt=qt.filter(Boolean);for(let e=0;e<qt.length;e+=1)S(qt[e]);Tt=!1},d(t){t&&f(e),Lt.d(),B(H),B(Q),x(Rt,t),B(dt),x(qt,t),At=!1,j(Bt)}}}const vt="min-h-[150px] md:min-w-[750px] border bg-white rounded-xl",$t="flex flex-wrap justify-between gap-y-1 p-4",bt="h-[100px] w-[100px] bg-gray-100 rounded-2xl";function yt(t,e,s){let{data:l}=e,a=l.pokeDict;const n=l.groupByHeadCharDict;let r=[];function c(){0===f.length&&h();const t=q(f[f.length-1].jaName),e=(l=a,Object.fromEntries(Object.entries(l).filter((([,t])=>!t.isUsed))));var l;const c=function(t,e,s){const l=e[s]??[];return Object.fromEntries(l.filter((e=>e in t)).map((e=>[e,t[e]])))}(e,n,t),o=Object.keys(e).length>12?L(e,12):Object.values(e),i=Object.keys(c).length>4?L(c,4):Object.values(c);s(1,r=F([...new Set([...o,...i])]).slice(0,12))}function o(t){a[t].isUsed=!0,s(1,r=r.map((e=>e.pokeId===t?{...e,isUsed:!0}:e)))}let i,f=[];function h(){const t=R(a);o(t),s(0,f=[a[t]])}function u(t){if(0===f.length)return void s(2,i="ポケモン を よびだしてね");const e=f[f.length-1].jaName;!function(t,e){return q(t)===G(e)}(e,t.jaName)?s(2,i=`「${q(e??"")}」 から はじまる ポケモン を えらんでね`):(o(t.pokeId),s(0,f=[...f,t]))}function m(){const t=f.slice(-1)[0]??null;if(null===t)return void s(2,i="ポケモン を よびだしてね");const e=q(t.jaName);if("ン"!==e)if(1==f.length)s(2,i=`はじめは 「${q(e)}」`);else{const t=["そのちょうし！","いいぞ！","がんばれ！","すごい！","いけいけ！"];s(2,i=`${t[_(t.length)]} つぎは 「${q(e)}」`)}else s(2,i="ン で おわっちゃった...")}const d=M();return t.$$set=t=>{"data"in t&&s(7,l=t.data)},t.$$.update=()=>{1&t.$$.dirty&&f&&m()},[f,r,i,c,u,function(){var t;t=H(l.pokeDict,"pokeId"),a=Object.fromEntries(Object.entries(t).map((([t,e])=>[t,{...e,isUsed:!1}]))),s(0,f=[]),h(),c(),m()},function(){const t=function(t){return{type:"component",component:t,backdropClasses:"fixed inset-0 !bg-gray-300/90"}}({ref:nt,props:{title:"しりとりリスト",stringArray:f.map((t=>t.jaName))}});d.trigger(t)},l,t=>u(t)]}class It extends w{constructor(t){super(),V(this,t,yt,pt,l,{data:7})}}export{It as component,J as universal};
