import{m as a,c as t,g as e}from"../chunks/makePokeData.client.D3FjI94t.js";import{c as s,T as n}from"../chunks/type.DlO2-6e_.js";import{P as o,F as c,A as l,a as i}from"../chunks/common.CkzKN_UB.js";import{a as r,e as f,b as u,c as d,d as m,D as h,h as p,f as y,j as g,l as b,m as v,G as w,t as k,i as S,P as I,u as $,E as j,n as x,v as D}from"../chunks/scheduler.DlxO6Kfx.js";import{S as P,i as E,a as N,c as T,t as B,b as F,d as O,m as R,e as V,g as C}from"../chunks/index.DMIAoLi9.js";import{e as J}from"../chunks/each.D5UHESZ7.js";import{I as U}from"../chunks/Icon.B0NrHuK_.js";async function A(e,s){const n={},o=s.map((async s=>{try{const o=await a(e,s.toString()),c=t(o);n[s.toString()]=c}catch(o){console.error(`Failed to fetch data for pokeId ${s}:`,o)}}));return await Promise.all(o),n}async function L(a,t){const n={},o=t.map((async t=>{const o=await e(a,t.toString()),c=s(o);n[t]=c}));return await Promise.all(o),n}const M=Object.freeze(Object.defineProperty({__proto__:null,load:async function(){function a(a,t){return Array.from({length:t},((t,e)=>a+e))}return{downloadConfigs:[{id:"dlPokeJson",fileName:"staticPokeDict.json",label:"全ポケモン(通常) Json",makeFunction:A,keys:a(c,o)},{id:"dlAddPokeJson",fileName:"staticAddPokeDict.json",label:"全ポケモン(別ver) Json",makeFunction:A,keys:a(i,l)},{id:"dlTypeJson",fileName:"staticTypeDict.json",label:"全タイプJson",makeFunction:L,keys:Object.values(n)}]}}},Symbol.toStringTag,{value:"Module"}));function z(a,t){const e=URL.createObjectURL(a),s=document.createElement("a");s.href=e,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(e)}async function _(a,t,e){const s=await async function(a,t){const e=new Blob([a],{type:t}).stream().pipeThrough(new CompressionStream("gzip"));return await new Response(e).blob()}(a,e);z(s,t+".gz")}async function H(a,t,e){try{e?await _(a,t,"application/json"):function(a,t,e){z(new Blob([a],{type:e}),t)}(a,t,"application/json")}catch(s){throw console.error(`failed to download ${t}:`,s),s}}function q(a,t,e){const s=a.slice();return s[6]=t[e],s[7]=t,s[8]=e,s}function G(a){let t,e,s,n,o,c,l,i,r,h,w,P,E,T,C,J,A,L,M,z,_,H,q,G,K=a[6].label+"";function Q(){a[3].call(n,a[7],a[8])}function W(){return a[4](a[6])}function X(){return a[5](a[6])}return h=new U({props:{icon:"mdi:download-box-outline",class:"cIconStyle"}}),J=new U({props:{icon:"mdi:zip-box-outline",class:"cIconStyle"}}),{c(){t=f("div"),e=f("div"),s=f("div"),n=f("input"),c=u(),l=f("form"),i=f("button"),r=f("div"),F(h.$$.fragment),P=u(),E=f("form"),T=f("button"),C=f("div"),F(J.$$.fragment),L=u(),M=f("span"),z=k(K),_=u(),this.h()},l(a){t=d(a,"DIV",{class:!0});var o=m(t);e=d(o,"DIV",{class:!0});var f=m(e);s=d(f,"DIV",{class:!0});var u=m(s);n=d(u,"INPUT",{type:!0,id:!0,class:!0}),c=p(u),l=d(u,"FORM",{});var g=m(l);i=d(g,"BUTTON",{type:!0,class:!0});var b=m(i);r=d(b,"DIV",{class:!0});var v=m(r);O(h.$$.fragment,v),v.forEach(y),b.forEach(y),g.forEach(y),P=p(u),E=d(u,"FORM",{});var w=m(E);T=d(w,"BUTTON",{type:!0,class:!0});var k=m(T);C=d(k,"DIV",{class:!0});var I=m(C);O(J.$$.fragment,I),I.forEach(y),k.forEach(y),w.forEach(y),L=p(u),M=d(u,"SPAN",{class:!0});var $=m(M);z=S($,K),$.forEach(y),u.forEach(y),f.forEach(y),_=p(o),o.forEach(y),this.h()},h(){g(n,"type","text"),g(n,"id",o=a[6].id),g(n,"class","border rounded px-4 py-1 h-full"),g(r,"class","cIconDivStyle"),g(i,"type","submit"),i.disabled=a[1],g(i,"class",w="cIconButtonStyle "+(a[1]?"!bg-gray-500":"")),g(C,"class","cIconDivStyle"),g(T,"type","submit"),T.disabled=a[1],g(T,"class",A="cIconButtonStyle "+(a[1]?"!bg-gray-500":"")),g(M,"class","text-lg"),g(s,"class","cInputFormAndMessagePartStyle"),g(e,"class","flex flex-col md:flex-row space-x-3"),g(t,"class","m-4")},m(o,f){b(o,t,f),v(t,e),v(e,s),v(s,n),I(n,a[6].fileName),v(s,c),v(s,l),v(l,i),v(i,r),R(h,r,null),v(s,P),v(s,E),v(E,T),v(T,C),R(J,C,null),v(s,L),v(s,M),v(M,z),v(t,_),H=!0,q||(G=[$(n,"input",Q),$(l,"submit",j(W)),$(E,"submit",j(X))],q=!0)},p(t,e){a=t,(!H||1&e&&o!==(o=a[6].id))&&g(n,"id",o),1&e&&n.value!==a[6].fileName&&I(n,a[6].fileName),(!H||2&e)&&(i.disabled=a[1]),(!H||2&e&&w!==(w="cIconButtonStyle "+(a[1]?"!bg-gray-500":"")))&&g(i,"class",w),(!H||2&e)&&(T.disabled=a[1]),(!H||2&e&&A!==(A="cIconButtonStyle "+(a[1]?"!bg-gray-500":"")))&&g(T,"class",A),(!H||1&e)&&K!==(K=a[6].label+"")&&x(z,K)},i(a){H||(N(h.$$.fragment,a),N(J.$$.fragment,a),H=!0)},o(a){B(h.$$.fragment,a),B(J.$$.fragment,a),H=!1},d(a){a&&y(t),V(h),V(J),q=!1,D(G)}}}function K(a){let t,e,s,n,o,c='<h1 class="cTitleStyle">うらわざ</h1>',l=J(a[0].downloadConfigs),i=[];for(let f=0;f<l.length;f+=1)i[f]=G(q(a,l,f));const r=a=>B(i[a],1,1,(()=>{i[a]=null}));return{c(){t=f("div"),e=f("div"),e.innerHTML=c,s=u(),n=f("div");for(let a=0;a<i.length;a+=1)i[a].c();this.h()},l(a){t=d(a,"DIV",{class:!0});var o=m(t);e=d(o,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-19ephz6"!==h(e)&&(e.innerHTML=c),s=p(o),n=d(o,"DIV",{class:!0});var l=m(n);for(let t=0;t<i.length;t+=1)i[t].l(l);l.forEach(y),o.forEach(y),this.h()},h(){g(e,"class","cTitlePartStyle"),g(n,"class","cContentPartStyle !min-w-[300px] !max-w-[600px]"),g(t,"class","cRouteBodyStyle")},m(a,c){b(a,t,c),v(t,e),v(t,s),v(t,n);for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(n,null);o=!0},p(a,[t]){if(7&t){let e;for(l=J(a[0].downloadConfigs),e=0;e<l.length;e+=1){const s=q(a,l,e);i[e]?(i[e].p(s,t),N(i[e],1)):(i[e]=G(s),i[e].c(),N(i[e],1),i[e].m(n,null))}for(C(),e=l.length;e<i.length;e+=1)r(e);T()}},i(a){if(!o){for(let a=0;a<l.length;a+=1)N(i[a]);o=!0}},o(a){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)B(i[t]);o=!1},d(a){a&&y(t),w(i,a)}}}function Q(a,t,e){let{data:s}=t,n=!1;async function o(a,t,s,o){e(1,n=!0);const c=await a(window.fetch,t),l=JSON.stringify(c,null,2);await H(l,s,o),e(1,n=!1)}return a.$$set=a=>{"data"in a&&e(0,s=a.data)},[s,n,o,function(a,t){a[t].fileName=this.value,e(0,s)},a=>o(a.makeFunction,a.keys,a.fileName,!1),a=>o(a.makeFunction,a.keys,a.fileName,!0)]}class W extends P{constructor(a){super(),E(this,a,Q,K,r,{data:0})}}export{W as component,M as universal};
