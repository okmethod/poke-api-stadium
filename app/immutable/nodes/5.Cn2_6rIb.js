import{a as Qe,p as De,l as q,f as d,w as Mt,e as m,b as $,c as p,d as v,h as M,q as Ot,j as c,m as i,u as ie,x as de,t as ae,i as re,z as Ke,n as we,y as Ge,v as Pt,k as G,o as Re}from"../chunks/scheduler.CjbLQ75Z.js";import{S as We,i as Xe,a as D,g as Ve,t as j,c as je,b as me,d as pe,m as he,e as _e}from"../chunks/index.C8jGW1p8.js";import{e as Se}from"../chunks/each.BfLvJT1H.js";import{g as Ye}from"../chunks/stores.B_vpffdz.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.fMS2XfBz.js";import{I as Te}from"../chunks/Icon.D9OMTyLg.js";import{P as Vt}from"../chunks/PokeTile.CppIvCoi.js";import{b as Bt,f as vt}from"../chunks/fetchStaticData.NawkhTRY.js";import{g as bt}from"../chunks/numerics.BpAOxbdF.js";import{p as Ft}from"../chunks/collections.CVaw1mrQ.js";import{P as Ut,a as Rt}from"../chunks/common.D9Ih3TqP.js";function kt(n){let t,l,e,o,r,s,a,f,b,A;return a=new Te({props:{icon:"mdi:close",class:"w-5 h-5"}}),{c(){t=m("div"),l=m("div"),e=m("img"),r=$(),s=m("button"),me(a.$$.fragment),this.h()},l(h){t=p(h,"DIV",{class:!0,"data-parent":!0});var _=v(t);l=p(_,"DIV",{class:!0});var g=v(l);e=p(g,"IMG",{src:!0,alt:!0,class:!0}),r=M(g),s=p(g,"BUTTON",{class:!0});var N=v(s);pe(a.$$.fragment,N),N.forEach(d),g.forEach(d),_.forEach(d),this.h()},h(){Ot(e.src,o=Lt)||c(e,"src",o),c(e,"alt","type_relations"),c(e,"class","w-96 h-96 object-contain"),c(s,"class","absolute top-1 right-6 z-10"),c(l,"class","relative"),c(t,"class",""),c(t,"data-parent",n[0])},m(h,_){q(h,t,_),i(t,l),i(l,e),i(l,r),i(l,s),he(a,s,null),f=!0,b||(A=ie(s,"click",n[3]),b=!0)},p(h,_){(!f||_&1)&&c(t,"data-parent",h[0])},i(h){f||(D(a.$$.fragment,h),f=!0)},o(h){j(a.$$.fragment,h),f=!1},d(h){h&&d(t),_e(a),b=!1,A()}}}function Ht(n){let t,l,e=n[1][0]&&kt(n);return{c(){e&&e.c(),t=De()},l(o){e&&e.l(o),t=De()},m(o,r){e&&e.m(o,r),q(o,t,r),l=!0},p(o,[r]){o[1][0]?e?(e.p(o,r),r&2&&D(e,1)):(e=kt(o),e.c(),D(e,1),e.m(t.parentNode,t)):e&&(Ve(),j(e,1,1,()=>{e=null}),je())},i(o){l||(D(e),l=!0)},o(o){j(e),l=!1},d(o){o&&d(t),e&&e.d(o)}}}const Lt="https://www.pokemon.co.jp/ex/sun_moon/common/images/fight/161215_01/img_01.png";function qt(n,t,l){let e,{parent:o}=t;const r=Ye();Mt(n,r,a=>l(1,e=a));function s(){r.close()}return n.$$set=a=>{"parent"in a&&l(0,o=a.parent)},[o,e,r,s]}class zt extends We{constructor(t){super(),Xe(this,t,qt,Ht,Qe,{parent:0})}}function yt(n){let t,l,e,o=`<div class="p-4"><h2 class="text-2xl font-bold">ルール</h2> <p class="mt-4">まず ポケモン を 1たい えらぶ。
            <br/>
            つぎに タイプ を どちらか 1つ えらぶ。
            <br/>
            すばやさ が たかい ほうが こうげきする。</p> <ul class="mt-4 list-disc list-inside"><li>ばつぐん なら かち。</li> <li>いまひとつ か こうかなし なら まけ。</li> <li>どちらでもない なら あいこ。</li></ul></div>`,r,s,a,f,b,A;return a=new Te({props:{icon:"mdi:close",class:"w-5 h-5"}}),{c(){t=m("div"),l=m("div"),e=m("div"),e.innerHTML=o,r=$(),s=m("button"),me(a.$$.fragment),this.h()},l(h){t=p(h,"DIV",{class:!0,"data-parent":!0});var _=v(t);l=p(_,"DIV",{class:!0});var g=v(l);e=p(g,"DIV",{class:!0,"data-svelte-h":!0}),de(e)!=="svelte-mlq9ej"&&(e.innerHTML=o),r=M(g),s=p(g,"BUTTON",{class:!0});var N=v(s);pe(a.$$.fragment,N),N.forEach(d),g.forEach(d),_.forEach(d),this.h()},h(){c(e,"class","w-full h-full bg-white"),c(s,"class","absolute top-1 right-6 z-10"),c(l,"class","relative"),c(t,"class",""),c(t,"data-parent",n[0])},m(h,_){q(h,t,_),i(t,l),i(l,e),i(l,r),i(l,s),he(a,s,null),f=!0,b||(A=ie(s,"click",n[3]),b=!0)},p(h,_){(!f||_&1)&&c(t,"data-parent",h[0])},i(h){f||(D(a.$$.fragment,h),f=!0)},o(h){j(a.$$.fragment,h),f=!1},d(h){h&&d(t),_e(a),b=!1,A()}}}function Kt(n){let t,l,e=n[1][0]&&yt(n);return{c(){e&&e.c(),t=De()},l(o){e&&e.l(o),t=De()},m(o,r){e&&e.m(o,r),q(o,t,r),l=!0},p(o,[r]){o[1][0]?e?(e.p(o,r),r&2&&D(e,1)):(e=yt(o),e.c(),D(e,1),e.m(t.parentNode,t)):e&&(Ve(),j(e,1,1,()=>{e=null}),je())},i(o){l||(D(e),l=!0)},o(o){j(e),l=!1},d(o){o&&d(t),e&&e.d(o)}}}function Gt(n,t,l){let e,{parent:o}=t;const r=Ye();Mt(n,r,a=>l(1,e=a));function s(){r.close()}return n.$$set=a=>{"parent"in a&&l(0,o=a.parent)},[o,e,r,s]}class Jt extends We{constructor(t){super(),Xe(this,t,Gt,Kt,Qe,{parent:0})}}function Nt(n,t,l){const e=n.slice();return e[25]=t[l],e}function It(n,t,l){const e=n.slice();return e[28]=t[l],e[30]=l,e}function Et(n,t,l){const e=n.slice();return e[28]=t[l],e[30]=l,e}function wt(n){let t,l,e,o,r;return l=new Vt({props:{pokeId:n[28].pokeId,name:n[28].jaName,type1Name:n[28].type[0].enName,type2Name:n[28].type.length>1?n[28].type[1].enName:null,imageUrl:n[28].imageUrl}}),{c(){t=m("div"),me(l.$$.fragment),e=$(),this.h()},l(s){t=p(s,"DIV",{class:!0});var a=v(t);pe(l.$$.fragment,a),e=M(a),a.forEach(d),this.h()},h(){c(t,"class",o="rounded-2xl border-2 "+(n[30]==n[4]?"border-red-500":"border-transparent"))},m(s,a){q(s,t,a),he(l,t,null),i(t,e),r=!0},p(s,a){const f={};a[0]&8&&(f.pokeId=s[28].pokeId),a[0]&8&&(f.name=s[28].jaName),a[0]&8&&(f.type1Name=s[28].type[0].enName),a[0]&8&&(f.type2Name=s[28].type.length>1?s[28].type[1].enName:null),a[0]&8&&(f.imageUrl=s[28].imageUrl),l.$set(f),(!r||a[0]&16&&o!==(o="rounded-2xl border-2 "+(s[30]==s[4]?"border-red-500":"border-transparent")))&&c(t,"class",o)},i(s){r||(D(l.$$.fragment,s),r=!0)},o(s){j(l.$$.fragment,s),r=!1},d(s){s&&d(t),_e(l)}}}function Qt(n){let t,l,e,o,r,s,a,f=n[7].jaName+"",b,A,h,_=n[8].jaName+"",g,N,J;return{c(){t=m("span"),l=ae(n[6]),e=ae(" の こうげき！"),o=$(),r=m("span"),s=m("span"),a=m("span"),b=ae(f),A=ae(`
              は
              `),h=m("span"),g=ae(_),N=ae(`
              に `),J=ae(n[10]),this.h()},l(I){t=p(I,"SPAN",{class:!0});var E=v(t);l=re(E,n[6]),e=re(E," の こうげき！"),E.forEach(d),o=M(I),r=p(I,"SPAN",{class:!0});var ee=v(r);s=p(ee,"SPAN",{class:!0});var B=v(s);a=p(B,"SPAN",{style:!0,class:!0});var K=v(a);b=re(K,f),K.forEach(d),A=re(B,`
              は
              `),h=p(B,"SPAN",{style:!0,class:!0});var Q=v(h);g=re(Q,_),Q.forEach(d),N=re(B,`
              に `),J=re(B,n[10]),B.forEach(d),ee.forEach(d),this.h()},h(){c(t,"class","block sm:inline"),G(a,"background-color",n[7].themeColor),G(a,"color",n[7].textColor),c(a,"class",Je),G(h,"background-color",n[8].themeColor),G(h,"color",n[8].textColor),c(h,"class",Je),c(s,"class","inline"),c(r,"class","block sm:inline")},m(I,E){q(I,t,E),i(t,l),i(t,e),q(I,o,E),q(I,r,E),i(r,s),i(s,a),i(a,b),i(s,A),i(s,h),i(h,g),i(s,N),i(s,J)},p(I,E){E[0]&64&&we(l,I[6]),E[0]&128&&f!==(f=I[7].jaName+"")&&we(b,f),E[0]&128&&G(a,"background-color",I[7].themeColor),E[0]&128&&G(a,"color",I[7].textColor),E[0]&256&&_!==(_=I[8].jaName+"")&&we(g,_),E[0]&256&&G(h,"background-color",I[8].themeColor),E[0]&256&&G(h,"color",I[8].textColor),E[0]&1024&&we(J,I[10])},d(I){I&&(d(t),d(o),d(r))}}}function Wt(n){let t,l="VS";return{c(){t=m("span"),t.textContent=l,this.h()},l(e){t=p(e,"SPAN",{class:!0,"data-svelte-h":!0}),de(t)!=="svelte-qavuzn"&&(t.textContent=l),this.h()},h(){c(t,"class","block")},m(e,o){q(e,t,o)},p:Re,d(e){e&&d(t)}}}function St(n){let t,l,e,o,r,s,a,f,b;e=new Vt({props:{pokeId:n[28].pokeId,name:n[28].jaName,type1Name:n[28].type[0].enName,type2Name:n[28].type.length>1?n[28].type[1].enName:null,imageUrl:n[28].imageUrl}});function A(){return n[16](n[30])}function h(..._){return n[17](n[30],..._)}return{c(){t=m("div"),l=m("button"),me(e.$$.fragment),r=$(),this.h()},l(_){t=p(_,"DIV",{class:!0});var g=v(t);l=p(g,"BUTTON",{type:!0});var N=v(l);pe(e.$$.fragment,N),N.forEach(d),r=M(g),g.forEach(d),this.h()},h(){c(l,"type","button"),l.disabled=o=n[1]!=="select_poke",c(t,"class",s="rounded-2xl border-2 "+(n[30]==n[0]?"border-red-500":"border-transparent"))},m(_,g){q(_,t,g),i(t,l),he(e,l,null),i(t,r),a=!0,f||(b=[ie(l,"click",A),ie(l,"keydown",h)],f=!0)},p(_,g){n=_;const N={};g[0]&4&&(N.pokeId=n[28].pokeId),g[0]&4&&(N.name=n[28].jaName),g[0]&4&&(N.type1Name=n[28].type[0].enName),g[0]&4&&(N.type2Name=n[28].type.length>1?n[28].type[1].enName:null),g[0]&4&&(N.imageUrl=n[28].imageUrl),e.$set(N),(!a||g[0]&2&&o!==(o=n[1]!=="select_poke"))&&(l.disabled=o),(!a||g[0]&1&&s!==(s="rounded-2xl border-2 "+(n[30]==n[0]?"border-red-500":"border-transparent")))&&c(t,"class",s)},i(_){a||(D(e.$$.fragment,_),a=!0)},o(_){j(e.$$.fragment,_),a=!1},d(_){_&&d(t),_e(e),f=!1,Pt(b)}}}function Xt(n){let t,l=Se(n[5].type),e=[];for(let o=0;o<l.length;o+=1)e[o]=Tt(Nt(n,l,o));return{c(){for(let o=0;o<e.length;o+=1)e[o].c();t=De()},l(o){for(let r=0;r<e.length;r+=1)e[r].l(o);t=De()},m(o,r){for(let s=0;s<e.length;s+=1)e[s]&&e[s].m(o,r);q(o,t,r)},p(o,r){if(r[0]&8224){l=Se(o[5].type);let s;for(s=0;s<l.length;s+=1){const a=Nt(o,l,s);e[s]?e[s].p(a,r):(e[s]=Tt(a),e[s].c(),e[s].m(t.parentNode,t))}for(;s<e.length;s+=1)e[s].d(1);e.length=l.length}},i:Re,o:Re,d(o){o&&d(t),Ge(e,o)}}}function Yt(n){let t,l,e,o,r,s;return e=new Te({props:{icon:"mdi:pokeball",class:"cIconStyle"}}),{c(){t=m("button"),l=m("div"),me(e.$$.fragment),this.h()},l(a){t=p(a,"BUTTON",{type:!0,class:!0});var f=v(t);l=p(f,"DIV",{class:!0});var b=v(l);pe(e.$$.fragment,b),b.forEach(d),f.forEach(d),this.h()},h(){c(l,"class","cIconDivStyle"),c(t,"type","button"),c(t,"class","cIconButtonStyle")},m(a,f){q(a,t,f),i(t,l),he(e,l,null),o=!0,r||(s=ie(t,"click",n[12]),r=!0)},p:Re,i(a){o||(D(e.$$.fragment,a),o=!0)},o(a){j(e.$$.fragment,a),o=!1},d(a){a&&d(t),_e(e),r=!1,s()}}}function Tt(n){let t,l=n[25].jaName+"",e,o,r,s;function a(){return n[18](n[25])}return{c(){t=m("button"),e=ae(l),o=$(),this.h()},l(f){t=p(f,"BUTTON",{style:!0,class:!0});var b=v(t);e=re(b,l),o=M(b),b.forEach(d),this.h()},h(){G(t,"background-color",n[25].themeColor),G(t,"color",n[25].textColor),c(t,"class",Je+" flex items-center hover:brightness-85")},m(f,b){q(f,t,b),i(t,e),i(t,o),r||(s=ie(t,"click",a),r=!0)},p(f,b){n=f,b[0]&32&&l!==(l=n[25].jaName+"")&&we(e,l),b[0]&32&&G(t,"background-color",n[25].themeColor),b[0]&32&&G(t,"color",n[25].textColor)},d(f){f&&d(t),r=!1,s()}}}function Zt(n){let t,l,e='<h1 class="cTitleStyle">ポケモンタイプじゃんけん</h1>',o,r,s,a,f,b="ポケモン を よびだす",A,h,_,g,N,J,I,E="",ee,B,K,Q,Y,Ce,ue,te,ce,le,O,C,ne="",ge,F,P,H="あいて",Z,L,W,z,oe,$e,x,ve,Ze="あなた",He,be,Le,Ie,se,Ee,Ae,qe,U,R,Me,ze,xe;N=new Te({props:{icon:"mdi:pokeball",class:"cIconStyle"}}),Y=new Te({props:{icon:"mdi:head-question-outline",class:"cIconStyle"}}),le=new Te({props:{icon:"mdi:table-question",class:"cIconStyle"}});let ke=Se(n[3]),w=[];for(let u=0;u<ke.length;u+=1)w[u]=wt(Et(n,ke,u));const jt=u=>j(w[u],1,1,()=>{w[u]=null});function et(u,y){return u[1]!=="term"?Wt:Qt}let Oe=et(n),X=Oe(n),ye=Se(n[2]),S=[];for(let u=0;u<ye.length;u+=1)S[u]=St(It(n,ye,u));const At=u=>j(S[u],1,1,()=>{S[u]=null}),tt=[Yt,Xt],fe=[];function lt(u,y){return u[1]=="select_poke"&&u[0]!==-1?0:u[1]=="select_type"?1:-1}return~(U=lt(n))&&(R=fe[U]=tt[U](n)),{c(){t=m("div"),l=m("div"),l.innerHTML=e,o=$(),r=m("div"),s=m("div"),a=m("div"),f=m("span"),f.textContent=b,A=$(),h=m("form"),_=m("button"),g=m("div"),me(N.$$.fragment),J=$(),I=m("div"),I.innerHTML=E,ee=$(),B=m("form"),K=m("button"),Q=m("div"),me(Y.$$.fragment),Ce=$(),ue=m("form"),te=m("button"),ce=m("div"),me(le.$$.fragment),O=$(),C=m("div"),C.innerHTML=ne,ge=$(),F=m("div"),P=m("span"),P.textContent=H,Z=$(),L=m("div");for(let u=0;u<w.length;u+=1)w[u].c();W=$(),z=m("div"),oe=m("p"),X.c(),$e=$(),x=m("div"),ve=m("span"),ve.textContent=Ze,He=$(),be=m("div");for(let u=0;u<S.length;u+=1)S[u].c();Le=$(),Ie=m("div"),se=m("div"),Ee=m("span"),Ae=ae(n[9]),qe=$(),R&&R.c(),this.h()},l(u){t=p(u,"DIV",{class:!0});var y=v(t);l=p(y,"DIV",{class:!0,"data-svelte-h":!0}),de(l)!=="svelte-1r5gn7p"&&(l.innerHTML=e),o=M(y),r=p(y,"DIV",{class:!0});var T=v(r);s=p(T,"DIV",{class:!0});var k=v(s);a=p(k,"DIV",{class:!0});var V=v(a);f=p(V,"SPAN",{class:!0,"data-svelte-h":!0}),de(f)!=="svelte-mp7i3f"&&(f.textContent=b),A=M(V),h=p(V,"FORM",{});var nt=v(h);_=p(nt,"BUTTON",{type:!0,class:!0});var ot=v(_);g=p(ot,"DIV",{class:!0});var st=v(g);pe(N.$$.fragment,st),st.forEach(d),ot.forEach(d),nt.forEach(d),J=M(V),I=p(V,"DIV",{class:!0,"data-svelte-h":!0}),de(I)!=="svelte-1rtwic7"&&(I.innerHTML=E),ee=M(V),B=p(V,"FORM",{});var at=v(B);K=p(at,"BUTTON",{type:!0,class:!0});var rt=v(K);Q=p(rt,"DIV",{class:!0});var it=v(Q);pe(Y.$$.fragment,it),it.forEach(d),rt.forEach(d),at.forEach(d),Ce=M(V),ue=p(V,"FORM",{});var ut=v(ue);te=p(ut,"BUTTON",{type:!0,class:!0});var ct=v(te);ce=p(ct,"DIV",{class:!0});var ft=v(ce);pe(le.$$.fragment,ft),ft.forEach(d),ct.forEach(d),ut.forEach(d),O=M(V),C=p(V,"DIV",{class:!0,"data-svelte-h":!0}),de(C)!=="svelte-17db9va"&&(C.innerHTML=ne),V.forEach(d),k.forEach(d),ge=M(T),F=p(T,"DIV",{class:!0});var Be=v(F);P=p(Be,"SPAN",{class:!0,"data-svelte-h":!0}),de(P)!=="svelte-10ns923"&&(P.textContent=H),Z=M(Be),L=p(Be,"DIV",{class:!0});var dt=v(L);for(let Ne=0;Ne<w.length;Ne+=1)w[Ne].l(dt);dt.forEach(d),Be.forEach(d),W=M(T),z=p(T,"DIV",{});var mt=v(z);oe=p(mt,"P",{class:!0});var pt=v(oe);X.l(pt),pt.forEach(d),mt.forEach(d),$e=M(T),x=p(T,"DIV",{class:!0});var Fe=v(x);ve=p(Fe,"SPAN",{class:!0,"data-svelte-h":!0}),de(ve)!=="svelte-mhotnc"&&(ve.textContent=Ze),He=M(Fe),be=p(Fe,"DIV",{class:!0});var ht=v(be);for(let Ne=0;Ne<S.length;Ne+=1)S[Ne].l(ht);ht.forEach(d),Fe.forEach(d),Le=M(T),Ie=p(T,"DIV",{class:!0});var _t=v(Ie);se=p(_t,"DIV",{class:!0});var Ue=v(se);Ee=p(Ue,"SPAN",{class:!0});var gt=v(Ee);Ae=re(gt,n[9]),gt.forEach(d),qe=M(Ue),R&&R.l(Ue),Ue.forEach(d),_t.forEach(d),T.forEach(d),y.forEach(d),this.h()},h(){c(l,"class","cTitlePartStyle"),c(f,"class","text-lg"),c(g,"class","cIconDivStyle"),c(_,"type","submit"),c(_,"class","cIconButtonStyle"),c(I,"class","flex-grow"),c(Q,"class","cIconDivStyle"),c(K,"type","submit"),c(K,"class","cIconButtonStyle"),c(ce,"class","cIconDivStyle"),c(te,"type","submit"),c(te,"class","cIconButtonStyle"),c(C,"class","mr-4"),c(a,"class","cInputFormAndMessagePartStyle"),c(s,"class","ml-4"),c(P,"class","block mt-1 ml-2"),c(L,"class",Ct),c(F,"class",Dt),c(oe,"class","text-center text-lg"),c(ve,"class","block mt-1 ml-2"),c(be,"class",Ct),c(x,"class",Dt),c(Ee,"class","text-lg"),c(se,"class","cInputFormAndMessagePartStyle"),c(Ie,"class","ml-4"),c(r,"class","cContentPartStyle !min-w-[300px] !max-w-[600px]"),c(t,"class","cRouteBodyStyle")},m(u,y){q(u,t,y),i(t,l),i(t,o),i(t,r),i(r,s),i(s,a),i(a,f),i(a,A),i(a,h),i(h,_),i(_,g),he(N,g,null),i(a,J),i(a,I),i(a,ee),i(a,B),i(B,K),i(K,Q),he(Y,Q,null),i(a,Ce),i(a,ue),i(ue,te),i(te,ce),he(le,ce,null),i(a,O),i(a,C),i(r,ge),i(r,F),i(F,P),i(F,Z),i(F,L);for(let T=0;T<w.length;T+=1)w[T]&&w[T].m(L,null);i(r,W),i(r,z),i(z,oe),X.m(oe,null),i(r,$e),i(r,x),i(x,ve),i(x,He),i(x,be);for(let T=0;T<S.length;T+=1)S[T]&&S[T].m(be,null);i(r,Le),i(r,Ie),i(Ie,se),i(se,Ee),i(Ee,Ae),i(se,qe),~U&&fe[U].m(se,null),Me=!0,ze||(xe=[ie(h,"submit",Ke(n[11])),ie(B,"submit",Ke(n[14])),ie(ue,"submit",Ke(n[15]))],ze=!0)},p(u,y){if(y[0]&24){ke=Se(u[3]);let k;for(k=0;k<ke.length;k+=1){const V=Et(u,ke,k);w[k]?(w[k].p(V,y),D(w[k],1)):(w[k]=wt(V),w[k].c(),D(w[k],1),w[k].m(L,null))}for(Ve(),k=ke.length;k<w.length;k+=1)jt(k);je()}if(Oe===(Oe=et(u))&&X?X.p(u,y):(X.d(1),X=Oe(u),X&&(X.c(),X.m(oe,null))),y[0]&7){ye=Se(u[2]);let k;for(k=0;k<ye.length;k+=1){const V=It(u,ye,k);S[k]?(S[k].p(V,y),D(S[k],1)):(S[k]=St(V),S[k].c(),D(S[k],1),S[k].m(be,null))}for(Ve(),k=ye.length;k<S.length;k+=1)At(k);je()}(!Me||y[0]&512)&&we(Ae,u[9]);let T=U;U=lt(u),U===T?~U&&fe[U].p(u,y):(R&&(Ve(),j(fe[T],1,1,()=>{fe[T]=null}),je()),~U?(R=fe[U],R?R.p(u,y):(R=fe[U]=tt[U](u),R.c()),D(R,1),R.m(se,null)):R=null)},i(u){if(!Me){D(N.$$.fragment,u),D(Y.$$.fragment,u),D(le.$$.fragment,u);for(let y=0;y<ke.length;y+=1)D(w[y]);for(let y=0;y<ye.length;y+=1)D(S[y]);D(R),Me=!0}},o(u){j(N.$$.fragment,u),j(Y.$$.fragment,u),j(le.$$.fragment,u),w=w.filter(Boolean);for(let y=0;y<w.length;y+=1)j(w[y]);S=S.filter(Boolean);for(let y=0;y<S.length;y+=1)j(S[y]);j(R),Me=!1},d(u){u&&d(t),_e(N),_e(Y),_e(le),Ge(w,u),X.d(),Ge(S,u),~U&&fe[U].d(),ze=!1,Pt(xe)}}}const Pe=3,Dt="min-h-[220px] min-w-[300px] border bg-white rounded-xl",Ct="flex flex-wrap justify-between gap-y-1 p-4",Je="px-2 py-1 rounded h-full";function $t(n){return{type:"component",component:n,backdropClasses:"fixed inset-0 !bg-gray-300/90"}}function xt(n,t,l){let e=[],o=[];async function r(){Q();const O=Array.from({length:Ut},(F,P)=>Rt+P),C=Ft(O,Pe*2),ne=await Promise.all(C.map(async F=>await ge(F,await Bt(F.toString()))));l(2,e=ne.slice(0,Pe)),l(3,o=ne.slice(Pe,Pe*2)),l(1,E="select_poke");async function ge(F,P){const H=await vt(P.type1Name);return{pokeId:F,jaName:P.jaName,imageUrl:P.imageUrl??"not_found",type:P.type2Name?[H,await vt(P.type2Name)]:[H],speed:P.stats.speed}}}let s=-1,a=-1,f,b;function A(){l(4,a=bt(Pe)),l(5,f=e[s]),b=o[a],l(1,E="select_type")}let h,_,g,N,J;function I(O){const C=b.type.length===1?b.type[0]:b.type[bt(2)];let ne;l(6,{isOwnAttack:ne,attackPokeName:h,attackType:_,defenseType:g}=ge(f,b,O,C),h,l(7,_),l(8,g)),{damageRatio:N,result:J}=F(ne,_,g),l(1,E="term");function ge(H,Z,L,W){const z=H.speed>=Z.speed;return{isOwnAttack:z,attackPokeName:z?H.jaName:Z.jaName,attackType:z?L:W,defenseType:z?W:L}}function F(H,Z,L){const W=P(Z,L.enName);return{damageRatio:W,result:{double:H?"win":"lose",half:H?"lose":"win",no:H?"lose":"win",default:"draw"}[W]}}function P(H,Z){const{doubleDamageTo:L,halfDamageTo:W,noDamageTo:z}=H.damageRelations,oe={double:L,half:W,no:z};for(const[$e,x]of Object.entries(oe))if(x.includes(Z))return $e;return"default"}}let E="init",ee,B;function K(){const O={win:"あなた の かち！",lose:"あなた の まけ...",draw:"あいこ"},C={init:"ポケモン を よびだしてね",select_poke:s==-1?"ポケモン をえらんでね":`${e[s].jaName} で しょうぶ する？`,select_type:"タイプ をえらんでね",term:O[J]};l(9,ee=C[E]),l(10,B={double:"ばつぐん だ！",half:"いまひとつ...",no:"こうかは なし...",default:"まずまず だ"}[N])}function Q(){l(2,e=[]),l(3,o=[]),l(0,s=-1),l(4,a=-1)}const Y=Ye();function Ce(){const C=$t({ref:Jt,props:{}});Y.trigger(C)}function ue(){const C=$t({ref:zt,props:{}});Y.trigger(C)}const te=O=>l(0,s=O),ce=(O,C)=>{(C.key==="Enter"||C.key===" ")&&l(0,s=O)},le=O=>I(O);return n.$$.update=()=>{n.$$.dirty[0]&3&&(E||s)&&K()},[s,E,e,o,a,f,h,_,g,ee,B,r,A,I,Ce,ue,te,ce,le]}class fl extends We{constructor(t){super(),Xe(this,t,xt,Zt,Qe,{},null,[-1,-1])}}export{fl as component};
