import{a as Ue,e as p,b as P,t as Le,c as v,d as k,f as d,h as U,i as ze,j as i,k as ie,l as W,m as c,n as Ge,B as Ke,o as qe,p as Se,q as Te,r as ue,u as fe,x as ce,z as Ae,v as We}from"../chunks/scheduler.CjbLQ75Z.js";import{S as Be,i as He,g as Re,t as R,c as Me,a as B,b as X,d as Y,m as Z,e as $}from"../chunks/index.C8jGW1p8.js";import{g as Je}from"../chunks/stores.DfzVTFnM.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.fMS2XfBz.js";import{I as se}from"../chunks/Icon.D9OMTyLg.js";import{T as Qe}from"../chunks/type.BpnlySAn.js";import{f as ae,b as Xe,c as Ye}from"../chunks/fetchStaticData.D6LXiPAs.js";import{F as he,P as Ze,a as $e,A as xe}from"../chunks/common.D9Ih3TqP.js";import{f as Fe,g as Ve}from"../chunks/numerics.BpAOxbdF.js";function et(a){let e,t,o;return t=new se({props:{icon:"mdi:image-off-outline",class:"w-8 h-8 bg-white"}}),{c(){e=p("div"),X(t.$$.fragment),this.h()},l(s){e=v(s,"DIV",{class:!0});var r=k(e);Y(t.$$.fragment,r),r.forEach(d),this.h()},h(){i(e,"class","absolute inset-0 flex items-center justify-center h-full")},m(s,r){W(s,e,r),Z(t,e,null),o=!0},p:qe,i(s){o||(B(t.$$.fragment,s),o=!0)},o(s){R(t.$$.fragment,s),o=!1},d(s){s&&d(e),$(t)}}}function tt(a){let e,t,o,s,r,b,m,w,j,f=!a[6]&&Pe();return{c(){e=p("img"),r=P(),f&&f.c(),b=Se(),this.h()},l(l){e=v(l,"IMG",{src:!0,alt:!0,class:!0,style:!0}),r=U(l),f&&f.l(l),b=Se(),this.h()},h(){Te(e.src,t=a[0])||i(e,"src",t),i(e,"alt",a[5]),i(e,"class",o="w-full h-full object-contain "+a[8]),i(e,"style",s=a[1]?"":"filter: brightness(0);"),ue(e,"image",!a[6]),ue(e,"loaded",a[6])},m(l,u){W(l,e,u),a[14](e),W(l,r,u),f&&f.m(l,u),W(l,b,u),m=!0,w||(j=fe(e,"load",a[9]),w=!0)},p(l,u){(!m||u&1&&!Te(e.src,t=l[0]))&&i(e,"src",t),(!m||u&32)&&i(e,"alt",l[5]),(!m||u&256&&o!==(o="w-full h-full object-contain "+l[8]))&&i(e,"class",o),(!m||u&2&&s!==(s=l[1]?"":"filter: brightness(0);"))&&i(e,"style",s),(!m||u&320)&&ue(e,"image",!l[6]),(!m||u&320)&&ue(e,"loaded",l[6]),l[6]?f&&(Re(),R(f,1,1,()=>{f=null}),Me()):f?u&64&&B(f,1):(f=Pe(),f.c(),B(f,1),f.m(b.parentNode,b))},i(l){m||(B(f),m=!0)},o(l){R(f),m=!1},d(l){l&&(d(e),d(r),d(b)),a[14](null),f&&f.d(l),w=!1,j()}}}function Pe(a){let e,t,o;return t=new se({props:{icon:"mdi:progress-download",class:"w-full h-full text-white bg-gray-100 object-cover"}}),{c(){e=p("div"),X(t.$$.fragment),this.h()},l(s){e=v(s,"DIV",{class:!0});var r=k(e);Y(t.$$.fragment,r),r.forEach(d),this.h()},h(){i(e,"class","absolute inset-0 flex items-center justify-center h-full")},m(s,r){W(s,e,r),Z(t,e,null),o=!0},i(s){o||(B(t.$$.fragment,s),o=!0)},o(s){R(t.$$.fragment,s),o=!1},d(s){s&&d(e),$(t)}}}function lt(a){let e,t,o,s,r,b,m,w=(a[1]?a[5]:"???")+"",j,f,l,u,y,n,h,I,O;const L=[tt,et],g=[];function T(_,N){return _[0]!==null?0:1}return y=T(a),n=g[y]=L[y](a),{c(){e=p("div"),t=p("header"),o=P(),s=p("div"),r=p("div"),b=p("h1"),m=p("div"),j=Le(w),f=P(),l=p("div"),u=p("div"),n.c(),h=P(),I=p("footer"),this.h()},l(_){e=v(_,"DIV",{class:!0});var N=k(e);t=v(N,"HEADER",{class:!0,style:!0}),k(t).forEach(d),o=U(N),s=v(N,"DIV",{class:!0});var D=k(s);r=v(D,"DIV",{class:!0});var A=k(r);b=v(A,"H1",{class:!0});var H=k(b);m=v(H,"DIV",{});var F=k(m);j=ze(F,w),F.forEach(d),H.forEach(d),A.forEach(d),f=U(D),l=v(D,"DIV",{class:!0});var J=k(l);u=v(J,"DIV",{class:!0});var M=k(u);n.l(M),M.forEach(d),J.forEach(d),D.forEach(d),h=U(N),I=v(N,"FOOTER",{class:!0,style:!0}),k(I).forEach(d),N.forEach(d),this.h()},h(){i(t,"class","absolute top-0 w-full z-10 p-4 bg-transparent"),ie(t,"background-color",a[1]?a[3]:a[2]),i(b,"class","mt-6 bg-white bg-opacity-50 text-xl font-bold text-gray-900"),i(r,"class","flex justify-center"),i(u,"class","flex items-center h-[200px] w-[200px] justify-center bg-white rounded-2xl border border-gray-200"),i(l,"class","flex justify-center"),i(s,"class","p-2 bg-transparent z-20"),i(I,"class","absolute bottom-0 w-full z-10 p-4 bg-transparent"),ie(I,"background-color",a[1]?a[4]:a[2]),i(e,"class","relative flex flex-col bg-gray-50 rounded-2xl shadow border h-[300px] w-[300px] overflow-hidden select-none")},m(_,N){W(_,e,N),c(e,t),c(e,o),c(e,s),c(s,r),c(r,b),c(b,m),c(m,j),c(s,f),c(s,l),c(l,u),g[y].m(u,null),c(e,h),c(e,I),O=!0},p(_,[N]){(!O||N&14)&&ie(t,"background-color",_[1]?_[3]:_[2]),(!O||N&34)&&w!==(w=(_[1]?_[5]:"???")+"")&&Ge(j,w);let D=y;y=T(_),y===D?g[y].p(_,N):(Re(),R(g[D],1,1,()=>{g[D]=null}),Me(),n=g[y],n?n.p(_,N):(n=g[y]=L[y](_),n.c()),B(n,1),n.m(u,null)),(!O||N&22)&&ie(I,"background-color",_[1]?_[4]:_[2])},i(_){O||(B(n),O=!0)},o(_){R(n),O=!1},d(_){_&&d(e),g[y].d()}}}function nt(a,e,t){let{pokeId:o=null}=e,{name:s=null}=e,{type1Name:r=null}=e,{type2Name:b=null}=e,{imageUrl:m=null}=e,{isOpen:w=!1}=e,j="",f="",l="";async function u(){j===""&&t(2,j=(await ae(Qe.Unknown)).themeColor),t(3,f=r?(await ae(r)).themeColor:j),t(4,l=b?(await ae(b)).themeColor:f)}let y="???",n=!1,h,I="";function O(){t(6,n=!0),t(8,I=g(h.naturalWidth,h.naturalHeight));function g(T,_){const N=T/_;function D(A){return A>=1-.3&&A<=1+.3}return D(N)?"p-4":"p-0"}}function L(g){Ke[g?"unshift":"push"](()=>{h=g,t(7,h)})}return a.$$set=g=>{"pokeId"in g&&t(10,o=g.pokeId),"name"in g&&t(11,s=g.name),"type1Name"in g&&t(12,r=g.type1Name),"type2Name"in g&&t(13,b=g.type2Name),"imageUrl"in g&&t(0,m=g.imageUrl),"isOpen"in g&&t(1,w=g.isOpen)},a.$$.update=()=>{a.$$.dirty&3072&&o&&(u(),s!==null&&(o<he?t(5,y=s):t(5,y=`とくべつな ${s}`))),a.$$.dirty&1&&m&&t(6,n=!1)},[m,w,j,f,l,y,n,h,I,O,o,s,r,b,L]}class st extends Be{constructor(e){super(),He(this,e,nt,lt,Ue,{pokeId:10,name:11,type1Name:12,type2Name:13,imageUrl:0,isOpen:1})}}function at(a){var ve,_e,be,ye,Ie,ke;let e,t,o='<h1 class="cTitleStyle">ポケモンだ〜れだ？</h1>',s,r,b,m,w,j="ポケモン を よびだす",f,l,u,y,n,h,I,O="",L,g,T,_,N,D,A,H,F,J,M,z,K,ge="こたえをみる",me,G,Q,q,re,de,pe;return n=new se({props:{icon:"mdi:pokeball",class:"cIconStyle"}}),N=new se({props:{icon:"mdi:lightbulb-on-outline",class:"cIconStyle"}}),F=new st({props:{pokeId:((ve=a[0])==null?void 0:ve.pokeId)??null,name:((_e=a[0])==null?void 0:_e.jaName)??null,type1Name:((be=a[0])==null?void 0:be.type1.enName)??null,type2Name:((Ie=(ye=a[0])==null?void 0:ye.type2)==null?void 0:Ie.enName)??null,imageUrl:((ke=a[0])==null?void 0:ke.gifUrl)??null,isOpen:a[1]}}),q=new se({props:{icon:"mdi:pokeball",class:"cIconStyle"}}),{c(){e=p("div"),t=p("div"),t.innerHTML=o,s=P(),r=p("div"),b=p("div"),m=p("div"),w=p("span"),w.textContent=j,f=P(),l=p("form"),u=p("button"),y=p("div"),X(n.$$.fragment),h=P(),I=p("div"),I.innerHTML=O,L=P(),g=p("form"),T=p("button"),_=p("div"),X(N.$$.fragment),D=P(),A=p("div"),H=p("div"),X(F.$$.fragment),J=P(),M=p("div"),z=p("div"),K=p("span"),K.textContent=ge,me=P(),G=p("button"),Q=p("div"),X(q.$$.fragment),this.h()},l(E){e=v(E,"DIV",{class:!0});var S=k(e);t=v(S,"DIV",{class:!0,"data-svelte-h":!0}),ce(t)!=="svelte-2df01y"&&(t.innerHTML=o),s=U(S),r=v(S,"DIV",{class:!0});var C=k(r);b=v(C,"DIV",{class:!0});var x=k(b);m=v(x,"DIV",{class:!0});var V=k(m);w=v(V,"SPAN",{class:!0,"data-svelte-h":!0}),ce(w)!=="svelte-mp7i3f"&&(w.textContent=j),f=U(V),l=v(V,"FORM",{});var ee=k(l);u=v(ee,"BUTTON",{type:!0,class:!0});var te=k(u);y=v(te,"DIV",{class:!0});var le=k(y);Y(n.$$.fragment,le),le.forEach(d),te.forEach(d),ee.forEach(d),h=U(V),I=v(V,"DIV",{class:!0,"data-svelte-h":!0}),ce(I)!=="svelte-1s22dac"&&(I.innerHTML=O),L=U(V),g=v(V,"FORM",{});var ne=k(g);T=v(ne,"BUTTON",{type:!0,class:!0});var Ne=k(T);_=v(Ne,"DIV",{class:!0});var we=k(_);Y(N.$$.fragment,we),we.forEach(d),Ne.forEach(d),ne.forEach(d),V.forEach(d),x.forEach(d),D=U(C),A=v(C,"DIV",{class:!0});var Ee=k(A);H=v(Ee,"DIV",{class:!0});var je=k(H);Y(F.$$.fragment,je),je.forEach(d),Ee.forEach(d),J=U(C),M=v(C,"DIV",{class:!0});var Oe=k(M);z=v(Oe,"DIV",{class:!0});var oe=k(z);K=v(oe,"SPAN",{class:!0,"data-svelte-h":!0}),ce(K)!=="svelte-b801jg"&&(K.textContent=ge),me=U(oe),G=v(oe,"BUTTON",{type:!0,class:!0});var De=k(G);Q=v(De,"DIV",{class:!0});var Ce=k(Q);Y(q.$$.fragment,Ce),Ce.forEach(d),De.forEach(d),oe.forEach(d),Oe.forEach(d),C.forEach(d),S.forEach(d),this.h()},h(){i(t,"class","cTitlePartStyle"),i(w,"class","text-lg"),i(y,"class","cIconDivStyle"),i(u,"type","submit"),i(u,"class","cIconButtonStyle"),i(I,"class","w-4"),i(_,"class","cIconDivStyle"),i(T,"type","submit"),i(T,"class","cIconButtonStyle"),i(m,"class","cInputFormAndMessagePartStyle"),i(b,"class","ml-4"),i(H,"class","cInputFormAndMessagePartStyle"),i(A,"class","ml-4"),i(K,"class","text-lg"),i(Q,"class","cIconDivStyle"),i(G,"type","button"),i(G,"class","cIconButtonStyle"),i(z,"class","cInputFormAndMessagePartStyle"),i(M,"class","ml-4"),i(r,"class","cContentPartStyle"),i(e,"class","cRouteBodyStyle")},m(E,S){W(E,e,S),c(e,t),c(e,s),c(e,r),c(r,b),c(b,m),c(m,w),c(m,f),c(m,l),c(l,u),c(u,y),Z(n,y,null),c(m,h),c(m,I),c(m,L),c(m,g),c(g,T),c(T,_),Z(N,_,null),c(r,D),c(r,A),c(A,H),Z(F,H,null),c(r,J),c(r,M),c(M,z),c(z,K),c(z,me),c(z,G),c(G,Q),Z(q,Q,null),re=!0,de||(pe=[fe(l,"submit",Ae(a[2])),fe(g,"submit",Ae(a[4])),fe(G,"click",a[3])],de=!0)},p(E,[S]){var x,V,ee,te,le,ne;const C={};S&1&&(C.pokeId=((x=E[0])==null?void 0:x.pokeId)??null),S&1&&(C.name=((V=E[0])==null?void 0:V.jaName)??null),S&1&&(C.type1Name=((ee=E[0])==null?void 0:ee.type1.enName)??null),S&1&&(C.type2Name=((le=(te=E[0])==null?void 0:te.type2)==null?void 0:le.enName)??null),S&1&&(C.imageUrl=((ne=E[0])==null?void 0:ne.gifUrl)??null),S&2&&(C.isOpen=E[1]),F.$set(C)},i(E){re||(B(n.$$.fragment,E),B(N.$$.fragment,E),B(F.$$.fragment,E),B(q.$$.fragment,E),re=!0)},o(E){R(n.$$.fragment,E),R(N.$$.fragment,E),R(F.$$.fragment,E),R(q.$$.fragment,E),re=!1},d(E){E&&d(e),$(n),$(N),$(F),$(q),de=!1,We(pe)}}}function rt(a){return{message:a,background:"bg-green-100 select-none",timeout:2e3}}function ot(a,e,t){let o=null;async function s(){m();const f=[...Array.from({length:Ze},(n,h)=>$e+h),...Array.from({length:xe},(n,h)=>he+h)];let l,u;do l=f[Ve(f.length)],Number(l)<he?u=await Xe(l.toString()):u=await Ye(l.toString());while(!u||u.gifUrl===null);t(0,o=await y(l,u));async function y(n,h){return{pokeId:n,jaName:h.jaName,gifUrl:h.gifUrl??"",jaGenus:h.jaGenus,type1:await ae(h.type1Name),type2:h.type2Name?await ae(h.type2Name):null,height:h.height,weight:h.weight,stats:h.stats}}}let r=!1;function b(){t(1,r=!r)}function m(){t(1,r=!1)}const w=Je();function j(){const f=rt(`ヒント: ${l()}`);w.trigger(f);function l(){if(o===null)return"よびだすボタン を おしてね";const{pros:n,cons:h}=y(u(o.stats)),I=[o.jaName[0]+"○".repeat(o.jaName.length-1),o.jaGenus,`${o.type1.jaName}タイプ`,o.type2?`${o.type2.jaName}タイプ`:"タイプは1つだけ",`たかさ${Fe(o.height,"height")}`,`おもさ${Fe(o.weight,"weight")}`,n?`${n}が たかい`:null,h?`${h}は ひくい`:null];return I[Ve(I.length)]??"がんばれ！"}function u(n){return[{HP:n.hp},{こうげき:n.attack},{ぼうぎょ:n.defense},{とくこう:n.specialAttack},{とくぼう:n.specialDefense},{すばやさ:n.speed}].sort((I,O)=>Object.values(O)[0]-Object.values(I)[0])}function y(n){const h=Object.values(n[0])[0]>Object.values(n[1])[0]?Object.keys(n[0])[0]:null,I=n.length-1,O=Object.values(n[I])[0]<Object.values(n[I-1])[0]?Object.keys(n[I])[0]:null;return{pros:h,cons:O}}}return[o,r,s,b,j]}class vt extends Be{constructor(e){super(),He(this,e,ot,at,Ue,{})}}export{vt as component};
