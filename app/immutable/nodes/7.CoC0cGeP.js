import{c as e,f as t,g as a}from"../chunks/numerics.BJlZua9_.js";import{P as n,F as s}from"../chunks/common.CkzKN_UB.js";import{a as l,p as r,l as o,f as c,x as i,e as m,b as p,c as f,d as u,h,q as d,j as g,m as v,u as y,y as $,t as b,i as k,A as N,n as I,z as x,v as w,k as E,o as T}from"../chunks/scheduler.BlVzsFL4.js";import{S as j,i as S,a as D,g as V,t as P,c as C,b as _,d as U,m as A,e as B}from"../chunks/index.CSk_aVci.js";import{e as O}from"../chunks/each.DBJQLyyU.js";import{g as M}from"../chunks/stores.9I3Q4w_E.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.zpXvPdeb.js";import{I as H}from"../chunks/Icon.BIHgwpMx.js";import{f as L}from"../chunks/generation.CTlbytp5.js";import{a as R}from"../chunks/collections.Cxgvn8Pv.js";import{P as q}from"../chunks/PokeTile.CdnkDEju.js";const F=Object.freeze(Object.defineProperty({__proto__:null,load:async function({fetch:a}){return await e(a,"load to cache"),{pokeItems:await async function(){const l=Array.from({length:n},((e,t)=>s+t)).map((async n=>{const s=await e(a,n.toString());return s&&null!==s.imageUrl?async function(e,a){const n=await t(a.type1Name);return{pokeId:e,jaName:a.jaName,imageUrl:a.imageUrl??"not_found",type:a.type2Name?[n,await t(a.type2Name)]:[n],speed:a.stats.speed}}(n,s):null}));return(await Promise.all(l)).filter((e=>null!==e))}()}}},Symbol.toStringTag,{value:"Module"}));function z(e){let t,a,n,s,l,r,i,$,b,k;return i=new H({props:{icon:"mdi:close",class:"w-5 h-5"}}),{c(){t=m("div"),a=m("div"),n=m("img"),l=p(),r=m("button"),_(i.$$.fragment),this.h()},l(e){t=f(e,"DIV",{class:!0,"data-parent":!0});var s=u(t);a=f(s,"DIV",{class:!0});var o=u(a);n=f(o,"IMG",{src:!0,alt:!0,class:!0}),l=h(o),r=f(o,"BUTTON",{class:!0});var m=u(r);U(i.$$.fragment,m),m.forEach(c),o.forEach(c),s.forEach(c),this.h()},h(){d(n.src,s=J)||g(n,"src",s),g(n,"alt","type_relations"),g(n,"class","w-96 h-96 object-contain"),g(r,"class","absolute top-1 right-6 z-10"),g(a,"class","relative"),g(t,"class",""),g(t,"data-parent",e[0])},m(s,c){o(s,t,c),v(t,a),v(a,n),v(a,l),v(a,r),A(i,r,null),$=!0,b||(k=y(r,"click",e[3]),b=!0)},p(e,a){(!$||1&a)&&g(t,"data-parent",e[0])},i(e){$||(D(i.$$.fragment,e),$=!0)},o(e){P(i.$$.fragment,e),$=!1},d(e){e&&c(t),B(i),b=!1,k()}}}function G(e){let t,a,n=e[1][0]&&z(e);return{c(){n&&n.c(),t=r()},l(e){n&&n.l(e),t=r()},m(e,s){n&&n.m(e,s),o(e,t,s),a=!0},p(e,[a]){e[1][0]?n?(n.p(e,a),2&a&&D(n,1)):(n=z(e),n.c(),D(n,1),n.m(t.parentNode,t)):n&&(V(),P(n,1,1,(()=>{n=null})),C())},i(e){a||(D(n),a=!0)},o(e){P(n),a=!1},d(e){e&&c(t),n&&n.d(e)}}}const J="https://www.pokemon.co.jp/ex/sun_moon/common/images/fight/161215_01/img_01.png";function K(e,t,a){let n,{parent:s}=t;const l=M();return i(e,l,(e=>a(1,n=e))),e.$$set=e=>{"parent"in e&&a(0,s=e.parent)},[s,n,l,function(){l.close()}]}class Q extends j{constructor(e){super(),S(this,e,K,G,l,{parent:0})}}function W(e){let t,a,n,s,l,r,i,d,b,k='<div class="p-4"><h2 class="text-2xl font-bold">ルール</h2> <p class="mt-4">まず ポケモン を 1たい えらぶ。\n            <br/>\n            つぎに タイプ を どちらか 1つ えらぶ。\n            <br/>\n            すばやさ が たかい ほうが こうげきする。</p> <ul class="mt-4 list-disc list-inside"><li>ばつぐん なら かち。</li> <li>いまひとつ か こうかなし なら まけ。</li> <li>どちらでもない なら あいこ。</li></ul></div>';return r=new H({props:{icon:"mdi:close",class:"w-5 h-5"}}),{c(){t=m("div"),a=m("div"),n=m("div"),n.innerHTML=k,s=p(),l=m("button"),_(r.$$.fragment),this.h()},l(e){t=f(e,"DIV",{class:!0,"data-parent":!0});var o=u(t);a=f(o,"DIV",{class:!0});var i=u(a);n=f(i,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-mlq9ej"!==$(n)&&(n.innerHTML=k),s=h(i),l=f(i,"BUTTON",{class:!0});var m=u(l);U(r.$$.fragment,m),m.forEach(c),i.forEach(c),o.forEach(c),this.h()},h(){g(n,"class","w-full h-full bg-white"),g(l,"class","absolute top-1 right-6 z-10"),g(a,"class","relative"),g(t,"class",""),g(t,"data-parent",e[0])},m(c,m){o(c,t,m),v(t,a),v(a,n),v(a,s),v(a,l),A(r,l,null),i=!0,d||(b=y(l,"click",e[3]),d=!0)},p(e,a){(!i||1&a)&&g(t,"data-parent",e[0])},i(e){i||(D(r.$$.fragment,e),i=!0)},o(e){P(r.$$.fragment,e),i=!1},d(e){e&&c(t),B(r),d=!1,b()}}}function X(e){let t,a,n=e[1][0]&&W(e);return{c(){n&&n.c(),t=r()},l(e){n&&n.l(e),t=r()},m(e,s){n&&n.m(e,s),o(e,t,s),a=!0},p(e,[a]){e[1][0]?n?(n.p(e,a),2&a&&D(n,1)):(n=W(e),n.c(),D(n,1),n.m(t.parentNode,t)):n&&(V(),P(n,1,1,(()=>{n=null})),C())},i(e){a||(D(n),a=!0)},o(e){P(n),a=!1},d(e){e&&c(t),n&&n.d(e)}}}function Y(e,t,a){let n,{parent:s}=t;const l=M();return i(e,l,(e=>a(1,n=e))),e.$$set=e=>{"parent"in e&&a(0,s=e.parent)},[s,n,l,function(){l.close()}]}class Z extends j{constructor(e){super(),S(this,e,Y,X,l,{parent:0})}}function ee(e,t,a){const n=e.slice();return n[26]=t[a],n}function te(e,t,a){const n=e.slice();return n[29]=t[a],n[31]=a,n}function ae(e,t,a){const n=e.slice();return n[29]=t[a],n[31]=a,n}function ne(e){let t,a,n,s,l;return a=new q({props:{pokeId:e[29].pokeId,name:e[29].jaName,type1Name:e[29].type[0].enName,type2Name:e[29].type.length>1?e[29].type[1].enName:null,imageUrl:e[29].imageUrl}}),{c(){t=m("div"),_(a.$$.fragment),n=p(),this.h()},l(e){t=f(e,"DIV",{class:!0});var s=u(t);U(a.$$.fragment,s),n=h(s),s.forEach(c),this.h()},h(){g(t,"class",s="rounded-2xl border-2 "+(e[31]==e[4]?"border-red-500":"border-transparent"))},m(e,s){o(e,t,s),A(a,t,null),v(t,n),l=!0},p(e,n){const r={};8&n[0]&&(r.pokeId=e[29].pokeId),8&n[0]&&(r.name=e[29].jaName),8&n[0]&&(r.type1Name=e[29].type[0].enName),8&n[0]&&(r.type2Name=e[29].type.length>1?e[29].type[1].enName:null),8&n[0]&&(r.imageUrl=e[29].imageUrl),a.$set(r),(!l||16&n[0]&&s!==(s="rounded-2xl border-2 "+(e[31]==e[4]?"border-red-500":"border-transparent")))&&g(t,"class",s)},i(e){l||(D(a.$$.fragment,e),l=!0)},o(e){P(a.$$.fragment,e),l=!1},d(e){e&&c(t),B(a)}}}function se(e){let t,a,n,s,l,r,i,d,y,$,N,x,w,T=e[7].jaName+"",j=e[8].jaName+"";return{c(){t=m("span"),a=b(e[6]),n=b(" の こうげき！"),s=p(),l=m("span"),r=m("span"),i=m("span"),d=b(T),y=b("\n              は\n              "),$=m("span"),N=b(j),x=b("\n              に "),w=b(e[10]),this.h()},l(o){t=f(o,"SPAN",{class:!0});var m=u(t);a=k(m,e[6]),n=k(m," の こうげき！"),m.forEach(c),s=h(o),l=f(o,"SPAN",{class:!0});var p=u(l);r=f(p,"SPAN",{class:!0});var g=u(r);i=f(g,"SPAN",{style:!0,class:!0});var v=u(i);d=k(v,T),v.forEach(c),y=k(g,"\n              は\n              "),$=f(g,"SPAN",{style:!0,class:!0});var b=u($);N=k(b,j),b.forEach(c),x=k(g,"\n              に "),w=k(g,e[10]),g.forEach(c),p.forEach(c),this.h()},h(){g(t,"class","block sm:inline"),E(i,"background-color",e[7].themeColor),E(i,"color",e[7].textColor),g(i,"class",ue),E($,"background-color",e[8].themeColor),E($,"color",e[8].textColor),g($,"class",ue),g(r,"class","inline"),g(l,"class","block sm:inline")},m(e,c){o(e,t,c),v(t,a),v(t,n),o(e,s,c),o(e,l,c),v(l,r),v(r,i),v(i,d),v(r,y),v(r,$),v($,N),v(r,x),v(r,w)},p(e,t){64&t[0]&&I(a,e[6]),128&t[0]&&T!==(T=e[7].jaName+"")&&I(d,T),128&t[0]&&E(i,"background-color",e[7].themeColor),128&t[0]&&E(i,"color",e[7].textColor),256&t[0]&&j!==(j=e[8].jaName+"")&&I(N,j),256&t[0]&&E($,"background-color",e[8].themeColor),256&t[0]&&E($,"color",e[8].textColor),1024&t[0]&&I(w,e[10])},d(e){e&&(c(t),c(s),c(l))}}}function le(e){let t;return{c(){t=m("span"),t.textContent="VS",this.h()},l(e){t=f(e,"SPAN",{class:!0,"data-svelte-h":!0}),"svelte-qavuzn"!==$(t)&&(t.textContent="VS"),this.h()},h(){g(t,"class","block")},m(e,a){o(e,t,a)},p:T,d(e){e&&c(t)}}}function re(e){let t,a,n,s,l,r,i,d,$;function b(){return e[17](e[31])}function k(...t){return e[18](e[31],...t)}return n=new q({props:{pokeId:e[29].pokeId,name:e[29].jaName,type1Name:e[29].type[0].enName,type2Name:e[29].type.length>1?e[29].type[1].enName:null,imageUrl:e[29].imageUrl}}),{c(){t=m("div"),a=m("button"),_(n.$$.fragment),l=p(),this.h()},l(e){t=f(e,"DIV",{class:!0});var s=u(t);a=f(s,"BUTTON",{type:!0});var r=u(a);U(n.$$.fragment,r),r.forEach(c),l=h(s),s.forEach(c),this.h()},h(){g(a,"type","button"),a.disabled=s="select_poke"!==e[1],g(t,"class",r="rounded-2xl border-2 "+(e[31]==e[0]?"border-red-500":"border-transparent"))},m(e,s){o(e,t,s),v(t,a),A(n,a,null),v(t,l),i=!0,d||($=[y(a,"click",b),y(a,"keydown",k)],d=!0)},p(l,o){e=l;const c={};4&o[0]&&(c.pokeId=e[29].pokeId),4&o[0]&&(c.name=e[29].jaName),4&o[0]&&(c.type1Name=e[29].type[0].enName),4&o[0]&&(c.type2Name=e[29].type.length>1?e[29].type[1].enName:null),4&o[0]&&(c.imageUrl=e[29].imageUrl),n.$set(c),(!i||2&o[0]&&s!==(s="select_poke"!==e[1]))&&(a.disabled=s),(!i||1&o[0]&&r!==(r="rounded-2xl border-2 "+(e[31]==e[0]?"border-red-500":"border-transparent")))&&g(t,"class",r)},i(e){i||(D(n.$$.fragment,e),i=!0)},o(e){P(n.$$.fragment,e),i=!1},d(e){e&&c(t),B(n),d=!1,w($)}}}function oe(e){let t,a=O(e[5].type),n=[];for(let s=0;s<a.length;s+=1)n[s]=ie(ee(e,a,s));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=r()},l(e){for(let t=0;t<n.length;t+=1)n[t].l(e);t=r()},m(e,a){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,a);o(e,t,a)},p(e,s){if(8224&s[0]){let l;for(a=O(e[5].type),l=0;l<a.length;l+=1){const r=ee(e,a,l);n[l]?n[l].p(r,s):(n[l]=ie(r),n[l].c(),n[l].m(t.parentNode,t))}for(;l<n.length;l+=1)n[l].d(1);n.length=a.length}},i:T,o:T,d(e){e&&c(t),x(n,e)}}}function ce(e){let t,a,n,s,l,r;return n=new H({props:{icon:"mdi:pokeball",class:"cIconStyle"}}),{c(){t=m("button"),a=m("div"),_(n.$$.fragment),this.h()},l(e){t=f(e,"BUTTON",{type:!0,class:!0});var s=u(t);a=f(s,"DIV",{class:!0});var l=u(a);U(n.$$.fragment,l),l.forEach(c),s.forEach(c),this.h()},h(){g(a,"class","cIconDivStyle"),g(t,"type","button"),g(t,"class","cIconButtonStyle")},m(c,i){o(c,t,i),v(t,a),A(n,a,null),s=!0,l||(r=y(t,"click",e[12]),l=!0)},p:T,i(e){s||(D(n.$$.fragment,e),s=!0)},o(e){P(n.$$.fragment,e),s=!1},d(e){e&&c(t),B(n),l=!1,r()}}}function ie(e){let t,a,n,s,l,r=e[26].jaName+"";function i(){return e[19](e[26])}return{c(){t=m("button"),a=b(r),n=p(),this.h()},l(e){t=f(e,"BUTTON",{style:!0,class:!0});var s=u(t);a=k(s,r),n=h(s),s.forEach(c),this.h()},h(){E(t,"background-color",e[26].themeColor),E(t,"color",e[26].textColor),g(t,"class",ue+" flex items-center hover:brightness-85")},m(e,r){o(e,t,r),v(t,a),v(t,n),s||(l=y(t,"click",i),s=!0)},p(n,s){e=n,32&s[0]&&r!==(r=e[26].jaName+"")&&I(a,r),32&s[0]&&E(t,"background-color",e[26].themeColor),32&s[0]&&E(t,"color",e[26].textColor)},d(e){e&&c(t),s=!1,l()}}}function me(e){let t,a,n,s,l,r,i,d,E,T,j,S,M,L,R,q,F,z,G,J,K,Q,W,X,Y,Z,ee,ie,me,ue,he,de,ge,ve,ye,$e,be,ke,Ne,Ie,xe,we,Ee,Te,je,Se,De,Ve,Pe,Ce,_e='<h1 class="cTitleStyle">ポケモンタイプじゃんけん</h1>',Ue="ポケモン を よびだす";S=new H({props:{icon:"mdi:pokeball",class:"cIconStyle"}}),G=new H({props:{icon:"mdi:head-question-outline",class:"cIconStyle"}}),X=new H({props:{icon:"mdi:table-question",class:"cIconStyle"}});let Ae=O(e[3]),Be=[];for(let o=0;o<Ae.length;o+=1)Be[o]=ne(ae(e,Ae,o));const Oe=e=>P(Be[e],1,1,(()=>{Be[e]=null}));function Me(e,t){return"term"!==e[1]?le:se}let He=Me(e),Le=He(e),Re=O(e[2]),qe=[];for(let o=0;o<Re.length;o+=1)qe[o]=re(te(e,Re,o));const Fe=e=>P(qe[e],1,1,(()=>{qe[e]=null})),ze=[ce,oe],Ge=[];function Je(e,t){return"select_poke"==e[1]&&-1!==e[0]?0:"select_type"==e[1]?1:-1}return~(Se=Je(e))&&(De=Ge[Se]=ze[Se](e)),{c(){t=m("div"),a=m("div"),a.innerHTML=_e,n=p(),s=m("div"),l=m("div"),r=m("div"),i=m("span"),i.textContent=Ue,d=p(),E=m("form"),T=m("button"),j=m("div"),_(S.$$.fragment),M=p(),L=m("div"),L.innerHTML="",R=p(),q=m("form"),F=m("button"),z=m("div"),_(G.$$.fragment),J=p(),K=m("form"),Q=m("button"),W=m("div"),_(X.$$.fragment),Y=p(),Z=m("div"),Z.innerHTML="",ee=p(),ie=m("div"),me=m("span"),me.textContent="あいて",ue=p(),he=m("div");for(let e=0;e<Be.length;e+=1)Be[e].c();de=p(),ge=m("div"),ve=m("p"),Le.c(),ye=p(),$e=m("div"),be=m("span"),be.textContent="あなた",ke=p(),Ne=m("div");for(let e=0;e<qe.length;e+=1)qe[e].c();Ie=p(),xe=m("div"),we=m("div"),Ee=m("span"),Te=b(e[9]),je=p(),De&&De.c(),this.h()},l(o){t=f(o,"DIV",{class:!0});var m=u(t);a=f(m,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-1r5gn7p"!==$(a)&&(a.innerHTML=_e),n=h(m),s=f(m,"DIV",{class:!0});var p=u(s);l=f(p,"DIV",{class:!0});var g=u(l);r=f(g,"DIV",{class:!0});var v=u(r);i=f(v,"SPAN",{class:!0,"data-svelte-h":!0}),"svelte-mp7i3f"!==$(i)&&(i.textContent=Ue),d=h(v),E=f(v,"FORM",{});var y=u(E);T=f(y,"BUTTON",{type:!0,class:!0});var b=u(T);j=f(b,"DIV",{class:!0});var N=u(j);U(S.$$.fragment,N),N.forEach(c),b.forEach(c),y.forEach(c),M=h(v),L=f(v,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-1rtwic7"!==$(L)&&(L.innerHTML=""),R=h(v),q=f(v,"FORM",{});var I=u(q);F=f(I,"BUTTON",{type:!0,class:!0});var x=u(F);z=f(x,"DIV",{class:!0});var w=u(z);U(G.$$.fragment,w),w.forEach(c),x.forEach(c),I.forEach(c),J=h(v),K=f(v,"FORM",{});var D=u(K);Q=f(D,"BUTTON",{type:!0,class:!0});var V=u(Q);W=f(V,"DIV",{class:!0});var P=u(W);U(X.$$.fragment,P),P.forEach(c),V.forEach(c),D.forEach(c),Y=h(v),Z=f(v,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-17db9va"!==$(Z)&&(Z.innerHTML=""),v.forEach(c),g.forEach(c),ee=h(p),ie=f(p,"DIV",{class:!0});var C=u(ie);me=f(C,"SPAN",{class:!0,"data-svelte-h":!0}),"svelte-10ns923"!==$(me)&&(me.textContent="あいて"),ue=h(C),he=f(C,"DIV",{class:!0});var _=u(he);for(let e=0;e<Be.length;e+=1)Be[e].l(_);_.forEach(c),C.forEach(c),de=h(p),ge=f(p,"DIV",{});var A=u(ge);ve=f(A,"P",{class:!0});var B=u(ve);Le.l(B),B.forEach(c),A.forEach(c),ye=h(p),$e=f(p,"DIV",{class:!0});var O=u($e);be=f(O,"SPAN",{class:!0,"data-svelte-h":!0}),"svelte-mhotnc"!==$(be)&&(be.textContent="あなた"),ke=h(O),Ne=f(O,"DIV",{class:!0});var H=u(Ne);for(let e=0;e<qe.length;e+=1)qe[e].l(H);H.forEach(c),O.forEach(c),Ie=h(p),xe=f(p,"DIV",{class:!0});var te=u(xe);we=f(te,"DIV",{class:!0});var ae=u(we);Ee=f(ae,"SPAN",{class:!0});var ne=u(Ee);Te=k(ne,e[9]),ne.forEach(c),je=h(ae),De&&De.l(ae),ae.forEach(c),te.forEach(c),p.forEach(c),m.forEach(c),this.h()},h(){g(a,"class","cTitlePartStyle"),g(i,"class","text-lg"),g(j,"class","cIconDivStyle"),g(T,"type","submit"),g(T,"class","cIconButtonStyle"),g(L,"class","flex-grow"),g(z,"class","cIconDivStyle"),g(F,"type","submit"),g(F,"class","cIconButtonStyle"),g(W,"class","cIconDivStyle"),g(Q,"type","submit"),g(Q,"class","cIconButtonStyle"),g(Z,"class","mr-4"),g(r,"class","cInputFormAndMessagePartStyle"),g(l,"class","m-4"),g(me,"class","block mt-1 ml-2"),g(he,"class",fe),g(ie,"class",pe),g(ve,"class","text-center text-lg"),g(be,"class","block mt-1 ml-2"),g(Ne,"class",fe),g($e,"class",pe),g(Ee,"class","text-lg"),g(we,"class","cInputFormAndMessagePartStyle"),g(xe,"class","m-4"),g(s,"class","cContentPartStyle !min-w-[300px] !max-w-[600px]"),g(t,"class","cRouteBodyStyle")},m(c,m){o(c,t,m),v(t,a),v(t,n),v(t,s),v(s,l),v(l,r),v(r,i),v(r,d),v(r,E),v(E,T),v(T,j),A(S,j,null),v(r,M),v(r,L),v(r,R),v(r,q),v(q,F),v(F,z),A(G,z,null),v(r,J),v(r,K),v(K,Q),v(Q,W),A(X,W,null),v(r,Y),v(r,Z),v(s,ee),v(s,ie),v(ie,me),v(ie,ue),v(ie,he);for(let e=0;e<Be.length;e+=1)Be[e]&&Be[e].m(he,null);v(s,de),v(s,ge),v(ge,ve),Le.m(ve,null),v(s,ye),v(s,$e),v($e,be),v($e,ke),v($e,Ne);for(let e=0;e<qe.length;e+=1)qe[e]&&qe[e].m(Ne,null);v(s,Ie),v(s,xe),v(xe,we),v(we,Ee),v(Ee,Te),v(we,je),~Se&&Ge[Se].m(we,null),Ve=!0,Pe||(Ce=[y(E,"submit",N(e[11])),y(q,"submit",N(e[14])),y(K,"submit",N(e[15]))],Pe=!0)},p(e,t){if(24&t[0]){let a;for(Ae=O(e[3]),a=0;a<Ae.length;a+=1){const n=ae(e,Ae,a);Be[a]?(Be[a].p(n,t),D(Be[a],1)):(Be[a]=ne(n),Be[a].c(),D(Be[a],1),Be[a].m(he,null))}for(V(),a=Ae.length;a<Be.length;a+=1)Oe(a);C()}if(He===(He=Me(e))&&Le?Le.p(e,t):(Le.d(1),Le=He(e),Le&&(Le.c(),Le.m(ve,null))),7&t[0]){let a;for(Re=O(e[2]),a=0;a<Re.length;a+=1){const n=te(e,Re,a);qe[a]?(qe[a].p(n,t),D(qe[a],1)):(qe[a]=re(n),qe[a].c(),D(qe[a],1),qe[a].m(Ne,null))}for(V(),a=Re.length;a<qe.length;a+=1)Fe(a);C()}(!Ve||512&t[0])&&I(Te,e[9]);let a=Se;Se=Je(e),Se===a?~Se&&Ge[Se].p(e,t):(De&&(V(),P(Ge[a],1,1,(()=>{Ge[a]=null})),C()),~Se?(De=Ge[Se],De?De.p(e,t):(De=Ge[Se]=ze[Se](e),De.c()),D(De,1),De.m(we,null)):De=null)},i(e){if(!Ve){D(S.$$.fragment,e),D(G.$$.fragment,e),D(X.$$.fragment,e);for(let e=0;e<Ae.length;e+=1)D(Be[e]);for(let e=0;e<Re.length;e+=1)D(qe[e]);D(De),Ve=!0}},o(e){P(S.$$.fragment,e),P(G.$$.fragment,e),P(X.$$.fragment,e),Be=Be.filter(Boolean);for(let t=0;t<Be.length;t+=1)P(Be[t]);qe=qe.filter(Boolean);for(let t=0;t<qe.length;t+=1)P(qe[t]);P(De),Ve=!1},d(e){e&&c(t),B(S),B(G),B(X),x(Be,e),Le.d(),x(qe,e),~Se&&Ge[Se].d(),Pe=!1,w(Ce)}}}const pe="min-h-[220px] min-w-[300px] md:min-w-[600px] border bg-white rounded-xl",fe="flex flex-wrap justify-between gap-y-1 p-4",ue="px-2 py-1 rounded h-full";function he(e){return{type:"component",component:e,backdropClasses:"fixed inset-0 !bg-gray-300/90"}}function de(e,t,n){let{data:s}=t,l=[],r=[];let o,c,i,m,p,f,u,h=-1,d=-1;function g(e){const t=1===c.type.length?c.type[0]:c.type[a(2)];let s;n(6,({isOwnAttack:s,attackPokeName:i,attackType:m,defenseType:p}=function(e,t,a,n){const s=e.speed>=t.speed;return{isOwnAttack:s,attackPokeName:s?e.jaName:t.jaName,attackType:s?a:n,defenseType:s?n:a}}(o,c,e,t)),i,n(7,m),n(8,p)),({damageRatio:f,result:u}=function(e,t,a){const n=function(e,t){const{doubleDamageTo:a,halfDamageTo:n,noDamageTo:s}=e.damageRelations,l={double:a,half:n,no:s};for(const[r,o]of Object.entries(l))if(o.includes(t))return r;return"default"}(t,a.enName);return{damageRatio:n,result:{double:e?"win":"lose",half:e?"lose":"win",no:e?"lose":"win",default:"draw"}[n]}}(s,m,p)),n(1,$="term")}let v,y,$="init";const b=M();return e.$$set=e=>{"data"in e&&n(16,s=e.data)},e.$$.update=()=>{3&e.$$.dirty[0]&&($||h)&&function(){const e={init:"ポケモン を よびだしてね",select_poke:-1==h?"ポケモン をえらんでね":`${l[h].jaName} で しょうぶ する？`,select_type:"タイプ をえらんでね",term:{win:"あなた の かち！",lose:"あなた の まけ...",draw:"あいこ"}[u]};n(9,v=e[$]),n(10,y={double:"ばつぐん だ！",half:"いまひとつ...",no:"こうかは なし...",default:"まずまず だ"}[f])}()},[h,$,l,r,d,o,i,m,p,v,y,async function(){n(2,l=[]),n(3,r=[]),n(0,h=-1),n(4,d=-1);const e=L(s.pokeItems,"pokeId"),t=R(e,6);n(2,l=t.slice(0,3)),n(3,r=t.slice(3,6)),n(1,$="select_poke")},function(){n(4,d=a(3)),n(5,o=l[h]),c=r[d],n(1,$="select_type")},g,function(){const e=he({ref:Z,props:{}});b.trigger(e)},function(){const e=he({ref:Q,props:{}});b.trigger(e)},s,e=>n(0,h=e),(e,t)=>{"Enter"!==t.key&&" "!==t.key||n(0,h=e)},e=>g(e)]}class ge extends j{constructor(e){super(),S(this,e,de,me,l,{data:16},null,[-1,-1])}}export{ge as component,F as universal};
