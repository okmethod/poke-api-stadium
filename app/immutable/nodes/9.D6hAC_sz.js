import{b as ie}from"../chunks/fetchStaticData.uM2cD0EE.js";import{P as Ie,F as we}from"../chunks/common.3e1mQu3z.js";import{a as Se,e as h,b as T,c as p,d as y,x as J,h as j,f,j as d,l as X,m as o,u as ce,z as Me,v as Ee,B as Pe,C as xe,D as Be,t as H,i as W,n as Q,p as ue,y as De}from"../chunks/scheduler.CUIDQL-i.js";import{S as Ce,i as Ve,b as de,d as fe,m as me,a as he,t as pe,e as _e}from"../chunks/index.DvDG_np6.js";import{e as ve}from"../chunks/each.DQcc57QZ.js";import{I as ye}from"../chunks/Icon.jS-m3xkb.js";import{i as Ae,a as Ne,b as Te,c as je,d as Fe,e as Re,f as Oe}from"../chunks/createPokeBody.B3WQ_gmC.js";import{p as He}from"../chunks/collections.CVaw1mrQ.js";import{f as ge}from"../chunks/numerics.BpAOxbdF.js";async function We({fetch:c}){await ie(c,"load to cache");const s=await t();async function t(){const n=Array.from({length:Ie},(l,i)=>we+i).map(async l=>{const i=await ie(window.fetch,l.toString());return i&&i.imageUrl!==null?a(l,i):null});return(await Promise.all(n)).filter(l=>l!==null)}function a(e,n){return{jaName:n.jaName,imageUrl:n.imageUrl??"not_found",weight:n.weight}}return{pokeItems:s}}const nt=Object.freeze(Object.defineProperty({__proto__:null,load:We},Symbol.toStringTag,{value:"Module"}));function Ue(c,s,t){const{Bodies:a,Composite:e,Constraint:n}=Matter,r=e.create(),l=a.rectangle(t.x,t.y,c,s,{label:"seesawStick",mass:10,render:{fillStyle:"#888888"}}),i=n.create({pointA:{x:t.x,y:t.y},bodyB:l,pointB:{x:0,y:0},stiffness:1,length:0});return e.add(r,l),e.add(r,i),{seesaw:r,seesawStick:l}}function be(c,s,t){const a=c.slice();return a[20]=s[t],a}function Le(c){let s,t;return{c(){s=h("span"),t=H(c[3]),this.h()},l(a){s=p(a,"SPAN",{class:!0});var e=y(s);t=W(e,c[3]),e.forEach(f),this.h()},h(){d(s,"class","text-lg")},m(a,e){X(a,s,e),o(s,t)},p(a,e){e&8&&Q(t,a[3])},d(a){a&&f(s)}}}function ze(c){let s,t=ve(c[2]),a=[];for(let e=0;e<t.length;e+=1)a[e]=ke(be(c,t,e));return{c(){for(let e=0;e<a.length;e+=1)a[e].c();s=ue()},l(e){for(let n=0;n<a.length;n+=1)a[n].l(e);s=ue()},m(e,n){for(let r=0;r<a.length;r+=1)a[r]&&a[r].m(e,n);X(e,s,n)},p(e,n){if(n&4){t=ve(e[2]);let r;for(r=0;r<t.length;r+=1){const l=be(e,t,r);a[r]?a[r].p(l,n):(a[r]=ke(l),a[r].c(),a[r].m(s.parentNode,s))}for(;r<a.length;r+=1)a[r].d(1);a.length=t.length}},d(e){e&&f(s),De(a,e)}}}function ke(c){let s,t,a,e=c[20].jaName+"",n,r,l,i,k=ge(c[20].weight,"weight")+"",M,I;return{c(){s=h("div"),t=h("span"),a=H("["),n=H(e),r=H("]"),l=T(),i=h("span"),M=H(k),I=T(),this.h()},l(u){s=p(u,"DIV",{class:!0});var m=y(s);t=p(m,"SPAN",{class:!0});var g=y(t);a=W(g,"["),n=W(g,e),r=W(g,"]"),g.forEach(f),l=j(m),i=p(m,"SPAN",{class:!0});var w=y(i);M=W(w,k),w.forEach(f),I=j(m),m.forEach(f),this.h()},h(){d(t,"class","text-base"),d(i,"class","text-xl bold"),d(s,"class","flex flex-col items-center")},m(u,m){X(u,s,m),o(s,t),o(t,a),o(t,n),o(t,r),o(s,l),o(s,i),o(i,M),o(s,I)},p(u,m){m&4&&e!==(e=u[20].jaName+"")&&Q(n,e),m&4&&k!==(k=ge(u[20].weight,"weight")+"")&&Q(M,k)},d(u){u&&f(s)}}}function Ke(c){let s,t,a='<h1 class="cTitleStyle">ポケモンおもさくらべ 改</h1>',e,n,r,l,i,k="ポケモン を よびだす",M,I,u,m,g,w,E,N,x,B,D,C,v="こたえあわせ",R,_,S,V,Y,F,U,G,Z;g=new ye({props:{icon:"mdi:pokeball",class:"cIconStyle"}}),V=new ye({props:{icon:"mdi:pokeball",class:"cIconStyle"}});function $(b,A){return b[1]?ze:Le}let L=$(c),P=L(c);return{c(){s=h("div"),t=h("div"),t.innerHTML=a,e=T(),n=h("div"),r=h("div"),l=h("div"),i=h("span"),i.textContent=k,M=T(),I=h("form"),u=h("button"),m=h("div"),de(g.$$.fragment),w=T(),E=h("div"),N=h("div"),x=T(),B=h("div"),D=h("div"),C=h("span"),C.textContent=v,R=T(),_=h("button"),S=h("div"),de(V.$$.fragment),Y=T(),F=h("div"),P.c(),this.h()},l(b){s=p(b,"DIV",{class:!0});var A=y(s);t=p(A,"DIV",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-ooobby"&&(t.innerHTML=a),e=j(A),n=p(A,"DIV",{class:!0});var O=y(n);r=p(O,"DIV",{class:!0});var ee=y(r);l=p(ee,"DIV",{class:!0});var z=y(l);i=p(z,"SPAN",{class:!0,"data-svelte-h":!0}),J(i)!=="svelte-mp7i3f"&&(i.textContent=k),M=j(z),I=p(z,"FORM",{});var te=y(I);u=p(te,"BUTTON",{type:!0,class:!0});var se=y(u);m=p(se,"DIV",{class:!0});var ae=y(m);fe(g.$$.fragment,ae),ae.forEach(f),se.forEach(f),te.forEach(f),z.forEach(f),ee.forEach(f),w=j(O),E=p(O,"DIV",{class:!0});var ne=y(E);N=p(ne,"DIV",{class:!0}),y(N).forEach(f),ne.forEach(f),x=j(O),B=p(O,"DIV",{class:!0});var K=y(B);D=p(K,"DIV",{class:!0});var q=y(D);C=p(q,"SPAN",{class:!0,"data-svelte-h":!0}),J(C)!=="svelte-1mxmuak"&&(C.textContent=v),R=j(q),_=p(q,"BUTTON",{type:!0,class:!0});var re=y(_);S=p(re,"DIV",{class:!0});var le=y(S);fe(V.$$.fragment,le),le.forEach(f),re.forEach(f),q.forEach(f),Y=j(K),F=p(K,"DIV",{class:!0});var oe=y(F);P.l(oe),oe.forEach(f),K.forEach(f),O.forEach(f),A.forEach(f),this.h()},h(){d(t,"class","cTitlePartStyle"),d(i,"class","text-lg"),d(m,"class","cIconDivStyle"),d(u,"type","submit"),d(u,"class","cIconButtonStyle"),d(l,"class","cInputFormAndMessagePartStyle"),d(r,"class","flex items-center justify-center"),d(N,"class","w-80 h-80 bg-gray-300 border border-black"),d(E,"class","m-4"),d(C,"class","text-lg"),d(S,"class","cIconDivStyle"),d(_,"type","button"),d(_,"class","cIconButtonStyle"),d(D,"class","cInputFormAndMessagePartStyle justify-center"),d(F,"class","cInputFormAndMessagePartStyle justify-center"),d(B,"class","m-4 mt-2 space-y-4"),d(n,"class","cContentPartStyle"),d(s,"class","cRouteBodyStyle")},m(b,A){X(b,s,A),o(s,t),o(s,e),o(s,n),o(n,r),o(r,l),o(l,i),o(l,M),o(l,I),o(I,u),o(u,m),me(g,m,null),o(n,w),o(n,E),o(E,N),c[7](N),o(n,x),o(n,B),o(B,D),o(D,C),o(D,R),o(D,_),o(_,S),me(V,S,null),o(B,Y),o(B,F),P.m(F,null),U=!0,G||(Z=[ce(I,"submit",Me(c[4])),ce(_,"click",c[5])],G=!0)},p(b,[A]){L===(L=$(b))&&P?P.p(b,A):(P.d(1),P=L(b),P&&(P.c(),P.m(F,null)))},i(b){U||(he(g.$$.fragment,b),he(V.$$.fragment,b),U=!0)},o(b){pe(g.$$.fragment,b),pe(V.$$.fragment,b),U=!1},d(b){b&&f(s),_e(g),c[7](null),_e(V),P.d(),G=!1,Ee(Z)}}}let qe=!1,Xe=2;function Ye(c,s,t){let{data:a}=s,e,n,r,l,i,k,M,I,u;Pe(async()=>{l=Ae(),i=Ne(),k=Te(l,e),n=e.clientWidth*.5,r=e.clientHeight*.5,M=je(l,k);const v=await Fe(e),R=e.clientHeight*.8;({seesaw:I,seesawStick:u}=Ue(R,20,{x:n,y:r*1.5}));{Matter.World.add(l.world,v),Matter.World.add(l.world,I),Matter.Runner.run(i,l),Matter.Render.run(k);let _=Re(l.world,M,e,{isHolding:qe});if(!_)return;Object.entries(_).forEach(([S,V])=>{e.addEventListener(S,V)})}}),xe(()=>{{Matter.Render.stop(k),Matter.Runner.stop(i),Matter.World.clear(l.world,!1),Matter.Engine.clear(l);return}});let m=!1,g=!1,w=[],E=[];async function N(){D(),t(3,x="じゅんびちゅう..."),t(2,w=He(a.pokeItems,Xe));const v=w.map((_,S)=>Oe(_.imageUrl,!1,{x:n+(S===0?-n*.6:n*.6),y:r*1.1}));(await Promise.all(v)).forEach((_,S)=>{Matter.Body.setMass(_,w[S].weight/10),Matter.Body.setStatic(_,!0),Matter.World.add(l.world,[_]),E.push(_)}),await new Promise(_=>setTimeout(_,500)),t(3,x="じゅんび かんりょう！"),m=!0}let x="";function B(){if(w.length==0){t(3,x="さきに ポケモンを よびだしてね");return}if(m===!1){t(3,x="じゅんびちゅう...");return}g===!1&&E.forEach(v=>{Matter.Body.setStatic(v,!1),Matter.Body.applyForce(v,{x:0,y:0},{x:0,y:.01}),Matter.Body.setVelocity(v,{x:0,y:0}),Matter.Body.setAngularVelocity(v,0)}),t(1,g=!0)}function D(){t(3,x=""),m=!1,t(1,g=!1),E.forEach(v=>Matter.World.remove(l.world,v)),E=[],u&&(Matter.Body.setAngle(u,0),Matter.Body.setAngularVelocity(u,0),Matter.Body.setPosition(u,{x:n,y:r*1.5}))}function C(v){Be[v?"unshift":"push"](()=>{e=v,t(0,e)})}return c.$$set=v=>{"data"in v&&t(6,a=v.data)},[e,g,w,x,N,B,a,C]}class rt extends Ce{constructor(s){super(),Ve(this,s,Ye,Ke,Se,{data:6})}}export{rt as component,nt as universal};
