import{b as ie}from"../chunks/fetchStaticData.pHlb-rVf.js";import{P as be,F as Ee}from"../chunks/common.3e1mQu3z.js";import{a as Se,e as h,b as N,c as p,d as g,x as J,h as V,f,j as d,l as q,m as l,u as ce,z as Pe,v as De,B as Me,C as we,D as xe,t as O,i as F,n as Q,p as ue,y as Ce}from"../chunks/scheduler.CUIDQL-i.js";import{S as Ne,i as Ve,b as de,d as fe,m as me,a as he,t as pe,e as _e}from"../chunks/index.DvDG_np6.js";import{e as ve}from"../chunks/each.DQcc57QZ.js";import{I as ge}from"../chunks/Icon.jS-m3xkb.js";import{i as Te,a as je,b as Be,c as Re,d as Ae,e as Oe,f as Fe}from"../chunks/createPokeBody.B3WQ_gmC.js";import{p as He}from"../chunks/collections.CVaw1mrQ.js";import{f as ye}from"../chunks/numerics.BpAOxbdF.js";async function Ue({fetch:u}){await ie(u,"load to cache");const t=await n();async function n(){const a=Array.from({length:be},(o,c)=>Ee+c).map(async o=>{const c=await ie(window.fetch,o.toString());return c&&c.imageUrl!==null?s(o,c):null});return(await Promise.all(a)).filter(o=>o!==null)}function s(e,a){return{jaName:a.jaName,imageUrl:a.imageUrl??"not_found",height:a.height}}return{pokeItems:t}}const st=Object.freeze(Object.defineProperty({__proto__:null,load:Ue},Symbol.toStringTag,{value:"Module"}));function Ie(u,t,n){const s=u.slice();return s[15]=t[n],s}function We(u){let t,n;return{c(){t=h("span"),n=O(u[3]),this.h()},l(s){t=p(s,"SPAN",{class:!0});var e=g(t);n=F(e,u[3]),e.forEach(f),this.h()},h(){d(t,"class","text-lg")},m(s,e){q(s,t,e),l(t,n)},p(s,e){e&8&&Q(n,s[3])},d(s){s&&f(t)}}}function ze(u){let t,n=ve(u[2]),s=[];for(let e=0;e<n.length;e+=1)s[e]=ke(Ie(u,n,e));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=ue()},l(e){for(let a=0;a<s.length;a+=1)s[a].l(e);t=ue()},m(e,a){for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,a);q(e,t,a)},p(e,a){if(a&4){n=ve(e[2]);let r;for(r=0;r<n.length;r+=1){const o=Ie(e,n,r);s[r]?s[r].p(o,a):(s[r]=ke(o),s[r].c(),s[r].m(t.parentNode,t))}for(;r<s.length;r+=1)s[r].d(1);s.length=n.length}},d(e){e&&f(t),Ce(s,e)}}}function ke(u){let t,n,s,e=u[15].jaName+"",a,r,o,c,E=ye(u[15].height,"height")+"",k,I;return{c(){t=h("div"),n=h("span"),s=O("["),a=O(e),r=O("]"),o=N(),c=h("span"),k=O(E),I=N(),this.h()},l(v){t=p(v,"DIV",{class:!0});var m=g(t);n=p(m,"SPAN",{class:!0});var b=g(n);s=F(b,"["),a=F(b,e),r=F(b,"]"),b.forEach(f),o=V(m),c=p(m,"SPAN",{class:!0});var w=g(c);k=F(w,E),w.forEach(f),I=V(m),m.forEach(f),this.h()},h(){d(n,"class","text-base"),d(c,"class","text-xl bold"),d(t,"class","flex flex-col items-center")},m(v,m){q(v,t,m),l(t,n),l(n,s),l(n,a),l(n,r),l(t,o),l(t,c),l(c,k),l(t,I)},p(v,m){m&4&&e!==(e=v[15].jaName+"")&&Q(a,e),m&4&&E!==(E=ye(v[15].height,"height")+"")&&Q(k,E)},d(v){v&&f(t)}}}function Le(u){let t,n,s='<h1 class="cTitleStyle">ポケモンたかさくらべ 改</h1>',e,a,r,o,c,E="ポケモン を よびだす",k,I,v,m,b,w,x,i,D,_,S,T,X="こたえあわせ",K,C,R,j,$,B,H,G,Y;b=new ge({props:{icon:"mdi:pokeball",class:"cIconStyle"}}),j=new ge({props:{icon:"mdi:pokeball",class:"cIconStyle"}});function Z(y,M){return y[1]?ze:We}let U=Z(u),P=U(u);return{c(){t=h("div"),n=h("div"),n.innerHTML=s,e=N(),a=h("div"),r=h("div"),o=h("div"),c=h("span"),c.textContent=E,k=N(),I=h("form"),v=h("button"),m=h("div"),de(b.$$.fragment),w=N(),x=h("div"),i=h("div"),D=N(),_=h("div"),S=h("div"),T=h("span"),T.textContent=X,K=N(),C=h("button"),R=h("div"),de(j.$$.fragment),$=N(),B=h("div"),P.c(),this.h()},l(y){t=p(y,"DIV",{class:!0});var M=g(t);n=p(M,"DIV",{class:!0,"data-svelte-h":!0}),J(n)!=="svelte-eaqgzc"&&(n.innerHTML=s),e=V(M),a=p(M,"DIV",{class:!0});var A=g(a);r=p(A,"DIV",{class:!0});var ee=g(r);o=p(ee,"DIV",{class:!0});var W=g(o);c=p(W,"SPAN",{class:!0,"data-svelte-h":!0}),J(c)!=="svelte-mp7i3f"&&(c.textContent=E),k=V(W),I=p(W,"FORM",{});var te=g(I);v=p(te,"BUTTON",{type:!0,class:!0});var ae=g(v);m=p(ae,"DIV",{class:!0});var se=g(m);fe(b.$$.fragment,se),se.forEach(f),ae.forEach(f),te.forEach(f),W.forEach(f),ee.forEach(f),w=V(A),x=p(A,"DIV",{class:!0});var ne=g(x);i=p(ne,"DIV",{class:!0}),g(i).forEach(f),ne.forEach(f),D=V(A),_=p(A,"DIV",{class:!0});var z=g(_);S=p(z,"DIV",{class:!0});var L=g(S);T=p(L,"SPAN",{class:!0,"data-svelte-h":!0}),J(T)!=="svelte-1mxmuak"&&(T.textContent=X),K=V(L),C=p(L,"BUTTON",{type:!0,class:!0});var re=g(C);R=p(re,"DIV",{class:!0});var le=g(R);fe(j.$$.fragment,le),le.forEach(f),re.forEach(f),L.forEach(f),$=V(z),B=p(z,"DIV",{class:!0});var oe=g(B);P.l(oe),oe.forEach(f),z.forEach(f),A.forEach(f),M.forEach(f),this.h()},h(){d(n,"class","cTitlePartStyle"),d(c,"class","text-lg"),d(m,"class","cIconDivStyle"),d(v,"type","submit"),d(v,"class","cIconButtonStyle"),d(o,"class","cInputFormAndMessagePartStyle"),d(r,"class","flex items-center justify-center"),d(i,"class","w-80 h-80 bg-gray-300 border border-black"),d(x,"class","m-4"),d(T,"class","text-lg"),d(R,"class","cIconDivStyle"),d(C,"type","button"),d(C,"class","cIconButtonStyle"),d(S,"class","cInputFormAndMessagePartStyle justify-center"),d(B,"class","cInputFormAndMessagePartStyle justify-center"),d(_,"class","m-4 mt-2 space-y-4"),d(a,"class","cContentPartStyle"),d(t,"class","cRouteBodyStyle")},m(y,M){q(y,t,M),l(t,n),l(t,e),l(t,a),l(a,r),l(r,o),l(o,c),l(o,k),l(o,I),l(I,v),l(v,m),me(b,m,null),l(a,w),l(a,x),l(x,i),u[7](i),l(a,D),l(a,_),l(_,S),l(S,T),l(S,K),l(S,C),l(C,R),me(j,R,null),l(_,$),l(_,B),P.m(B,null),H=!0,G||(Y=[ce(I,"submit",Pe(u[4])),ce(C,"click",u[5])],G=!0)},p(y,[M]){U===(U=Z(y))&&P?P.p(y,M):(P.d(1),P=U(y),P&&(P.c(),P.m(B,null)))},i(y){H||(he(b.$$.fragment,y),he(j.$$.fragment,y),H=!0)},o(y){pe(b.$$.fragment,y),pe(j.$$.fragment,y),H=!1},d(y){y&&f(t),_e(b),u[7](null),_e(j),P.d(),G=!1,De(Y)}}}let qe=!1,Ke=3;function $e(u,t,n){let{data:s}=t,e,a,r,o,c;Me(async()=>{a=Te(),r=je(),o=Be(a,e),c=Re(a,o);const i=await Ae(e);{Matter.World.add(a.world,i),Matter.Runner.run(r,a),Matter.Render.run(o);let D=Oe(a.world,c,e,{isHolding:qe});if(!D)return;Object.entries(D).forEach(([_,S])=>{e.addEventListener(_,S)})}}),we(()=>{{Matter.Render.stop(o),Matter.Runner.stop(r),Matter.World.clear(a.world,!1),Matter.Engine.clear(a);return}});let E=!1,k=[],I=[];async function v(){w(),n(2,k=He(s.pokeItems,Ke));const i=k.map((_,S)=>Fe(_.imageUrl,100,{x:50+S*100,y:20}));(await Promise.all(i)).forEach(_=>{Matter.World.add(a.world,[_]),I.push(_)})}let m="";function b(){if(k.length==0){n(3,m="さきに ポケモンを よびだしてね");return}E===!1&&I.forEach((i,D)=>{const _=k[D].height/10;Matter.Body.scale(i,_,_),i.render.sprite&&(i.render.sprite.xScale=i.render.sprite.xScale*_,i.render.sprite.yScale=i.render.sprite.yScale*_)}),n(1,E=!0)}function w(){n(3,m=""),n(1,E=!1),I.forEach(i=>Matter.World.remove(a.world,i)),I=[]}function x(i){xe[i?"unshift":"push"](()=>{e=i,n(0,e)})}return u.$$set=i=>{"data"in i&&n(6,s=i.data)},[e,E,k,m,v,b,s,x]}class nt extends Ne{constructor(t){super(),Ve(this,t,$e,Le,Se,{data:6})}}export{nt as component,st as universal};
