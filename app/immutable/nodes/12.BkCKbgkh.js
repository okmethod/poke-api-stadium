import{m as t,c as e,g as a}from"../chunks/makePokeData.client.BOrPvhSn.js";import{c as n,T as s}from"../chunks/type.DlO2-6e_.js";import{f as o,I as c}from"../chunks/Icon.IWEbX5rG.js";import{P as l,F as i,d as r,e as u}from"../chunks/common.6fnE-zdM.js";import{s as f,e as d,a as m,c as h,b as p,D as y,f as g,g as b,h as v,i as k,j as w,G as j,t as S,d as I,O as $,v as N,E as x,k as P,w as T}from"../chunks/scheduler.CKlfITpV.js";import{S as D,i as O,a as E,c as F,t as B,b as C,d as V,m as R,e as U,g as J}from"../chunks/index.DneOF3-m.js";import{e as L}from"../chunks/each.BSaG3cXF.js";async function M(a,n){const s={},o=n.map((async n=>{try{const o=await t(a,n.toString()),c=e(o);s[n.toString()]=c}catch(o){console.error(`Failed to fetch data for pokeId ${n}:`,o)}}));return await Promise.all(o),s}async function z(t,e){const s={},o=e.map((async e=>{const o=await a(t,e.toString()),c=n(o);s[e]=c}));return await Promise.all(o),s}async function A(e,a){const n={},s=a.map((async a=>{try{const s=function(t){var e;return{"名前":t.jaName,"分類":t.jaGenus,"タイプ1":t.type1.jaName,"タイプ2":(null==(e=t.type2)?void 0:e.jaName)??null,"高さ":o(t.height,"height"),"重さ":o(t.weight,"weight"),"姿":t.shape,"伝説である":t.isLegendary||t.isMythical}}(await t(e,a.toString()));n[a.toString()]=s}catch(s){console.error(`Failed to fetch data for pokeId ${a}:`,s)}}));return await Promise.all(s),n}const _=Object.freeze(Object.defineProperty({__proto__:null,load:async function(){function t(t,e){return Array.from({length:e},((e,a)=>t+a))}return{downloadConfigs:[{id:"dlPokeJson",fileName:"staticPokeDict.json",label:"全ポケモン(通常) Json",makeFunction:M,keys:t(i,l)},{id:"dlAddPokeJson",fileName:"staticAddPokeDict.json",label:"全ポケモン(別ver) Json",makeFunction:M,keys:t(u,r)},{id:"dlTypeJson",fileName:"staticTypeDict.json",label:"全タイプJson",makeFunction:z,keys:Object.values(s)},{id:"dlPokenatorTuningCsv",fileName:"tuningPokenator.csv",label:"Pokenatorチューニング用CSV",makeFunction:A,keys:t(i,151)}]}}},Symbol.toStringTag,{value:"Module"}));async function G(t,e,a,n){try{let s;n?(s=await async function(t,e){const a=new Blob([t],{type:e}).stream().pipeThrough(new CompressionStream("gzip"));return await new Response(a).blob()}(t,a),e+=".gz"):s=new Blob([t],{type:a}),function(t,e){const a=URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)}(s,e)}catch(s){throw console.error(`failed to download ${e}:`,s),s}}function H(t,e,a){const n=t.slice();return n[6]=e[a],n[7]=e,n[8]=a,n}function q(t){let e,a,n,s,o,l,i,r,u,f,y,j,D,O,F,J,L,M,z,A,_,G,H,q,K=t[6].label+"";function Q(){t[3].call(s,t[7],t[8])}function W(){return t[4](t[6])}function X(){return t[5](t[6])}return f=new c({props:{icon:"mdi:download-box-outline",class:"cIconStyle"}}),J=new c({props:{icon:"mdi:zip-box-outline",class:"cIconStyle"}}),{c(){e=d("div"),a=d("div"),n=d("div"),s=d("input"),l=m(),i=d("form"),r=d("button"),u=d("div"),C(f.$$.fragment),j=m(),D=d("form"),O=d("button"),F=d("div"),C(J.$$.fragment),M=m(),z=d("span"),A=S(K),_=m(),this.h()},l(t){e=h(t,"DIV",{class:!0});var o=p(e);a=h(o,"DIV",{class:!0});var c=p(a);n=h(c,"DIV",{class:!0});var d=p(n);s=h(d,"INPUT",{type:!0,id:!0,class:!0}),l=g(d),i=h(d,"FORM",{});var m=p(i);r=h(m,"BUTTON",{type:!0,class:!0});var y=p(r);u=h(y,"DIV",{class:!0});var v=p(u);V(f.$$.fragment,v),v.forEach(b),y.forEach(b),m.forEach(b),j=g(d),D=h(d,"FORM",{});var k=p(D);O=h(k,"BUTTON",{type:!0,class:!0});var w=p(O);F=h(w,"DIV",{class:!0});var S=p(F);V(J.$$.fragment,S),S.forEach(b),w.forEach(b),k.forEach(b),M=g(d),z=h(d,"SPAN",{class:!0});var $=p(z);A=I($,K),$.forEach(b),d.forEach(b),c.forEach(b),_=g(o),o.forEach(b),this.h()},h(){v(s,"type","text"),v(s,"id",o=t[6].id),v(s,"class","border rounded px-4 py-1 h-full"),v(u,"class","cIconDivStyle"),v(r,"type","submit"),r.disabled=t[1],v(r,"class",y="cIconButtonStyle "+(t[1]?"!bg-gray-500":"")),v(F,"class","cIconDivStyle"),v(O,"type","submit"),O.disabled=t[1],v(O,"class",L="cIconButtonStyle "+(t[1]?"!bg-gray-500":"")),v(z,"class","cSpanTextStyle"),v(n,"class","cInputFormAndMessagePartStyle"),v(a,"class","flex flex-col md:flex-row space-x-3"),v(e,"class","m-4")},m(o,c){k(o,e,c),w(e,a),w(a,n),w(n,s),$(s,t[6].fileName),w(n,l),w(n,i),w(i,r),w(r,u),R(f,u,null),w(n,j),w(n,D),w(D,O),w(O,F),R(J,F,null),w(n,M),w(n,z),w(z,A),w(e,_),G=!0,H||(q=[N(s,"input",Q),N(i,"submit",x(W)),N(D,"submit",x(X))],H=!0)},p(e,a){t=e,(!G||1&a&&o!==(o=t[6].id))&&v(s,"id",o),1&a&&s.value!==t[6].fileName&&$(s,t[6].fileName),(!G||2&a)&&(r.disabled=t[1]),(!G||2&a&&y!==(y="cIconButtonStyle "+(t[1]?"!bg-gray-500":"")))&&v(r,"class",y),(!G||2&a)&&(O.disabled=t[1]),(!G||2&a&&L!==(L="cIconButtonStyle "+(t[1]?"!bg-gray-500":"")))&&v(O,"class",L),(!G||1&a)&&K!==(K=t[6].label+"")&&P(A,K)},i(t){G||(E(f.$$.fragment,t),E(J.$$.fragment,t),G=!0)},o(t){B(f.$$.fragment,t),B(J.$$.fragment,t),G=!1},d(t){t&&b(e),U(f),U(J),H=!1,T(q)}}}function K(t){let e,a,n,s,o,c='<h1 class="cTitleStyle">うらわざ</h1>',l=L(t[0].downloadConfigs),i=[];for(let u=0;u<l.length;u+=1)i[u]=q(H(t,l,u));const r=t=>B(i[t],1,1,(()=>{i[t]=null}));return{c(){e=d("div"),a=d("div"),a.innerHTML=c,n=m(),s=d("div");for(let t=0;t<i.length;t+=1)i[t].c();this.h()},l(t){e=h(t,"DIV",{class:!0});var o=p(e);a=h(o,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-19ephz6"!==y(a)&&(a.innerHTML=c),n=g(o),s=h(o,"DIV",{class:!0});var l=p(s);for(let e=0;e<i.length;e+=1)i[e].l(l);l.forEach(b),o.forEach(b),this.h()},h(){v(a,"class","cTitlePartStyle"),v(s,"class","cContentPartStyle !min-w-[300px] !max-w-[600px]"),v(e,"class","cRouteBodyStyle")},m(t,c){k(t,e,c),w(e,a),w(e,n),w(e,s);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(s,null);o=!0},p(t,[e]){if(7&e){let a;for(l=L(t[0].downloadConfigs),a=0;a<l.length;a+=1){const n=H(t,l,a);i[a]?(i[a].p(n,e),E(i[a],1)):(i[a]=q(n),i[a].c(),E(i[a],1),i[a].m(s,null))}for(J(),a=l.length;a<i.length;a+=1)r(a);F()}},i(t){if(!o){for(let t=0;t<l.length;t+=1)E(i[t]);o=!0}},o(t){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)B(i[e]);o=!1},d(t){t&&b(e),j(i,t)}}}function Q(t,e,a){let{data:n}=e,s=!1;async function o(t,e,n,o){a(1,s=!0);const c=await t(window.fetch,e),l=function(t){const e=t.lastIndexOf(".");return-1===e?"":t.substring(e+1)}(n);if("json"===l){const t=JSON.stringify(c,null,2);await G(t,n,"application/json",o)}else if("csv"===l){const t=function(t){const e=Object.values(t),a=Object.keys(t);if(0===a.length)return"";const n=Object.keys(e[0]);return["No",...n].join(",")+"\n"+a.map(((t,a)=>[t,...n.map((t=>null!==e[a][t]?e[a][t]:"null"))].join(","))).join("\n")}(c);console.log(t),await G(t,n,"application/json",o)}else console.log(`Unsupported file extension: ${l}`);a(1,s=!1)}return t.$$set=t=>{"data"in t&&a(0,n=t.data)},[n,s,o,function(t,e){t[e].fileName=this.value,a(0,n)},t=>o(t.makeFunction,t.keys,t.fileName,!1),t=>o(t.makeFunction,t.keys,t.fileName,!0)]}class W extends D{constructor(t){super(),O(this,t,Q,K,f,{data:0})}}export{W as component,_ as universal};
