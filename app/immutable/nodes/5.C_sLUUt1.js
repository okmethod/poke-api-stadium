import{s as ct,C as Ae,j as L,d as i,o as bt,e as p,t as Be,a as $,c as m,b,g as Ie,f as P,h,k as n,u as ve,l as Fe,q as Le,p as Z,v as Se,r as gt,n as ce}from"../chunks/scheduler.BwsJB9cj.js";import{S as ft,i as dt,a as F,g as be,t as N,c as ge,b as fe,d as de,m as he,e as pe}from"../chunks/index.DYD9MccB.js";import{e as ie}from"../chunks/each.B5RJuf3P.js";import{g as ht}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.D878t9nB.js";import{I as we,L as Dt,p as kt,g as xt,b as Ct}from"../chunks/numerics.Cnsa9iLX.js";import{P as pt}from"../chunks/PokeCardCompact.UkfKOVnB.js";function lt(s,e,t){const l=s.slice();return l[6]=e[t],l}function st(s){let e,t,l,a,r,c,v,d,_,D,f,x,I,V,E,w=ie(s[1]),C=[];for(let y=0;y<w.length;y+=1)C[y]=at(lt(s,w,y));return x=new we({props:{icon:"mdi:close",class:"w-5 h-5"}}),{c(){e=p("div"),t=p("div"),l=p("div"),a=p("div"),r=p("h2"),c=Be(s[0]),v=$(),d=p("div"),_=p("ul");for(let y=0;y<C.length;y+=1)C[y].c();D=$(),f=p("button"),fe(x.$$.fragment),this.h()},l(y){e=m(y,"DIV",{class:!0});var T=b(e);t=m(T,"DIV",{class:!0});var g=b(t);l=m(g,"DIV",{class:!0});var M=b(l);a=m(M,"DIV",{class:!0});var H=b(a);r=m(H,"H2",{class:!0});var ee=b(r);c=Ie(ee,s[0]),ee.forEach(i),v=P(H),d=m(H,"DIV",{class:!0});var O=b(d);_=m(O,"UL",{class:!0});var me=b(_);for(let j=0;j<C.length;j+=1)C[j].l(me);me.forEach(i),O.forEach(i),H.forEach(i),M.forEach(i),D=P(g),f=m(g,"BUTTON",{class:!0});var te=b(f);de(x.$$.fragment,te),te.forEach(i),g.forEach(i),T.forEach(i),this.h()},h(){h(r,"class","text-2xl font-bold"),h(_,"class","mt-4 list-decimal list-inside"),h(d,"class","overflow-y-auto flex-grow"),h(a,"class","p-4 flex flex-col h-full"),h(l,"class","w-96 h-96 bg-white"),h(f,"class","absolute top-1 right-6 z-10"),h(t,"class","relative"),h(e,"class","min-w-[400px]")},m(y,T){L(y,e,T),n(e,t),n(t,l),n(l,a),n(a,r),n(r,c),n(a,v),n(a,d),n(d,_);for(let g=0;g<C.length;g+=1)C[g]&&C[g].m(_,null);n(t,D),n(t,f),he(x,f,null),I=!0,V||(E=ve(f,"click",s[4]),V=!0)},p(y,T){if((!I||T&1)&&Fe(c,y[0]),T&2){w=ie(y[1]);let g;for(g=0;g<w.length;g+=1){const M=lt(y,w,g);C[g]?C[g].p(M,T):(C[g]=at(M),C[g].c(),C[g].m(_,null))}for(;g<C.length;g+=1)C[g].d(1);C.length=w.length}},i(y){I||(F(x.$$.fragment,y),I=!0)},o(y){N(x.$$.fragment,y),I=!1},d(y){y&&i(e),Le(C,y),pe(x),V=!1,E()}}}function at(s){let e,t=s[6].jaName+"",l;return{c(){e=p("li"),l=Be(t)},l(a){e=m(a,"LI",{});var r=b(e);l=Ie(r,t),r.forEach(i)},m(a,r){L(a,e,r),n(e,l)},p(a,r){r&2&&t!==(t=a[6].jaName+"")&&Fe(l,t)},d(a){a&&i(e)}}}function Et(s){let e,t,l=s[2][0]&&st(s);return{c(){l&&l.c(),e=Ae()},l(a){l&&l.l(a),e=Ae()},m(a,r){l&&l.m(a,r),L(a,e,r),t=!0},p(a,[r]){a[2][0]?l?(l.p(a,r),r&4&&F(l,1)):(l=st(a),l.c(),F(l,1),l.m(e.parentNode,e)):l&&(be(),N(l,1,1,()=>{l=null}),ge())},i(a){t||(F(l),t=!0)},o(a){N(l),t=!1},d(a){a&&i(e),l&&l.d(a)}}}function wt(s,e,t){let l,{title:a}=e,{pokeDataArray:r=[]}=e,{parent:c}=e;const v=ht();bt(s,v,_=>t(2,l=_));function d(){v.close()}return s.$$set=_=>{"title"in _&&t(0,a=_.title),"pokeDataArray"in _&&t(1,r=_.pokeDataArray),"parent"in _&&t(5,c=_.parent)},[a,r,l,v,d,c]}class yt extends ft{constructor(e){super(),dt(this,e,wt,Et,ct,{title:0,pokeDataArray:1,parent:5})}}function rt(s,e,t){const l=s.slice();return l[11]=e[t],l[13]=t,l}function nt(s,e,t){const l=s.slice();return l[11]=e[t],l[13]=t,l}function At(s){let e;return{c(){e=p("p"),this.h()},l(t){e=m(t,"P",{class:!0}),b(e).forEach(i),this.h()},h(){h(e,"class","h-[150px] w-[150px]")},m(t,l){L(t,e,l)},p:ce,i:ce,o:ce,d(t){t&&i(e)}}}function Bt(s){let e,t,l,a,r;return t=new pt({props:{pokeData:s[11].data}}),{c(){e=p("button"),fe(t.$$.fragment),this.h()},l(c){e=m(c,"BUTTON",{type:!0});var v=b(e);de(t.$$.fragment,v),v.forEach(i),this.h()},h(){h(e,"type","button")},m(c,v){L(c,e,v),he(t,e,null),l=!0,a||(r=ve(e,"click",s[5](s[13])),a=!0)},p(c,v){s=c;const d={};v&4&&(d.pokeData=s[11].data),t.$set(d)},i(c){l||(F(t.$$.fragment,c),l=!0)},o(c){N(t.$$.fragment,c),l=!1},d(c){c&&i(e),pe(t),a=!1,r()}}}function ot(s){let e,t,l,a,r;const c=[Bt,At],v=[];function d(_,D){return _[11].isUsed?1:0}return t=d(s),l=v[t]=c[t](s),{c(){e=p("div"),l.c(),a=$(),this.h()},l(_){e=m(_,"DIV",{class:!0});var D=b(e);l.l(D),a=P(D),D.forEach(i),this.h()},h(){h(e,"class","rounded-2xl border-2")},m(_,D){L(_,e,D),v[t].m(e,null),n(e,a),r=!0},p(_,D){let f=t;t=d(_),t===f?v[t].p(_,D):(be(),N(v[f],1,1,()=>{v[f]=null}),ge(),l=v[t],l?l.p(_,D):(l=v[t]=c[t](_),l.c()),F(l,1),l.m(e,a))},i(_){r||(F(l),r=!0)},o(_){N(l),r=!1},d(_){_&&i(e),v[t].d()}}}function It(s){let e;return{c(){e=p("p"),this.h()},l(t){e=m(t,"P",{class:!0}),b(e).forEach(i),this.h()},h(){h(e,"class","h-[150px] w-[150px]")},m(t,l){L(t,e,l)},p:ce,i:ce,o:ce,d(t){t&&i(e)}}}function Ft(s){let e,t;return e=new pt({props:{pokeData:s[11].data}}),{c(){fe(e.$$.fragment)},l(l){de(e.$$.fragment,l)},m(l,a){he(e,l,a),t=!0},p(l,a){const r={};a&1&&(r.pokeData=l[11].data),e.$set(r)},i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function Vt(s){let e,t="→";return{c(){e=p("span"),e.textContent=t,this.h()},l(l){e=m(l,"SPAN",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-lfd2u9"&&(e.textContent=t),this.h()},h(){h(e,"class","mx-2")},m(l,a){L(l,e,a)},d(l){l&&i(e)}}}function ut(s){let e,t,l,a,r,c;const v=[Ft,It],d=[];function _(f,x){return f[11]?0:1}t=_(s),l=d[t]=v[t](s);let D=s[13]<2&&Vt();return{c(){e=p("div"),l.c(),a=$(),D&&D.c(),r=Ae(),this.h()},l(f){e=m(f,"DIV",{class:!0});var x=b(e);l.l(x),x.forEach(i),a=P(f),D&&D.l(f),r=Ae(),this.h()},h(){h(e,"class","rounded-2xl border-2")},m(f,x){L(f,e,x),d[t].m(e,null),L(f,a,x),D&&D.m(f,x),L(f,r,x),c=!0},p(f,x){let I=t;t=_(f),t===I?d[t].p(f,x):(be(),N(d[I],1,1,()=>{d[I]=null}),ge(),l=d[t],l?l.p(f,x):(l=d[t]=v[t](f),l.c()),F(l,1),l.m(e,null))},i(f){c||(F(l),c=!0)},o(f){N(l),c=!1},d(f){f&&(i(e),i(a),i(r)),d[t].d(),D&&D.d(f)}}}function $t(s){let e,t,l='<h1 class="text-2xl font-bold">ポケモンしりとり</h1>',a,r,c,v,d,_="はじめから",D,f,x,I,V,E,w,C="ポケモン を よびだす",y,T,g,M,H,ee,O,me="",te,j,_e=s[0].length-2+"",De,Ve,le,q,se,K,$e,G,Oe="",Pe,ae,J,Ne,re,R,ke,Q,je="？",Te,ne,oe,ue,xe,z,Me,Ue;I=new we({props:{icon:"mdi:pokeball",class:"w-5 h-5"}}),M=new we({props:{icon:"mdi:pokeball",class:"w-5 h-5"}}),K=new we({props:{icon:"mdi:format-list-numbered",class:"w-5 h-5"}});let W=ie(s[2]),A=[];for(let u=0;u<W.length;u+=1)A[u]=ot(nt(s,W,u));const _t=u=>N(A[u],1,1,()=>{A[u]=null});let X=ie(s[0].slice(-2)),B=[];for(let u=0;u<X.length;u+=1)B[u]=ut(rt(s,X,u));const vt=u=>N(B[u],1,1,()=>{B[u]=null});return{c(){e=p("div"),t=p("div"),t.innerHTML=l,a=$(),r=p("div"),c=p("div"),v=p("div"),d=p("span"),d.textContent=_,D=$(),f=p("form"),x=p("button"),fe(I.$$.fragment),V=$(),E=p("div"),w=p("span"),w.textContent=C,y=$(),T=p("form"),g=p("button"),fe(M.$$.fragment),ee=$(),O=p("div"),O.innerHTML=me,te=$(),j=p("p"),De=Be(_e),Ve=$(),le=p("form"),q=p("button"),se=p("div"),fe(K.$$.fragment),$e=$(),G=p("div"),G.innerHTML=Oe,Pe=$(),ae=p("div"),J=p("div");for(let u=0;u<A.length;u+=1)A[u].c();Ne=$(),re=p("div"),R=p("div");for(let u=0;u<B.length;u+=1)B[u].c();ke=$(),Q=p("div"),Q.textContent=je,Te=$(),ne=p("div"),oe=p("div"),ue=p("span"),xe=Be(s[3]),this.h()},l(u){e=m(u,"DIV",{class:!0});var k=b(e);t=m(k,"DIV",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-gcopyy"&&(t.innerHTML=l),a=P(k),r=m(k,"DIV",{class:!0});var o=b(r);c=m(o,"DIV",{class:!0});var U=b(c);v=m(U,"DIV",{class:!0});var Ce=b(v);d=m(Ce,"SPAN",{class:!0,"data-svelte-h":!0}),Z(d)!=="svelte-2xvbig"&&(d.textContent=_),D=P(Ce),f=m(Ce,"FORM",{});var He=b(f);x=m(He,"BUTTON",{type:!0,class:!0});var Re=b(x);de(I.$$.fragment,Re),Re.forEach(i),He.forEach(i),Ce.forEach(i),V=P(U),E=m(U,"DIV",{class:!0});var S=b(E);w=m(S,"SPAN",{class:!0,"data-svelte-h":!0}),Z(w)!=="svelte-mp7i3f"&&(w.textContent=C),y=P(S),T=m(S,"FORM",{});var ze=b(T);g=m(ze,"BUTTON",{type:!0,class:!0});var qe=b(g);de(M.$$.fragment,qe),qe.forEach(i),ze.forEach(i),ee=P(S),O=m(S,"DIV",{class:!0,"data-svelte-h":!0}),Z(O)!=="svelte-1rtwic7"&&(O.innerHTML=me),te=P(S),j=m(S,"P",{class:!0});var Ke=b(j);De=Ie(Ke,_e),Ke.forEach(i),Ve=P(S),le=m(S,"FORM",{});var Ge=b(le);q=m(Ge,"BUTTON",{type:!0,class:!0});var Je=b(q);se=m(Je,"DIV",{class:!0});var Qe=b(se);de(K.$$.fragment,Qe),Qe.forEach(i),Je.forEach(i),Ge.forEach(i),$e=P(S),G=m(S,"DIV",{class:!0,"data-svelte-h":!0}),Z(G)!=="svelte-17db9va"&&(G.innerHTML=Oe),S.forEach(i),U.forEach(i),Pe=P(o),ae=m(o,"DIV",{class:!0});var We=b(ae);J=m(We,"DIV",{class:!0});var Xe=b(J);for(let Y=0;Y<A.length;Y+=1)A[Y].l(Xe);Xe.forEach(i),We.forEach(i),Ne=P(o),re=m(o,"DIV",{class:!0});var Ye=b(re);R=m(Ye,"DIV",{class:!0});var Ee=b(R);for(let Y=0;Y<B.length;Y+=1)B[Y].l(Ee);ke=P(Ee),Q=m(Ee,"DIV",{class:!0,"data-svelte-h":!0}),Z(Q)!=="svelte-3c13t"&&(Q.textContent=je),Ee.forEach(i),Ye.forEach(i),Te=P(o),ne=m(o,"DIV",{class:!0});var Ze=b(ne);oe=m(Ze,"DIV",{class:!0});var et=b(oe);ue=m(et,"SPAN",{class:!0});var tt=b(ue);xe=Ie(tt,s[3]),tt.forEach(i),et.forEach(i),Ze.forEach(i),o.forEach(i),k.forEach(i),this.h()},h(){h(t,"class","mb-2"),h(d,"class","text-lg"),h(x,"type","submit"),x.disabled=s[1],h(x,"class","px-2 py-1 text-white rounded h-full flex items-center bg-blue-500 hover:bg-blue-600"),h(v,"class","flex items-center space-x-3"),h(w,"class","text-lg"),h(g,"type","submit"),g.disabled=s[1],h(g,"class",H="px-2 py-1 text-white rounded h-full flex items-center "+(s[1]?"bg-gray-500":"bg-blue-500 hover:bg-blue-600")),h(O,"class","flex-grow"),h(j,"class","text-lg"),h(se,"class","w-5 h-5 flex-shrink-0"),h(q,"type","submit"),h(q,"class","px-2 py-1 text-white rounded h-full flex items-center bg-blue-500 hover:bg-blue-600"),h(G,"class","mr-4"),h(E,"class","flex items-center space-x-3"),h(c,"class","ml-4 space-y-4"),h(J,"class","flex flex-wrap justify-between p-4 space-x-2 bg-transparent"),h(ae,"class","space-y-5 border bg-white rounded-xl min-h-[200px] min-w-[300px]"),h(Q,"class","h-[150px] w-[150px] text-center text-xl rounded-2xl border-2"),h(R,"class","flex flex-wrap justify-between p-4 space-x-2 bg-transparent"),h(re,"class","space-y-5 border bg-white rounded-xl min-h-[200px] min-w-[300px]"),h(ue,"class","text-lg"),h(oe,"class","flex items-center space-x-3"),h(ne,"class","ml-4 space-y-4"),h(r,"class","space-y-5 min-w-[300px] max-w-[600px]"),h(e,"class","container mx-auto h-full w-9/12 ml-4")},m(u,k){L(u,e,k),n(e,t),n(e,a),n(e,r),n(r,c),n(c,v),n(v,d),n(v,D),n(v,f),n(f,x),he(I,x,null),n(c,V),n(c,E),n(E,w),n(E,y),n(E,T),n(T,g),he(M,g,null),n(E,ee),n(E,O),n(E,te),n(E,j),n(j,De),n(E,Ve),n(E,le),n(le,q),n(q,se),he(K,se,null),n(E,$e),n(E,G),n(r,Pe),n(r,ae),n(ae,J);for(let o=0;o<A.length;o+=1)A[o]&&A[o].m(J,null);n(r,Ne),n(r,re),n(re,R);for(let o=0;o<B.length;o+=1)B[o]&&B[o].m(R,null);n(R,ke),n(R,Q),n(r,Te),n(r,ne),n(ne,oe),n(oe,ue),n(ue,xe),z=!0,Me||(Ue=[ve(f,"submit",Se(s[6])),ve(T,"submit",Se(s[4])),ve(le,"submit",Se(s[7]))],Me=!0)},p(u,[k]){if((!z||k&2)&&(x.disabled=u[1]),(!z||k&2)&&(g.disabled=u[1]),(!z||k&2&&H!==(H="px-2 py-1 text-white rounded h-full flex items-center "+(u[1]?"bg-gray-500":"bg-blue-500 hover:bg-blue-600")))&&h(g,"class",H),(!z||k&1)&&_e!==(_e=u[0].length-2+"")&&Fe(De,_e),k&36){W=ie(u[2]);let o;for(o=0;o<W.length;o+=1){const U=nt(u,W,o);A[o]?(A[o].p(U,k),F(A[o],1)):(A[o]=ot(U),A[o].c(),F(A[o],1),A[o].m(J,null))}for(be(),o=W.length;o<A.length;o+=1)_t(o);ge()}if(k&1){X=ie(u[0].slice(-2));let o;for(o=0;o<X.length;o+=1){const U=rt(u,X,o);B[o]?(B[o].p(U,k),F(B[o],1)):(B[o]=ut(U),B[o].c(),F(B[o],1),B[o].m(R,ke))}for(be(),o=X.length;o<B.length;o+=1)vt(o);ge()}(!z||k&8)&&Fe(xe,u[3])},i(u){if(!z){F(I.$$.fragment,u),F(M.$$.fragment,u),F(K.$$.fragment,u);for(let k=0;k<W.length;k+=1)F(A[k]);for(let k=0;k<X.length;k+=1)F(B[k]);z=!0}},o(u){N(I.$$.fragment,u),N(M.$$.fragment,u),N(K.$$.fragment,u),A=A.filter(Boolean);for(let k=0;k<A.length;k+=1)N(A[k]);B=B.filter(Boolean);for(let k=0;k<B.length;k+=1)N(B[k]);z=!1},d(u){u&&i(e),pe(I),pe(M),pe(K),Le(A,u),Le(B,u),Me=!1,gt(Ue)}}}const it=3;function mt(s){return{ガ:"カ",ギ:"キ",グ:"ク",ゲ:"ケ",ゴ:"コ",ザ:"サ",ジ:"シ",ズ:"ス",ゼ:"セ",ゾ:"ソ",ダ:"タ",ヂ:"チ",ヅ:"ツ",デ:"テ",ド:"ト",バ:"ハ",ビ:"ヒ",ブ:"フ",ベ:"ヘ",ボ:"ホ",パ:"ハ",ピ:"ヒ",プ:"フ",ペ:"ヘ",ポ:"ホ",ァ:"ア",ィ:"イ",ゥ:"ウ",ェ:"エ",ォ:"オ",ャ:"ヤ",ュ:"ユ",ョ:"ヨ",ッ:"ツ"}[s]||s}function Pt(s){return mt(s.slice(0,1))}function ye(s){let e=s.slice(-1);return e==="ー"&&s.length>1&&(e=s.slice(-2,-1)),mt(e)}function Nt(s,e){if(s===null)return!0;const t=ye(s),l=Pt(e);return t===l}function Tt(s,e,t){const l=ht();let a=!1,r=[],c=[];async function v(){t(1,a=!0);try{const V=Array.from({length:Dt},(w,C)=>C+1);r=kt(V,it);const E=await Promise.all(r.slice(0,it).map(w=>xt(fetch,w.toString())));t(2,c=E.map((w,C)=>({id:C,data:w,isUsed:!1})))}catch{}t(1,a=!1)}let d=[null,null];function _(V){return()=>{var C;const E=((C=d.slice(-1)[0])==null?void 0:C.data.jaName)??null,w=c[V].data.jaName;if(!Nt(E,w)){t(3,D=`「${ye(E??"")}」 から はじまる ポケモン を えらんでね`);return}t(2,c[V].isUsed=!0,c),t(0,d=[...d,c[V]])}}let D;function f(){var C;if(d.length<3){t(3,D="ポケモン を よびだしてね");return}const V=((C=d.slice(-1)[0])==null?void 0:C.data.jaName)??"",E=ye(V);if(E==="ン"){t(3,D="ン で おわっちゃった...");return}const w=["そのちょうし！","いいぞ！","がんばれ！","すごい！","いけいけ！"];t(3,D=`${w[Ct(w.length)]} つぎは 「${ye(E)}」`)}function x(){t(2,c=[]),t(0,d=[null,null]),f()}function I(){const E={type:"component",component:{ref:yt,props:{title:"しりとりリスト",pokeDataArray:d.filter(w=>w!==null).map(w=>w.data)}},backdropClasses:"fixed inset-0 !bg-gray-300/90"};l.trigger(E)}return s.$$.update=()=>{s.$$.dirty&1&&d&&f()},[d,a,c,D,v,_,x,I]}class Ht extends ft{constructor(e){super(),dt(this,e,Tt,$t,ct,{})}}export{Ht as component};
