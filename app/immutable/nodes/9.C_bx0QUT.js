import{b as ce}from"../chunks/fetchStaticData.FR5GRQRJ.js";import{P as we,F as Se}from"../chunks/common.3e1mQu3z.js";import{a as Me,e as p,b as T,c as _,d as y,x as Q,h as j,f as h,j as m,l as Y,m as o,u as ue,z as Ee,v as Pe,B as Be,C as De,D as xe,t as U,i as L,n as Z,p as de,y as Ce}from"../chunks/scheduler.CUIDQL-i.js";import{S as Ve,i as Ae,b as fe,d as me,m as he,a as pe,t as _e,e as ve}from"../chunks/index.DvDG_np6.js";import{e as ye}from"../chunks/each.DQcc57QZ.js";import{I as ge}from"../chunks/Icon.jS-m3xkb.js";import{i as Ne,a as Te,b as je,c as Fe,d as Re,e as He,f as Oe}from"../chunks/createPokeBody.B3WQ_gmC.js";import{p as We}from"../chunks/collections.CVaw1mrQ.js";import{f as be}from"../chunks/numerics.BpAOxbdF.js";async function Ue({fetch:u}){await ce(u,"load to cache");const s=await t();async function t(){const n=Array.from({length:we},(l,i)=>Se+i).map(async l=>{const i=await ce(window.fetch,l.toString());return i&&i.imageUrl!==null?a(l,i):null});return(await Promise.all(n)).filter(l=>l!==null)}function a(e,n){return{jaName:n.jaName,imageUrl:n.imageUrl??"not_found",weight:n.weight}}return{pokeItems:s}}const rt=Object.freeze(Object.defineProperty({__proto__:null,load:Ue},Symbol.toStringTag,{value:"Module"}));function Le(u,s,t){const{Bodies:a,Composite:e,Constraint:n}=Matter,r=e.create(),l=a.rectangle(t.x,t.y,u,s,{label:"seesawStick",restitution:1,friction:.8,mass:5,render:{fillStyle:"#888888"}}),i=n.create({pointA:{x:t.x,y:t.y},bodyB:l,pointB:{x:0,y:0},stiffness:1,length:0});return e.add(r,l),e.add(r,i),{seesaw:r,seesawStick:l}}function ke(u,s,t){const a=u.slice();return a[20]=s[t],a}function ze(u){let s,t;return{c(){s=p("span"),t=U(u[4]),this.h()},l(a){s=_(a,"SPAN",{class:!0});var e=y(s);t=L(e,u[4]),e.forEach(h),this.h()},h(){m(s,"class","text-lg")},m(a,e){Y(a,s,e),o(s,t)},p(a,e){e&16&&Z(t,a[4])},d(a){a&&h(s)}}}function Ke(u){let s,t=ye(u[3]),a=[];for(let e=0;e<t.length;e+=1)a[e]=Ie(ke(u,t,e));return{c(){for(let e=0;e<a.length;e+=1)a[e].c();s=de()},l(e){for(let n=0;n<a.length;n+=1)a[n].l(e);s=de()},m(e,n){for(let r=0;r<a.length;r+=1)a[r]&&a[r].m(e,n);Y(e,s,n)},p(e,n){if(n&8){t=ye(e[3]);let r;for(r=0;r<t.length;r+=1){const l=ke(e,t,r);a[r]?a[r].p(l,n):(a[r]=Ie(l),a[r].c(),a[r].m(s.parentNode,s))}for(;r<a.length;r+=1)a[r].d(1);a.length=t.length}},d(e){e&&h(s),Ce(a,e)}}}function Ie(u){let s,t,a,e=u[20].jaName+"",n,r,l,i,k=be(u[20].weight,"weight")+"",E,I;return{c(){s=p("div"),t=p("span"),a=U("["),n=U(e),r=U("]"),l=T(),i=p("span"),E=U(k),I=T(),this.h()},l(d){s=_(d,"DIV",{class:!0});var f=y(s);t=_(f,"SPAN",{class:!0});var g=y(t);a=L(g,"["),n=L(g,e),r=L(g,"]"),g.forEach(h),l=j(f),i=_(f,"SPAN",{class:!0});var w=y(i);E=L(w,k),w.forEach(h),I=j(f),f.forEach(h),this.h()},h(){m(t,"class","text-base"),m(i,"class","text-xl bold"),m(s,"class","flex flex-col items-center")},m(d,f){Y(d,s,f),o(s,t),o(t,a),o(t,n),o(t,r),o(s,l),o(s,i),o(i,E),o(s,I)},p(d,f){f&8&&e!==(e=d[20].jaName+"")&&Z(n,e),f&8&&k!==(k=be(d[20].weight,"weight")+"")&&Z(E,k)},d(d){d&&h(s)}}}function qe(u){let s,t,a='<h1 class="cTitleStyle">ポケモンおもさくらべ 改</h1>',e,n,r,l,i,k="ポケモン を よびだす",E,I,d,f,g,w,A,N,S,H,D,x,c,O="こたえあわせ",b,M,P,V,G,F,W,J,$;g=new ge({props:{icon:"mdi:pokeball",class:"cIconStyle"}}),V=new ge({props:{icon:"mdi:pokeball",class:"cIconStyle"}});function ee(v,C){return v[2]?Ke:ze}let z=ee(u),B=z(u);return{c(){s=p("div"),t=p("div"),t.innerHTML=a,e=T(),n=p("div"),r=p("div"),l=p("div"),i=p("span"),i.textContent=k,E=T(),I=p("form"),d=p("button"),f=p("div"),fe(g.$$.fragment),A=T(),N=p("div"),S=p("div"),H=T(),D=p("div"),x=p("div"),c=p("span"),c.textContent=O,b=T(),M=p("button"),P=p("div"),fe(V.$$.fragment),G=T(),F=p("div"),B.c(),this.h()},l(v){s=_(v,"DIV",{class:!0});var C=y(s);t=_(C,"DIV",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-ooobby"&&(t.innerHTML=a),e=j(C),n=_(C,"DIV",{class:!0});var R=y(n);r=_(R,"DIV",{class:!0});var te=y(r);l=_(te,"DIV",{class:!0});var K=y(l);i=_(K,"SPAN",{class:!0,"data-svelte-h":!0}),Q(i)!=="svelte-mp7i3f"&&(i.textContent=k),E=j(K),I=_(K,"FORM",{});var se=y(I);d=_(se,"BUTTON",{type:!0,class:!0});var ae=y(d);f=_(ae,"DIV",{class:!0});var ne=y(f);me(g.$$.fragment,ne),ne.forEach(h),ae.forEach(h),se.forEach(h),K.forEach(h),te.forEach(h),A=j(R),N=_(R,"DIV",{class:!0});var re=y(N);S=_(re,"DIV",{class:!0}),y(S).forEach(h),re.forEach(h),H=j(R),D=_(R,"DIV",{class:!0});var q=y(D);x=_(q,"DIV",{class:!0});var X=y(x);c=_(X,"SPAN",{class:!0,"data-svelte-h":!0}),Q(c)!=="svelte-1mxmuak"&&(c.textContent=O),b=j(X),M=_(X,"BUTTON",{type:!0,class:!0});var le=y(M);P=_(le,"DIV",{class:!0});var oe=y(P);me(V.$$.fragment,oe),oe.forEach(h),le.forEach(h),X.forEach(h),G=j(q),F=_(q,"DIV",{class:!0});var ie=y(F);B.l(ie),ie.forEach(h),q.forEach(h),R.forEach(h),C.forEach(h),this.h()},h(){m(t,"class","cTitlePartStyle"),m(i,"class","text-lg"),m(f,"class","cIconDivStyle"),m(d,"type","submit"),d.disabled=w=!u[1],m(d,"class","cIconButtonStyle"),m(l,"class","cInputFormAndMessagePartStyle"),m(r,"class","flex items-center justify-center"),m(S,"class","w-80 h-80 bg-gray-300 border border-black"),m(N,"class","m-4"),m(c,"class","text-lg"),m(P,"class","cIconDivStyle"),m(M,"type","button"),m(M,"class","cIconButtonStyle"),m(x,"class","cInputFormAndMessagePartStyle justify-center"),m(F,"class","cInputFormAndMessagePartStyle justify-center"),m(D,"class","m-4 mt-2 space-y-4"),m(n,"class","cContentPartStyle"),m(s,"class","cRouteBodyStyle")},m(v,C){Y(v,s,C),o(s,t),o(s,e),o(s,n),o(n,r),o(r,l),o(l,i),o(l,E),o(l,I),o(I,d),o(d,f),he(g,f,null),o(n,A),o(n,N),o(N,S),u[8](S),o(n,H),o(n,D),o(D,x),o(x,c),o(x,b),o(x,M),o(M,P),he(V,P,null),o(D,G),o(D,F),B.m(F,null),W=!0,J||($=[ue(I,"submit",Ee(u[5])),ue(M,"click",u[6])],J=!0)},p(v,[C]){(!W||C&2&&w!==(w=!v[1]))&&(d.disabled=w),z===(z=ee(v))&&B?B.p(v,C):(B.d(1),B=z(v),B&&(B.c(),B.m(F,null)))},i(v){W||(pe(g.$$.fragment,v),pe(V.$$.fragment,v),W=!0)},o(v){_e(g.$$.fragment,v),_e(V.$$.fragment,v),W=!1},d(v){v&&h(s),ve(g),u[8](null),ve(V),B.d(),J=!1,Pe($)}}}let Xe=!1,Ye=2;function Ge(u,s,t){let{data:a}=s,e,n,r,l,i,k,E,I,d;Be(async()=>{l=Ne(),i=Te(),k=je(l,e),n=e.clientWidth*.5,r=e.clientHeight*.5,E=Fe(l,k);const c=await Re(e),O=e.clientHeight*.8;({seesaw:I,seesawStick:d}=Le(O,20,{x:n,y:r*1.4}));{Matter.World.add(l.world,c),Matter.World.add(l.world,I),Matter.Runner.run(i,l),Matter.Render.run(k);let b=He(l.world,E,e,{isHolding:Xe});if(!b)return;Object.entries(b).forEach(([M,P])=>{e.addEventListener(M,P)})}}),De(()=>{{Matter.Render.stop(k),Matter.Runner.stop(i),Matter.World.clear(l.world,!1),Matter.Engine.clear(l);return}});let f=!0,g=!1,w=[],A=[];async function N(){t(1,f=!1),t(4,S="じゅんびちゅう..."),D(),t(3,w=We(a.pokeItems,Ye));const c=w.map(b=>Oe(b.imageUrl,!1,{x:0,y:0}));(await Promise.all(c)).forEach((b,M)=>{const P=b.bounds,V=P.max.y-P.min.y;Matter.Body.setPosition(b,{x:n+(M===0?-n*.6:n*.6),y:r*.8-V*.5}),Matter.Body.setMass(b,w[M].weight/10),Matter.Body.setStatic(b,!0),Matter.World.add(l.world,[b]),A.push(b)}),await new Promise(b=>setTimeout(b,500)),t(4,S="じゅんび かんりょう！"),t(1,f=!0)}let S="";function H(){if(w.length==0){t(4,S="さきに ポケモンを よびだしてね");return}if(f===!1){t(4,S="じゅんびちゅう...");return}g===!1&&A.forEach(c=>{Matter.Body.setStatic(c,!1),Matter.Body.applyForce(c,c.position,{x:0,y:c.mass*.01}),Matter.Body.setVelocity(c,{x:0,y:0}),Matter.Body.setAngularVelocity(c,0)}),t(2,g=!0)}function D(){t(4,S=""),t(2,g=!1),A.forEach(c=>Matter.World.remove(l.world,c)),A=[],d&&(Matter.Body.setAngle(d,0),Matter.Body.setAngularVelocity(d,0),Matter.Body.setPosition(d,{x:n,y:r*1.5}))}function x(c){xe[c?"unshift":"push"](()=>{e=c,t(0,e)})}return u.$$set=c=>{"data"in c&&t(7,a=c.data)},[e,f,g,w,S,N,H,a,x]}class lt extends Ve{constructor(s){super(),Ae(this,s,Ge,qe,Me,{data:7})}}export{lt as component,rt as universal};
